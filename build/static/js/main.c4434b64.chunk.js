(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{262:function(e,t,a){e.exports=a.p+"static/media/nav-logo.95664742.png"},263:function(e,t,a){},285:function(e,t,a){},300:function(e,t,a){e.exports=a.p+"static/media/fogg-logged-out-1.81182dc8.png"},318:function(e,t,a){e.exports=a(670)},553:function(e,t,a){},555:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAKhSURBVGhD7ZhPi9NAGMYrwnoQxbNePYlus3oTzehhj9pE6clVr1a3+xX8CKJ4EN0me9p0g4dFk8CeFAT/gKgsoiSgX8CDUkT0FN83eUeG5aU0bTPpSn7wQDt/nnneTAbaadTU1EyO73+cc9fjFcdL3jj95KfbT1JO2Od48Su3H3dxDk2vlrWN+AgEf88FHianH79bXf98mGyq4W6U7HO9ZJsLOIqwiEp3Al8bLlgRwSu1THb6gQCvdwYqKjwTZKefYQd2ZHnJgOz0s3TreTpMMiTXp4rs9MOFUTXzBciAk4rs9MOFGUdkpx/udVAlA3J9qshOP1wYVTNfgAw4qchOP1yYcUR2+hB2mKK410GVDMj1qZJ+ZF8+/00BMuCkqgsoilyQex1UyYBcn6q6gKLIBaf1c7q6ArI/6EyoAkKPygrA2wUuVBHBLt7UXoBpBT9wweu3nx0a50ZCCp7+2yvd6CB6oSfZl4+wg21c9MzlaB6vRvB2gQs4TBge54pWYOQFhB/IvnxMO3hIi97D73g1AoGWQS/xUHKBM0Efjul5SUdepwgruI9ewgof4HctnLeCU1kBdvD7rP3kJDUXJvOxwj9ZAbAT1KwH+eRMO/xutqIL1Dwypv3UlmdJ7qRWjrX9OdiBx9nTy3fjBTzNG2YrPLG4uLWfhv0D2/DMCCvqZGNpHshHLxqmm3QPhFmBXfimBBpJ+Zygix5kVh2nL24egEDXIJgP+go78UsNmwnbrPALfN4Ql4Kr3C7NFDsLoObdQ11A1dQFVM2uKaDd9vfOi9XjTdFbMkznjiGcraZwPi2cW0sNkQs/Yxv24Rgci3NwLtnoZUE8OmqIXqdpupuGcAcgCDqWBrlHr4OeZF8+TJCpiOzLh1t8GiL7mhp9NBp/AS3g8WJeufDqAAAAAElFTkSuQmCC"},556:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAATgSURBVHhe7ZjtT1tVHMfr3Iv5YomZi/4DJvOFMdHoC2MiEdqiuAd11tAOw8Kt+EKjMS4qD25LZMa9oC1xVgxPwd4hg7ZDYIMZJzgRGS90RDZAkT1oG0SeVhhQOvh5Tvuj3LYHym7p7dqcT/JNLuf8zi/n++3p4aYqDofD4XA4HKUAgHssot1gER0XiGapzDZHp9nm1NM5LEtNGhoa7iVGT1pEJ7BE52gNlqcexODhoGGbw2exObsCIs+r4x9jeWpReurUfeS4ewJGHR5TbeOTOKUipp8i4czQObPouFlTU7MNp1IHs2h/Nvgpi44SHA5iFp3HVuZpLQ6nDmbx9IcrBk2ioxSHg9CxlXmLePoDHE4dyNFeDcDmuI7DQcxfO/9eDcCeegEE/vWtGCSy2bvL6poepyJ//xIyR2pxWWJJy829X2MQjhENqQ1Gr8ZgBLk6eOiwxOD6orWsHhtVYK/CEHkuoR7Qzp2hzREeVuuFkfDmcqVkAKEShqkXtLUx0tKObCWL+yKbyVfiAvDrV51Ot/EXrAz9G/sZTWJSggMArT7vJbQXHXL0T0gXHzV9AXPzC+RVXT6usXGmWZbcYxO4Sh50r0dKT4QEQPQ52ouORm88KV18vqsHW8tnaXkZvmnrYBqWqr69A5ZJbazQPUs9UE9oLzoRAfwcewAU76IPen8fhLM/9cKZCxdDRMd6+4dg0Xcbq2OD7lnq4a4IQEl4ADyABATgcrmgu7sbOjs7YWIitps8VhQNYGpqCgoKCiA9PT2ooqIicLvdWKE8igXg8/kgPz8/xPyKNBoNtLa2YiWb3waHN0XX3KPYMYBiAVCD4cZf368G03uZoFWnQ6ZWAx6PB6sjYZmRo4QFUHjobTSdAZWFmfBn7YsAbXv8+tHygj+Ejo4OrI6EZUaOEhbAwQM66K/MCpoOV0VBJjQ2NmJ1JCwzcpSwAAy6vTDbtJtpnqru6PNQL1ZjdSQsM3KUmADGL8GA9WlYaNkDfWXPwNXK54LG24ufAO+3WXC5KgsWmsnXYg2mPDObolvz89gxgDIB+OYALhb6DftadsPS2dWT4KWm6fO5lwFutOEC5VAmAMrsP8To3qDxCPUWY6GyKBcApa+Ubb59H8BkPxaxYX2f5Shhl6CfJS/AD7nEtOQybNUAXGvGgrVhmZGjxAZA6fkIoGIbQO1DADUPAHy1BWDmOk6uzVXX6KZobHIaOwZQLICphQUwXeqFNxtLwF2+HaBc5deZ8l2Q950dzt0YwUplUSSAppE/YGd1Gaisn/m11fop7LK+Dw9ai4NjVOrmevh37hauUoa4B2D/axC2fHk8xOh6eqSuAqa9kT+sso4zS+FHPBpxDWBm0Qs7qixMo+vp3a7vscMqrAuNpfBLLhpxDaDySh/TYDRtrzCBdyn0R0+WWZbuqgDoJ8kyuBFdmRzHLvElrgH0jLqgYXhAlv6bJ6/PCnA+ngEkAzyAmAIwGKuli0VnC7ZNHuiepR7UemMV2ouOxiC8I12cmZMPhcct8ElZeVKI7pXuWeqB6C20F500ff5OktjNsAZJLGFa+6qwA+1tDHW28TW1wXib3TB5RD2oDcIraOvO0GYLGrJ4gNU4KaQ3XlYfyMtAO/JJzxYeyzAY95GjpEsG+feak/cobp/D4XA4HA6Hw4lApfofDkZUmAdTtz0AAAAASUVORK5CYII="},557:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAMwSURBVHhe7ZqxTxNhGMaLDOr/ACLKYoLi4F0wMSQUB2e1iCTuGmVwUCKJxkETiUzI4OKgAQcH22obKIaiQi0DbQkBr+WOoCGok5G2M6/3Nd81l/at/a7XS3r4PskvNN/33tP3eUhIaOohkUikeig4t3AvMBf74Y/Gdthrflw3Oe1vS4H52EAgGgMzwbkvPn5tW07725Y/uviidEF2xq9ty2l/2wpEF6dKF2Rn/Nq2nPb/p8Djacr1SYP5PvlTzivn9Z9QytKz8ZLlYoUzbLYWrPgXdvTKH3O98lW2O49Rm8Dna9bNprA3MoMuOO5wASL+XnmSZeBxrEs3eIAam8h6ZYiMjpUtOPPkKeSQeavY9vfKIzyONe11dx/Oe6Vd1NTE+ukT8P7xaNmC7IzdYc9Ywba/nmHvQsdBHktc2V6pBzUsIXq0reKC0fY29Bkr1MOfZeGxxJU7L/VjZqXMtLTAu4ePyhZkZ5HWFvQZK9TDn2XhscTF//KjhmYWOo5B+JKvbMHwRR8sHG9Hn7FCPfxZFh5LXKIFfJNOwrT+WwrduAXBt6ECoes3C2ff5VPoM1aoh7+jBTA2pU6YPdJaWIrBXm+e6URna8Guv+MFMHZ7Jdju7oLts12F19iMHez411TA72uXhzAzN8Ky8Fji2rl/dwIzcyMsC48lrv++gIzfP6S+noL9AMvCY4krqWiDqbQG+wGWhccSFxVABVABVABm5kYcL+BDPFH235qZxdRacRa7N2PMsWewewP2nsZsNagAKoAKoAJ4LHFRAVQAFSBcQKNDBThdwNKqArHUekWW1zPFWezejDG3Fl9CP9wwUKYjxdlqOF6AE38DtMmX6MdbBj+Hbxdnq0EFUAFUABXAY4mLCqACxAv4nFiF2fhyReKrX4uz2L0ZY04Jh+HXnaGKbD2fKM5Ww/ECGh0qgAqooYBUWu3HzNyJav1LUolMpgc3cx8r6c1zPJa45re2DqUUbRczdBWK+mdjY8P6FyWZkoo6gpq6i2Eex7reADQn0+okYuoOFO0VABzgcWqTbtCUyGgDybQ2r5NF36iBYDuyXVfS6hUegUQikUgkEgmRx/MXXDTSknMRZ2UAAAAASUVORK5CYII="},558:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAShSURBVHhe7Zrdb9tUGIeDBBcgtDsuuGEIGBJ/wBjaVadpK8R17HTdGG2HRqdNILp1sDFRNMQtQkJs2icIkBDrx6B1sqW0a0pSREvaVP1Yk7JmXZuUW66QEBJcvfh17S623/gjTRwn8U96rnKOc35Pek6cND4vXrx48eLFeppuNz3BDgZfYQWeY4TgQTeAa/GHA7tabrY8Li+z9GEGmncwIa6XEfh/mkI8uBFcm0gPe4t9QV52acKGuGNi+f+oJ3UlAv+vKKJDXv7WguXJJ6kGwoG35BrF5TWBf7GqXnkNuPZXBf55uY794H6iLlxdcDfkOvaCJ6qbDzyriH8Ffxf17iCWf5m6YFUyGNwp17IeJhwIkhdzCD7cAp2jXdAdPw+nx87A4Ug7Oc4K2EWuZT3i3mmlLlZu2obehO9ne+B+9j6sr69vspZbk0RQc8zhWuVa1mNXwLlYN0zcm9zCInk4GT0NS6tLquJIbj0Hn058Rs6xRpkFnIt9KL1CymJ/nB+UXklqbCE6hk/A8lqmDOWRMgv4KP6xbuGZbAY+n7xAjqeILo3prlGa8ogDW+Cn1LCuAEKN1fJu9JRunln5YyMnRMFfkI/pcUBAx8hxWM2t6opw4QPk+HyuTF1TzbFSPvUgDYlMgnxcjwMCkGvTX6qKIJHFIVMJ/fM3VXN6ZvvIcYhSHsfhNqPG6HFIQPOtQ/DD/AAIC2FYfJDaLHR7MWIooW9OLQAP1PPjn+jG5ZdH8K1SO4bGIQH5dAwfFyUsbi7WSMLlqaub4xS0ErTlEddtAS341mZFwjujnapiCooEqjzyVfJr3bVoKiQA0UrQnglsKAg9c72qYvms5bLkzdFKdgXah46qnqswFRSAbEjYOBPS6TREJ6IQDB80LW+EvfuDCgtAUELy7gzE43GIxWIwKkrom+snyxmRy+XgYuIS+RyFcYEApGvkDIz/Mi4JSKUevktoWVi5q7stzopb4U56FDqjXeS1jXGJAOT9O2elbZBfLp9kZgZah45I5wTeIUofh6Nb+zjsGgFme/7XhWlojRwh524NFwgwKx9LTsFTbRw8c3Y/fq1NXqN4KiwAy9+YNS/vYxskSi+hggLMyv88nVCVL4+ECgkwKz+1nIRn327WlVconYQKCDArP51JSqf9vt4APNm+lxSAlEaCwwKsllfGl1+CgwLsllcorwSHBBRbXsFMwvYPipXgkIBvZr4liyNm5RXMJDzX3UjOM8YBAfiZHb/LK1T+DRt3eIYSAg2w5zuWnFcYBwTgP0ZKUV7BSMKuyww5pzAOCHg90ga/r94rSXkFSsJjLXugsZ8jxxfGoTPg1Nh7MLn8m/RRFr8YPSxKocbZYV8vB0+f3A+PHmiAbUf3wu7rTeQ4YxwS4FaYENco17KeWhLgF/iX5FrWUysCGIH/Q65kLzUkoFuuZC+1IYBbwV+2ypXspfoFcH8WtfeVVLMA8dRP+Aeat8tViks1CcAfROJhJ665T4T1ge8RuUbxMRbA/eUPcbvlobWZwgLqoDyGFlAn5TF6AXVUHqMWUGflMQ8F1GF5zIaAOi2P8Q8Gmbot78WLlzqJz/c/bKtCc4e6PpQAAAAASUVORK5CYII="},565:function(e,t,a){},670:function(e,t,a){"use strict";a.r(t);var r={};a.r(r),a.d(r,"userSignInWatchSaga",function(){return le}),a.d(r,"userSignOutWatchSaga",function(){return ue}),a.d(r,"watchSetUpUserSaga",function(){return me});var n={};a.r(n),a.d(n,"loadOfficeUsersWatchSaga",function(){return Be}),a.d(n,"loadConferenceRoomsWatchSaga",function(){return Ge}),a.d(n,"loadHotDesksWatchSaga",function(){return _e}),a.d(n,"createUserForOfficeAdmin",function(){return qe}),a.d(n,"removeUserForOfficeAdmin",function(){return Ke}),a.d(n,"editUserForOfficeAdmin",function(){return Ye}),a.d(n,"createConferenceRoomOfficeAdmin",function(){return ze}),a.d(n,"editConferenceRoomForOfficeAdmin",function(){return Xe}),a.d(n,"createHotDeskOfficeAdmin",function(){return We}),a.d(n,"editHotDeskForOfficeAdmin",function(){return Ze});var i={};a.r(i),a.d(i,"loadNotificationsWatchSaga",function(){return kt});var s=a(0),o=a.n(s),c=a(9),l=a.n(c),u=a(31),m=a(54),d=a(316),f=a(25),p=a(14),h=a.n(p),v=a(8),g="SIGN_IN_USER",b="SIGN_IN_USER_SUCCESS",A="SIGN_IN_USER_ERROR",O="SIGN_OUT_USER",E="SIGN_OUT_USER_SUCCESS",y="SIGN_OUT_USER_ERROR",U="SET_UP_USER",k="SET_UP_USER_SUCCESS",F="SET_UP_USER_ERROR",D="LOAD_OFFICE_USER",C="LOAD_OFFICE_USER_SUCCESS",I="LOAD_OFFICE_USER_ERROR",j="LOAD_CONFERENCE_ROOM",R="LOAD_CONFERENCE_ROOM_SUCCESS",L="LOAD_CONFERENCE_ROOM_ERROR",w="LOAD_HOT_DESKS",S="LOAD_HOT_DESKS_SUCCESS",x="LOAD_HOT_DESKS_ERROR",N="LOAD_NOTIFICATIONS",P="LOAD_NOTIFICATIONS_SUCCESS",T="LOAD_NOTIFICATIONS_ERROR",M="CREATE_USER_FOR_OFFICEADMIN",V="CREATE_USER_FOR_OFFICEADMIN_FINISHED",H="REMOVE_OFFICE_USER",B="REMOVE_OFFICE_USER_FINISHED",G="EDIT_OFFICE_USER",_="EDIT_OFFICE_USER_FINISHED",q="ADD_CONF_ROOM",K="ADD_CONF_ROOM_FINISHED",Y="EDIT_CONF_ROOM",z="EDIT_CONF_ROOM_FINISHED",X="ADD_HOT_DESK",W="ADD_HOT_DESK_FINISHED",Z="EDIT_HOT_DESK",Q="EDIT_HOT_DESK_FINISHED",J=function(e){return e.firebase.firebase},$=function(e){return e.auth.adminOfficeList},ee=a(16),te=function e(t){Object(ee.a)(this,e);var a=t.uid||null;if(null===a)return null;var r=t.name||null,n=t.building||null,i=t.floor||null,s=t.roomNo||null;this.uid=a,this.name=r,this.building=n,this.floorNo=i,this.roomNo=s},ae=(a(126),a(224),a(672)),re=h.a.mark(le),ne=h.a.mark(ue),ie=h.a.mark(me),se=h.a.mark(fe),oe=h.a.mark(he),ce=h.a.mark(ge);function le(){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(v.d)(g,fe);case 2:case"end":return e.stop()}},re,this)}function ue(){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(v.d)(O,he);case 2:case"end":return e.stop()}},ne,this)}function me(){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(v.d)(U,ge);case 2:case"end":return e.stop()}},ie,this)}function de(e,t){var a=e.email||null,r=e.password||null,n="session";return!0===(e.rememberMe||!1)&&(n="local"),t.auth.setPersistence(n).then(function(){return t.auth.signInWithEmailAndPassword(a,r)}).catch(function(e){throw console.log("sign in error reached"),e})}function fe(e){var t;return h.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(v.c)(J);case 3:return t=a.sent,a.next=6,Object(v.a)(de,e.payload,t);case 6:return a.sent,a.next=9,Object(v.b)({type:b});case 9:a.next=16;break;case 11:return a.prev=11,a.t0=a.catch(0),ae.a.error({message:"Unable to sign in user.",description:a.t0.message}),a.next=16,Object(v.b)({type:A,payload:{error:a.t0}});case 16:case"end":return a.stop()}},se,this,[[0,11]])}function pe(e){return e.auth.signOut().catch(function(e){throw e})}function he(e){var t;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(v.c)(J);case 3:return t=e.sent,e.next=6,Object(v.a)(pe,t);case 6:return e.sent,console.log("SIGN OUT CALL SUCCESSFUL"),e.next=10,Object(v.b)({type:E});case 10:e.next=18;break;case 12:return e.prev=12,e.t0=e.catch(0),console.error(e.t0),ae.a.error({message:"Unable to sign out user.",description:e.t0.message}),e.next=18,Object(v.b)({type:y,payload:{error:e.t0}});case 18:case"end":return e.stop()}},oe,this,[[0,12]])}function ve(e,t){var a=e.uid||null;return null==a?null:t.functions.httpsCallable("getUserInfo")({uid:a}).then(function(e){var t=e.data,a=[];for(var r in t.officeAdmin){var n=t.officeAdmin[r],i=new te(n);i&&a.push(i)}t.officeAdmin=a;var s=[];for(var o in t.offices){var c=t.offices[o],l=new te(c);l&&s.push(l)}return t.offices=s,t})}function ge(e){var t,a;return h.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(v.c)(J);case 3:return t=r.sent,r.next=6,Object(v.a)(ve,e.payload,t);case 6:return a=r.sent,r.next=9,Object(v.b)({type:k,payload:{data:a}});case 9:r.next=17;break;case 11:return r.prev=11,r.t0=r.catch(0),console.error(r.t0),ae.a.error({message:"Unable to set up portal for user",description:r.t0.message}),r.next=17,Object(v.b)({type:F,payload:{error:r.t0}});case 17:case"end":return r.stop()}},ce,this,[[0,11]])}var be=function e(t){Object(ee.a)(this,e);var a=t.uid||null;if(null===a)return null;var r=t.firstName||null,n=t.lastName||null,i=t.email||null,s=t.type||null,o=t.offices||null,c=t.officeAdmin||null;this.profileImageURL=t.profileImageURL||null,this.uid=a,this.name=r+" "+n,this.firstName=r,this.lastName=n,this.email=i,this.type=s;var l=[];for(var u in o){var m=new te(o[u]);m&&l.push(m)}this.offices=l;var d=[];for(var f in c){var p=new te(o[f]);p&&d.push(p)}this.officeAdmins=d},Ae=function e(t){Object(ee.a)(this,e);var a=t.uid||null;if(null===a)return null;var r=t.name||null,n=t.offices||null,i=t.amenities||null,s=t.capacity||null,o=t.address||null,c=t.active||null,l=t.reserveable||null,u=t.imageURL||null;this.uid=a,this.name=r;var m=[];for(var d in n){var f=new te(n[d]);f&&m.push(f)}this.offices=m,this.amenities=i,this.capacity=s,this.address=o,this.active=c,this.reserveable=l,this.imageURL=u},Oe=function e(t){Object(ee.a)(this,e);var a=t.uid||null;if(null===a)return null;var r=t.name||null,n=t.offices||null,i=t.active||null,s=t.reserveable||null,o=t.imageURL||null;this.uid=a,this.name=r;var c=[];for(var l in n){var u=new te(n[l]);u&&c.push(u)}this.offices=c,this.active=i,this.reserveable=s,this.imageURL=o},Ee=h.a.mark(Be),ye=h.a.mark(Ge),Ue=h.a.mark(_e),ke=h.a.mark(qe),Fe=h.a.mark(Ke),De=h.a.mark(Ye),Ce=h.a.mark(ze),Ie=h.a.mark(Xe),je=h.a.mark(We),Re=h.a.mark(Ze),Le=h.a.mark($e),we=h.a.mark(tt),Se=h.a.mark(rt),xe=h.a.mark(it),Ne=h.a.mark(ot),Pe=h.a.mark(lt),Te=h.a.mark(mt),Me=h.a.mark(ft),Ve=h.a.mark(ht),He=h.a.mark(gt);function Be(){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(v.d)(D,tt);case 2:case"end":return e.stop()}},Ee,this)}function Ge(){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(v.d)(j,rt);case 2:case"end":return e.stop()}},ye,this)}function _e(){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(v.d)(w,it);case 2:case"end":return e.stop()}},Ue,this)}function qe(){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(v.d)(M,$e);case 2:case"end":return e.stop()}},ke,this)}function Ke(){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(v.d)(H,ot);case 2:case"end":return e.stop()}},Fe,this)}function Ye(){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(v.d)(G,lt);case 2:case"end":return e.stop()}},De,this)}function ze(){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(v.d)(q,mt);case 2:case"end":return e.stop()}},Ce,this)}function Xe(){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(v.d)(Y,ft);case 2:case"end":return e.stop()}},Ie,this)}function We(){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(v.d)(X,ht);case 2:case"end":return e.stop()}},je,this)}function Ze(){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(v.d)(Z,gt);case 2:case"end":return e.stop()}},Re,this)}function Qe(e,t){if(null==t)throw ae.a.error({message:"Permission denied.",description:"Current user is not a admin for this office."}),new Error("Current user is not a admin for this office..");if(0==t.map(function(t){return t.uid==e}).includes(!0))throw ae.a.error({message:"Permission denied.",description:"Current user is not a admin for this office."}),new Error("Current user is not a admin for this office.")}function Je(e,t){var a={firstName:e.firstName,lastName:e.lastName,email:e.emailAddress,makeUserOfficeAdmin:e.makeUserOfficeAdmin,selectedOfficeUID:e.officeUID,type:"regular"};return t.functions.httpsCallable("addUserToOffice")(a).then(function(e){return console.log("createUserApiCall-success"),null})}function $e(e){var t,a,r,n,i,s,o;return h.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,t=e.payload,a=t.officeUID,c.next=5,Object(v.c)($);case 5:return r=c.sent,Qe(a,r),c.next=9,Object(v.c)(J);case 9:return n=c.sent,c.next=12,Object(v.a)(Je,t,n);case 12:return c.sent,ae.a.success({message:"Successfully added new user.",description:""}),i={hideFormRef:t.hideFormRef},c.next=17,Object(v.b)({type:V,payload:Object(f.a)({},i)});case 17:c.next=27;break;case 19:return c.prev=19,c.t0=c.catch(0),console.error(c.t0),ae.a.error({message:"Unable to add user.",description:c.t0.message}),s=e.payload,o={hideFormRef:s.hideFormRef},c.next=27,Object(v.b)({type:V,payload:Object(f.a)({},o)});case 27:case"end":return c.stop()}},Le,this,[[0,19]])}function et(e,t){var a=e.officeUID||null;return t.functions.httpsCallable("getAllUsersForOffice")({officeUID:a}).then(function(e){var t=e.data,a=[];for(var r in t){var n=t[r],i=new be(n)||null;null!==i&&a.push(i)}return a})}function tt(e){var t,a,r,n;return h.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,t=e.payload.officeUID,i.next=4,Object(v.c)($);case 4:return a=i.sent,Qe(t,a),i.next=8,Object(v.c)(J);case 8:return r=i.sent,i.next=11,Object(v.a)(et,e.payload,r);case 11:return n=i.sent,i.next=14,Object(v.b)({type:C,payload:{userList:n}});case 14:i.next=22;break;case 16:return i.prev=16,i.t0=i.catch(0),console.error(i.t0),ae.a.error({message:"Unable to load Users for this office.",description:i.t0.message}),i.next=22,Object(v.b)({type:I,payload:{error:i.t0}});case 22:case"end":return i.stop()}},we,this,[[0,16]])}function at(e,t){var a=e.officeUID||null;return t.functions.httpsCallable("getAllConferenceRoomsForOffice")({selectedOfficeUID:a}).then(function(e){var t=e.data,a=[],r=[];for(var n in t){var i=t[n];for(var s in i){var o=i[s],c=new Ae(o)||null;null!==c&&("active"==n?a.push(c):r.push(c))}}return{active:a,inactive:r}})}function rt(e){var t,a,r,n;return h.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,t=e.payload.officeUID,i.next=4,Object(v.c)($);case 4:return a=i.sent,Qe(t,a),i.next=8,Object(v.c)(J);case 8:return r=i.sent,i.next=11,Object(v.a)(at,e.payload,r);case 11:return n=i.sent,i.next=14,Object(v.b)({type:R,payload:{activeRoomsList:n.active,inactiveRoomsList:n.inactive}});case 14:i.next=22;break;case 16:return i.prev=16,i.t0=i.catch(0),console.error(i.t0),ae.a.error({message:"Unable to load Conference Rooms for this office.",description:i.t0.message}),i.next=22,Object(v.b)({type:L,payload:{error:i.t0}});case 22:case"end":return i.stop()}},Se,this,[[0,16]])}function nt(e,t){var a=e.officeUID||null;return t.functions.httpsCallable("getAllHotDesksForOffice")({selectedOfficeUID:a}).then(function(e){var t=e.data,a=[],r=[];for(var n in t){var i=t[n];for(var s in i){var o=i[s],c=new Oe(o)||null;null!==c&&("active"==n?a.push(c):r.push(c))}}return{active:a,inactive:r}})}function it(e){var t,a,r,n;return h.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,t=e.payload.officeUID,i.next=4,Object(v.c)($);case 4:return a=i.sent,Qe(t,a),i.next=8,Object(v.c)(J);case 8:return r=i.sent,i.next=11,Object(v.a)(nt,e.payload,r);case 11:return n=i.sent,i.next=14,Object(v.b)({type:S,payload:{activeDesksList:n.active,inactiveDesksList:n.inactive}});case 14:i.next=22;break;case 16:return i.prev=16,i.t0=i.catch(0),console.error(i.t0),ae.a.error({message:"Unable to load Hot Desks for this office.",description:i.t0.message}),i.next=22,Object(v.b)({type:x,payload:{error:i.t0}});case 22:case"end":return i.stop()}},xe,this,[[0,16]])}function st(e,t){var a=e.officeUID,r=e.userUID;return t.functions.httpsCallable("removeUserFromOffice")({selectedOfficeUID:a,selectedUserUID:r}).then(function(){return console.log("removeUserApiCall-success"),null})}function ot(e){var t,a,r,n,i,s,o;return h.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,t=e.payload,a=t.officeUID,c.next=5,Object(v.c)($);case 5:return r=c.sent,Qe(a,r),c.next=9,Object(v.c)(J);case 9:return n=c.sent,c.next=12,Object(v.a)(st,e.payload,n);case 12:return c.sent,ae.a.success({message:"Successfully removed user from this office."}),i={componentRef:t.componentRef},c.next=17,Object(v.b)({type:B,payload:Object(f.a)({},i)});case 17:c.next=27;break;case 19:return c.prev=19,c.t0=c.catch(0),console.error(c.t0),ae.a.error({message:"Unable to remove user from this office.",description:c.t0.message}),s=e.payload,o={componentRef:s.componentRef,formRef:s.formRef},c.next=27,Object(v.b)({type:B,payload:Object(f.a)({},o,{error:c.t0})});case 27:case"end":return c.stop()}},Ne,this,[[0,19]])}function ct(e,t){return t.functions.httpsCallable("editUserForOffice")(Object(f.a)({},e)).then(function(){return console.log("editUserApiCall-success"),null})}function lt(e){var t,a,r,n,i,s,o;return h.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,t=e.payload,a=t.selectedOfficeUID,c.next=5,Object(v.c)($);case 5:return r=c.sent,Qe(a,r),c.next=9,Object(v.c)(J);case 9:return n=c.sent,c.next=12,Object(v.a)(ct,t,n);case 12:return c.sent,ae.a.success({message:"Successfully edited user info."}),i={hideForm:t.hideForm},c.next=17,Object(v.b)({type:_,payload:Object(f.a)({},i)});case 17:c.next=27;break;case 19:return c.prev=19,c.t0=c.catch(0),console.error(c.t0),ae.a.error({message:"Unable to update user info.",description:c.t0.message}),s=e.payload,o={hideForm:s.hideForm},c.next=27,Object(v.b)({type:_,payload:Object(f.a)({},o)});case 27:case"end":return c.stop()}},Pe,this,[[0,19]])}function ut(e,t){return t.functions.httpsCallable("addConferenceRoomForOfficeAdmin")(Object(f.a)({},e,{hideForm:null})).then(function(a){var r=e.photoFileObj;if(r){var n=t.storage.ref(),i=a.data;return n.child("conferenceRoomImages/"+i+".jpg").put(r)}})}function mt(e){var t,a,r,n,i,s,o;return h.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,t=e.payload,a=t.selectedOfficeUID,c.next=5,Object(v.c)($);case 5:return r=c.sent,Qe(a,r),c.next=9,Object(v.c)(J);case 9:return n=c.sent,c.next=12,Object(v.a)(ut,t,n);case 12:return c.sent,ae.a.success({message:"Successfully added conference room."}),i={hideForm:t.hideForm},c.next=17,Object(v.b)({type:K,payload:Object(f.a)({},i)});case 17:c.next=27;break;case 19:return c.prev=19,c.t0=c.catch(0),console.error(c.t0),ae.a.error({message:"Unable to add conference room.",description:c.t0.message}),s=e.payload,o={hideForm:s.hideForm},c.next=27,Object(v.b)({type:K,payload:Object(f.a)({},o)});case 27:case"end":return c.stop()}},Te,this,[[0,19]])}function dt(e,t){return t.functions.httpsCallable("editConferenceRoomForOfficeAdmin")(Object(f.a)({},e,{hideForm:null})).then(function(a){var r=e.photoFileObj;if(r){var n=t.storage.ref(),i=e.selectedRoomUID;return n.child("conferenceRoomImages/"+i+".jpg").put(r)}})}function ft(e){var t,a,r,n,i,s,o;return h.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,t=e.payload,a=t.selectedOfficeUID,c.next=5,Object(v.c)($);case 5:return r=c.sent,Qe(a,r),c.next=9,Object(v.c)(J);case 9:return n=c.sent,c.next=12,Object(v.a)(dt,t,n);case 12:return c.sent,ae.a.success({message:"Successfully edited conference room."}),i={hideForm:t.hideForm},c.next=17,Object(v.b)({type:z,payload:Object(f.a)({},i)});case 17:c.next=27;break;case 19:return c.prev=19,c.t0=c.catch(0),console.error(c.t0),ae.a.error({message:"Unable to edit conference room.",description:c.t0.message}),s=e.payload,o={hideForm:s.hideForm},c.next=27,Object(v.b)({type:z,payload:Object(f.a)({},o)});case 27:case"end":return c.stop()}},Me,this,[[0,19]])}function pt(e,t){return t.functions.httpsCallable("addHotDeskForOfficeAdmin")(Object(f.a)({},e,{hideForm:null})).then(function(a){var r=e.photoFileObj;if(r){var n=t.storage.ref(),i=a.data;return n.child("deskImages/"+i+".jpg").put(r)}})}function ht(e){var t,a,r,n,i,s,o;return h.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,t=e.payload,a=t.selectedOfficeUID,c.next=5,Object(v.c)($);case 5:return r=c.sent,Qe(a,r),c.next=9,Object(v.c)(J);case 9:return n=c.sent,c.next=12,Object(v.a)(pt,t,n);case 12:return c.sent,ae.a.success({message:"Successfully added hot desk."}),i={hideForm:t.hideForm},c.next=17,Object(v.b)({type:W,payload:Object(f.a)({},i)});case 17:c.next=27;break;case 19:return c.prev=19,c.t0=c.catch(0),console.error(c.t0),ae.a.error({message:"Unable to add hot desk.",description:c.t0.message}),s=e.payload,o={hideForm:s.hideForm},c.next=27,Object(v.b)({type:W,payload:Object(f.a)({},o)});case 27:case"end":return c.stop()}},Ve,this,[[0,19]])}function vt(e,t){return t.functions.httpsCallable("editHotDeskForOfficeAdmin")(Object(f.a)({},e,{hideForm:null})).then(function(a){var r=e.photoFileObj;if(r){var n=t.storage.ref(),i=e.selectedDeskUID;return n.child("deskImages/"+i+".jpg").put(r)}})}function gt(e){var t,a,r,n,i,s,o;return h.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,t=e.payload,a=t.selectedOfficeUID,c.next=5,Object(v.c)($);case 5:return r=c.sent,Qe(a,r),c.next=9,Object(v.c)(J);case 9:return n=c.sent,c.next=12,Object(v.a)(vt,t,n);case 12:return c.sent,ae.a.success({message:"Successfully edited hot desk."}),i={hideForm:t.hideForm},c.next=17,Object(v.b)({type:Q,payload:Object(f.a)({},i)});case 17:c.next=27;break;case 19:return c.prev=19,c.t0=c.catch(0),console.error(c.t0),ae.a.error({message:"Unable to edit hot desk.",description:c.t0.message}),s=e.payload,o={hideForm:s.hideForm},c.next=27,Object(v.b)({type:Q,payload:Object(f.a)({},o)});case 27:case"end":return c.stop()}},He,this,[[0,19]])}a(126),a(368);var bt={serviceRequestUpdate:"serviceRequestUpdate",arrivedGuestUpdate:"arrivedGuestUpdate",newEvent:"newEvent",announcement:"announcement",none:"none"};var At=a(72),Ot=a.n(At),Et=function e(t){if(Object(ee.a)(this,e),this.uid=t.uid||null,null==this.uid)return null;this.title=t.title||null,this.body=t.body||null;var a=function(e){switch(e){case bt.announcement:return bt.announcement;case bt.arrivedGuestUpdate:return bt.arrivedGuestUpdate;case bt.newEvent:return bt.newEvent;case bt.serviceRequestUpdate:return bt.serviceRequestUpdate;default:return null}}(t.type);if(null==a)return null;this.type=a;var r=t.timestamp,n=r._seconds,i=r._nanoseconds,s=new Ot.a.firestore.Timestamp(n,i);this.date=s.toDate()},yt=h.a.mark(kt),Ut=h.a.mark(Dt);function kt(){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(v.d)(N,Dt);case 2:case"end":return e.stop()}},yt,this)}function Ft(e){return e.functions.httpsCallable("getUsersNotifications")({}).then(function(e){var t=e.data,a=[];for(var r in t){var n=t[r],i=new Et(n)||null;null!==i&&a.push(i)}return a})}function Dt(e){var t,a;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(v.c)(J);case 3:return t=e.sent,e.next=6,Object(v.a)(Ft,t);case 6:return a=e.sent,e.next=9,Object(v.b)({type:P,payload:{notifications:a}});case 9:e.next=16;break;case 11:return e.prev=11,e.t0=e.catch(0),ae.a.error({message:"Unable to load notifications.",description:e.t0.message}),e.next=16,Object(v.b)({type:T,payload:{error:e.t0}});case 16:case"end":return e.stop()}},Ut,this,[[0,11]])}var Ct=Object(f.a)({},r,n,i);var It=function(e,t){return Object(f.a)({},e,t)},jt={firebase:null},Rt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_UP_FIREBASE":var a=t.payload.firebase;return It(e,{firebase:a});default:return e}},Lt={isLoading:!1,error:null,currentPage:null,regularUserPortalMode:"regular",currentOfficeAdminUID:null,currentOfficeAdmin:null,isLoadingSignIn:!1,notifications:[]},wt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return It(e,{isLoadingSignIn:!0});case b:return It(e,{isLoadingSignIn:!1,error:null});case A:var a=t.payload.error||null;return It(e,{isLoadingSignIn:!1,error:a});case U:return It(e,{isLoading:!0});case k:return It(e,{isLoading:!1,error:null});case F:var r=t.payload.error||null;return It(e,{isLoading:!1,error:r});case O:return It(e,{isLoading:!0,error:null});case E:case y:return It(e,{isLoading:!1,error:null});case F:var n=t.payload.error||null;return It(e,{isLoading:!1,error:n});case D:return It(e,{isLoading:!0});case C:return It(e,{isLoading:!1,error:null});case I:var i=t.payload.error||null;return It(e,{isLoading:!1,error:i});case"CHANGE_PAGE":var s=t.payload||null;return It(e,Object(f.a)({},s));case P:case T:var o=t.payload||null;return It(e,Object(f.a)({},o));default:return e}},St={userList:[],activeRoomsList:[],inactiveRoomsList:[],activeDesksList:[],inactiveDesksList:[],isLoadingUserData:!1,isLoadingRoomsData:!1,isLoadingHotDesksData:!1,createUserFormLoading:!1,editUserFormLoading:!1,removeUserFormLoading:!1,addRoomFormLoading:!1,editRoomFormLoading:!1,createDeskFormLoading:!1,editDeskFormLoading:!1},xt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:St,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Y:return It(e,{editRoomFormLoading:!0});case z:return t.payload.hideForm(),It(e,{editRoomFormLoading:!1});case q:return It(e,{addRoomFormLoading:!0});case K:return t.payload.hideForm(),It(e,{addRoomFormLoading:!1});case G:return It(e,{editUserFormLoading:!0});case _:return t.payload.hideForm(),It(e,{editUserFormLoading:!1});case H:return It(e,{removeUserFormLoading:!0});case B:return t.payload.componentRef.setState({removeUserFormVisible:!1}),It(e,{removeUserFormLoading:!1});case M:return It(e,{createUserFormLoading:!0});case V:return t.payload.hideFormRef(),It(e,{createUserFormLoading:!1});case"CHANGE_PAGE":return"homePageOfficeAdmin"==((t.payload||null).currentpage||null)?St:e;case D:return It(e,{isLoadingUserData:!0});case C:var a=t.payload.userList||null;return It(e,{userList:a,isLoadingUserData:!1});case I:return It(e,{isLoadingUserData:!1});case j:return It(e,{isLoadingRoomsData:!0});case R:var r=t.payload.activeRoomsList||null,n=t.payload.inactiveRoomsList||null;return It(e,{activeRoomsList:r,inactiveRoomsList:n,isLoadingRoomsData:!1});case L:return It(e,{isLoadingRoomsData:!1});case w:return It(e,{isLoadingHotDesksData:!0});case S:var i=t.payload.activeDesksList||null,s=t.payload.inactiveDesksList||null;return It(e,{activeDesksList:i,inactiveDesksList:s,isLoadingHotDesksData:!1});case x:return It(e,{isLoadingHotDesksData:!1});case X:return It(e,{createDeskFormLoading:!0});case W:return t.payload.hideForm(),It(e,{createDeskFormLoading:!1});case Z:return It(e,{editDeskFormLoading:!0});case Q:return t.payload.hideForm(),It(e,{editDeskFormLoading:!1})}return e},Nt={user:null,type:null,adminOfficeList:null},Pt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E:return Nt;case g:case F:break;case k:var a=t.payload.data||null,r=a.type||null,n=a.officeAdmin||null;return It(e,{user:a,type:r,adminOfficeList:n});case F:return It(e,{user:null});default:return e}return e},Tt=a(222),Mt=a(298),Vt={key:"root",storage:a.n(Mt).a,blacklist:["firebase"]},Ht=Object(m.c)({firebase:Rt,general:wt,auth:Pt,officeAdmin:xt}),Bt=Object(Tt.a)(Vt,Ht),Gt=Object(d.a)(),_t=Object(m.a)(Gt),qt=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||m.d,Kt=Object(m.e)(Bt,qt(_t)),Yt=Object(Tt.b)(Kt);!function(e){for(var t in Ct)e.run(Ct[t])}(Gt);var zt=a(21),Xt=a(24),Wt=a(22),Zt=a(23),Qt=a(688),Jt=a(676),$t=a(687),ea=a(299),ta=a.n(ea),aa=a(97),ra=a.n(aa),na=(a(81),function(e){function t(){var e,a;Object(ee.a)(this,t);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(a=Object(Xt.a)(this,(e=Object(Wt.a)(t)).call.apply(e,[this].concat(n)))).state={current:null},a.handleClick=function(e){},a}return Object(Zt.a)(t,e),Object(zt.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(ta.a,{position:"static",style:{background:"transparent"}},o.a.createElement(ra.a,{container:!0,justify:"center",alignItems:"center"},o.a.createElement("img",{className:"logo-nav-image",src:a(262)}))))}}]),t}(o.a.Component)),ia=Object(u.b)(null,null)(na),sa=a(264),oa=a(680),ca=a(495),la=a(501),ua=a(677),ma=a(682),da=a(17),fa=a(217),pa=a(151),ha=a(300),va=a.n(ha),ga=(a(263),function(e){function t(){var e,a;Object(ee.a)(this,t);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(a=Object(Xt.a)(this,(e=Object(Wt.a)(t)).call.apply(e,[this].concat(n)))).handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields(function(e,t){if(!e){var r=t.emailAddress||null,n=t.password||null,i=t.remember||!1;a.props.signInUser(r,n,i)}})},a}return Object(Zt.a)(t,e),Object(zt.a)(t,[{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator;return o.a.createElement(oa.a,{className:"login-card"},o.a.createElement(ca.a,null,o.a.createElement(la.a,{span:12},o.a.createElement(oa.a,{cover:o.a.createElement("img",{alt:"example",src:va.a}),bordered:!1})),o.a.createElement(la.a,{span:12},o.a.createElement(oa.a,{bordered:!1},o.a.createElement(ua.a,{onSubmit:this.handleSubmit,className:"login-form"},o.a.createElement(ua.a.Item,null,t("emailAddress",{validateTrigger:"onBlur",rules:[{required:!0,message:"Please input your email address!",whitespace:!0,pattern:/^([a-zA-Z0-9_.-])+@(([a-zA-Z0-9-])+.)+([a-zA-Z0-9]{2,4})+$/}]})(o.a.createElement(ma.a,{prefix:o.a.createElement(da.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Email Address"}))),o.a.createElement(ua.a.Item,null,t("password",{validateTrigger:"onBlur",rules:[{required:!0,message:"Please input your Password!",whitespace:!0}]})(o.a.createElement(ma.a,{prefix:o.a.createElement(da.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"Password"}))),o.a.createElement(ua.a.Item,null,t("remember",{valuePropName:"checked",initialValue:!0})(o.a.createElement(fa.a,{className:""},"Remember me")),o.a.createElement("a",{className:"login-form-forgot airspaceColor",href:""},"Forgot password?"),o.a.createElement(pa.a,{type:"primary",htmlType:"submit",className:"login-form-button airspace-submit-button"},"Log in"),1==e.props.isLoadingSignIn?o.a.createElement(ra.a,{container:!0,justify:"center",alignItems:"center",style:{marginTop:20}},o.a.createElement(sa.a,null)):null))))))}}]),t}(o.a.Component)),ba=ua.a.create({name:"normal_login"})(Object(u.b)(function(e){return{isLoadingSignIn:e.general.isLoadingSignIn}},function(e){return{signInUser:function(t,a,r){return e(function(e,t,a){return{type:g,payload:{email:e,password:t,rememberMe:a}}}(t,a,r))}}})(ga)),Aa=function(e){function t(){return Object(ee.a)(this,t),Object(Xt.a)(this,Object(Wt.a)(t).apply(this,arguments))}return Object(Zt.a)(t,e),Object(zt.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(ia,null),o.a.createElement(ca.a,{type:"flex",justify:"space-around",align:"middle"},o.a.createElement(la.a,null,o.a.createElement(ba,null))))}}]),t}(o.a.Component),Oa=Object(u.b)(function(e){return{error:e.general.error}},null)(Aa),Ea=a(671),ya=a(685),Ua=a(686),ka=a(294),Fa=a(673),Da=function(e){return{type:"CHANGE_PAGE",payload:Object(f.a)({},e)}},Ca=(a(553),function(e){function t(){var e,r;Object(ee.a)(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(r=Object(Xt.a)(this,(e=Object(Wt.a)(t)).call.apply(e,[this].concat(i)))).state={current:null},r.handleSignOut=function(e){r.props.signOutUser()},r.handleProfileClick=function(e){switch(e.key){case"Edit Profile":console.log("Implement Edit Profile");break;case"SignOut":console.log("Made it here")}},r.handleClick=function(e){console.log("click ",e),"signOut"==e.key?r.handleSignOut(e):"notifications"==e.key&&r.props.loadNotifications()},r.getAirNotificationIconFor=function(e){switch(e){case bt.announcement:return o.a.createElement("img",{className:"notificationIcon",src:a(555)});case bt.arrivedGuestUpdate:return o.a.createElement("img",{className:"notificationIcon",src:a(556)});case bt.newEvent:return o.a.createElement("img",{className:"notificationIcon",src:a(557)});case bt.serviceRequestUpdate:return o.a.createElement("img",{className:"notificationIcon",src:a(558)});default:return null}},r}return Object(Zt.a)(t,e),Object(zt.a)(t,[{key:"componentDidMount",value:function(){this.props.loadNotifications()}},{key:"render",value:function(){var e=this,t=o.a.createElement(Ea.a,{className:"navBarProfileMenu",onClick:this.handleClick,mode:"horizontal",style:{textAlign:"right",border:0}},o.a.createElement(Ea.a.Item,{key:"signOut"},o.a.createElement(ra.a,{container:!0,justify:"center",alignItems:"center"},"Sign Out"))),r=o.a.createElement(ya.a,{className:"navBarNotificationMenu",itemLayout:"horizontal",dataSource:this.props.notifications,renderItem:function(t){var r=a(564)(t.date).fromNow();return o.a.createElement(ya.a.Item,null,o.a.createElement(ya.a.Item.Meta,{avatar:e.getAirNotificationIconFor(t.type),title:t.title+" \u2022 "+r,description:t.body}))}});return o.a.createElement(Ua.a,null,o.a.createElement(ca.a,null,o.a.createElement(la.a,{span:24},o.a.createElement(Ea.a,{onClick:this.handleClick,mode:"horizontal",style:{textAlign:"right",border:0}},o.a.createElement(Ea.a.Item,{key:"notifications"},o.a.createElement(ka.a,{overlay:r,trigger:["click"]},o.a.createElement("a",{className:"ant-dropdown-link",href:"#"},o.a.createElement(da.a,{type:"bell",style:{fontSize:18}})))),o.a.createElement(Ea.a.Item,{key:"profile"},o.a.createElement(ka.a,{overlay:t,trigger:["click"]},o.a.createElement("a",{className:"ant-dropdown-link",href:"#"},o.a.createElement(Fa.a,{src:this.props.user.profileImageURL}))))))))}}]),t}(o.a.Component)),Ia=Object(u.b)(function(e){return{user:e.auth.user,notifications:e.general.notifications}},function(e){return{signOutUser:function(){return e({type:O,payload:{}})},loadNotifications:function(){return e({type:N})}}})(Ca),ja=a(689),Ra=a(674),La=(a(565),Ea.a.SubMenu),wa=Ea.a.ItemGroup,Sa=function(e){function t(){var e,a;Object(ee.a)(this,t);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(a=Object(Xt.a)(this,(e=Object(Wt.a)(t)).call.apply(e,[this].concat(n)))).getSwitchPortalSubMenuTitle=function(){if("regular"==a.props.userType){if("regular"==a.props.regularUserPortalMode)return"Regular Mode";var e=a.props.currentOfficeAdmin;return null!==e?"Managing "+e.name:"Office Admin Mode"}return"Switch Portal Mode"},a}return Object(Zt.a)(t,e),Object(zt.a)(t,[{key:"render",value:function(){var e=this,t=o.a.createElement("img",{style:{height:30,width:200,paddingLeft:30},className:"logo-nav-image",src:a(262)}),r=o.a.createElement(La,{className:"sideBarPortalSwitcher",key:"sub1",title:o.a.createElement(ja.a,null,this.getSwitchPortalSubMenuTitle())},o.a.createElement(Ea.a.Item,{key:"homePageRegularUser"},o.a.createElement("span",null,o.a.createElement(da.a,{type:"user"}),o.a.createElement("span",null,"Regular Portal"))),o.a.createElement(wa,{key:"g1",title:"Office Admin Portals"},null==e.props.adminOfficeList?null:e.props.adminOfficeList.map(function(e){return o.a.createElement(Ea.a.Item,{key:e.uid},o.a.createElement(Ra.a,{to:"/officeAdmin/"+e.uid+"/users"},e.name))})));return"regular"!=this.props.userType?null:"officeAdmin"==this.props.regularUserPortalMode?o.a.createElement(Ua.a,{className:"airspace-side-nav-bar-group"},o.a.createElement(Ea.a,{style:{border:0},defaultSelectedKeys:[this.props.currentPage],mode:"inline",className:"airspace-side-nav-bar"},t,o.a.createElement(wa,{key:"g2",title:""},o.a.createElement(Ea.a.Item,{key:"home"},o.a.createElement("span",null,o.a.createElement(da.a,{type:"home"}),o.a.createElement("span",null,"Home"))),o.a.createElement(Ea.a.Item,{key:"userPageOfficeAdmin"},o.a.createElement(Ra.a,{to:"/officeAdmin/"+this.props.currentOfficeAdminUID+"/users"},o.a.createElement("span",null,o.a.createElement(da.a,{type:"user"}),o.a.createElement("span",null,"Users")))),o.a.createElement(Ea.a.Item,{key:"conferenceRooms"},o.a.createElement(Ra.a,{to:"/officeAdmin/"+this.props.currentOfficeAdminUID+"/conferenceRooms"},o.a.createElement("span",null,o.a.createElement(da.a,{type:"schedule"}),o.a.createElement("span",null,"Conference Rooms")))),o.a.createElement(Ea.a.Item,{key:"hotDesks"},o.a.createElement(Ra.a,{to:"/officeAdmin/"+this.props.currentOfficeAdminUID+"/hotDesks"},o.a.createElement("span",null,o.a.createElement(da.a,{type:"laptop"}),o.a.createElement("span",null,"Hot Desks")))),o.a.createElement(Ea.a.Item,{key:"serviceRequests"},o.a.createElement("span",null,o.a.createElement(da.a,{type:"tool"}),o.a.createElement("span",null,"Service Requests"))),o.a.createElement(Ea.a.Item,{key:"registeredGuests"},o.a.createElement("span",null,o.a.createElement(da.a,{type:"idcard"}),o.a.createElement("span",null,"Registered Guests"))),o.a.createElement(Ea.a.Item,{key:"events"},o.a.createElement("span",null,o.a.createElement(da.a,{type:"calendar"}),o.a.createElement("span",null,"Events"))),o.a.createElement(Ea.a.Item,{key:"spaceInfo"},o.a.createElement("span",null,o.a.createElement(da.a,{type:"info-circle"}),o.a.createElement("span",null,"Space Info"))),r))):"regular"==this.props.regularUserPortalMode?o.a.createElement(Ea.a,{onClick:this.handleClick,style:{width:256,height:100,border:0},defaultSelectedKeys:["1"],defaultOpenKeys:["sub1"],mode:"inline"},t,r):void 0}}]),t}(o.a.Component),xa=Object(u.b)(function(e){return{user:e.auth.user,userType:e.auth.type,adminOfficeList:e.auth.adminOfficeList,regularUserPortalMode:e.general.regularUserPortalMode,currentPage:e.general.currentPage,currentOfficeAdminUID:e.general.currentOfficeAdminUID,currentOfficeAdmin:e.general.currentOfficeAdmin}},function(e){return{changePage:function(t){return e(Da(t))}}})(Sa),Na=a(101),Pa=a.n(Na),Ta=a(50),Ma=a.n(Ta),Va=function(e){return{type:D,payload:{officeUID:e}}},Ha=function(e){return{type:w,payload:{officeUID:e}}},Ba=function(e,t){switch(e){case"homePageOfficeAdmin":var a=t.officeUID||null,r=t.officeObj||null;return _a(a,r);case"userPageOfficeAdmin":return qa();case"conferenceRoomsPageOfficeAdmin":return Ka();case"homePageRegularUser":return Ga();default:return{}}},Ga=function(){return{currentPage:"homePageRegularUser",currentOfficeAdminUID:null,regularUserPortalMode:"regular"}},_a=function(e,t){return{currentPage:"homePageOfficeAdmin",currentOfficeAdminUID:e,currentOfficeAdmin:t,regularUserPortalMode:"officeAdmin"}},qa=function(){return{currentPage:"userPageOfficeAdmin"}},Ka=function(){return{currentPage:"conferenceRoomsPageOfficeAdmin"}},Ya=a(66),za=a(86),Xa=a(678),Wa=a(100),Za=a.n(Wa),Qa=a(681),Ja=a(295),$a=function(e){function t(){var e,a;Object(ee.a)(this,t);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(a=Object(Xt.a)(this,(e=Object(Wt.a)(t)).call.apply(e,[this].concat(n)))).emailValidator=function(e,t,r){a.props.form.getFieldValue("emailAddress")==a.props.form.getFieldValue("emailAddress2")?r():r(new Error("The email addresses do not match."))},a}return Object(Zt.a)(t,e),Object(zt.a)(t,[{key:"render",value:function(){var e=this.props,t=e.visible,a=e.onCancel,r=e.onCreate,n=e.form,i=e.confirmLoading,s=n.getFieldDecorator;return o.a.createElement(Qa.a,{visible:t,title:"Edit User",okText:"Save",onCancel:a,onOk:r,confirmLoading:i},o.a.createElement(ua.a,{layout:"vertical"},o.a.createElement(ua.a.Item,{label:"First Name"},s("firstName",{initialValue:null,rules:[{required:!0,whitespace:!0,message:"Please input the user's first name."}]})(o.a.createElement(ma.a,null))),o.a.createElement(ua.a.Item,{label:"Last Name"},s("lastName",{initialValue:null,validateTrigger:"onBlur",rules:[{required:!0,whitespace:!0,message:"Please input the user's last name."}]})(o.a.createElement(ma.a,null))),o.a.createElement(ua.a.Item,{label:"Email Address"},s("emailAddress",{initialValue:null,validateTrigger:"onBlur",rules:[{required:!0,whitespace:!0,message:"Please input the user's email address."}]})(o.a.createElement(ma.a,null))),o.a.createElement(ua.a.Item,{label:"Reenter Email Address"},s("emailAddress2",{initialValue:null,validateTrigger:"onBlur",rules:[{required:!0,whitespace:!0,message:"Please input the user's email address."},{validator:this.emailValidator.bind(this)}]})(o.a.createElement(ma.a,null))),o.a.createElement(ua.a.Item,{label:"User Type",className:"collection-create-form_last-form-item"},s("userType",{initialValue:null})(o.a.createElement(Ja.a.Group,null,o.a.createElement(Ja.a,{value:"regular"},"User"),o.a.createElement(Ja.a,{value:"officeAdmin"},"Office Admin"))))))}}]),t}(o.a.Component),er=ua.a.create({name:"editUserForm"})($a),tr=function(e){function t(){return Object(ee.a)(this,t),Object(Xt.a)(this,Object(Wt.a)(t).apply(this,arguments))}return Object(Zt.a)(t,e),Object(zt.a)(t,[{key:"render",value:function(){var e=this.props,t=e.visible,a=e.onCancel,r=e.onCreate,n=e.selectedUser||{};return o.a.createElement(Qa.a,{title:"Danger Zone!",visible:t,onOk:r,onCancel:a,okText:"Yes",cancelText:"Never mind"},"   ",o.a.createElement("p",null,"This action will remove ",n.firstName," ",n.lastName," from this office."),o.a.createElement("p",null,"You can always add the same user back by using the same email (",n.email,")."))}}]),t}(o.a.Component),ar=function(e){function t(){var e,a;Object(ee.a)(this,t);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(a=Object(Xt.a)(this,(e=Object(Wt.a)(t)).call.apply(e,[this].concat(n)))).columns=[{title:"First Name",dataIndex:"firstName",sorter:function(e,t){var a=e.firstName,r=t.firstName;return a<r?-1:a>r?1:0},sortDirections:["descend","ascend"]},{title:"Last Name",dataIndex:"lastName",sorter:function(e,t){var a=e.lastName,r=t.lastName;return a<r?-1:a>r?1:0},sortDirections:["descend","ascend"]},{title:"Email",dataIndex:"email"},{title:"Offices",dataIndex:"offices",render:function(e){return o.a.createElement("span",null,e.map(function(e){return o.a.createElement(ja.a,{color:"blue",key:e.uid},e.name)}))}},{title:"Office Admin For",dataIndex:"officeAdmins",render:function(e){return o.a.createElement("span",null,e.map(function(e){return o.a.createElement(ja.a,{color:"blue",key:e.uid},e.name)}))}},{title:"",dataIndex:"uid",key:"more",render:function(e){return o.a.createElement(ka.a,{overlay:function(){return a.editMenu(e)},trigger:["click"]},o.a.createElement(Ma.a,null,o.a.createElement(Za.a,null)))}}],a.state={removeUserFormVisible:!1,editUserFormVisible:!1,selectedUser:null},a.handleEditMenuClick=function(e,t){var r=e.key,n=a.props.userList,i=null;for(var s in n){var o=n[s];if(t==o.uid){a.setState({selectedUser:o}),i=o;break}}if(null!=i)if("edit"==r){var c=a.props.currentOfficeUID,l=i.officeAdmins,u="regular";for(var m in l){if(l[m].uid==c){u="officeAdmin";break}}a.editUserFormRef.props.form.setFields({firstName:{value:i.firstName,error:null},lastName:{value:i.lastName,error:null},emailAddress:{value:i.email,error:null},emailAddress2:{value:i.email,error:null},userType:{value:u,error:null}}),a.setState({editUserFormVisible:!0,removeUserFormVisible:!1})}else"remove"==r&&a.setState({removeUserFormVisible:!0,editUserFormVisible:!1})},a.handleCancelEditUser=function(){a.hideEditUserForm()},a.handleEditUser=function(e){var t=a.editUserFormRef.props.form;t.validateFields(function(r,n){var i;if(!r){var s=n.firstName,o=n.lastName,c=n.emailAddress,l="regular"!=n.userType,u=a.props.currentOfficeUID,m=(i={hideForm:a.hideEditUserForm,makeUserOfficeAdmin:l,userUID:e,firstName:s,lastName:o,email:c},Object(Ya.a)(i,"makeUserOfficeAdmin",l),Object(Ya.a)(i,"officeUID",u),Object(Ya.a)(i,"componentRef",Object(za.a)(Object(za.a)(a))),Object(Ya.a)(i,"formRef",t),i);a.props.editUserForOfficeAdmin(m)}})},a.hideEditUserForm=function(){a.setState({editUserFormVisible:!1,selectedUser:null})},a.handleCancelRemoveUser=function(){a.setState({removeUserFormVisible:!1,selectedUser:null})},a.handleRemoveUser=function(e,t){var r=e.uid,n=t;a.setState({selectedUser:null}),a.props.removeUserFromOffice(r,n,Object(za.a)(Object(za.a)(a)))},a}return Object(Zt.a)(t,e),Object(zt.a)(t,[{key:"editMenu",value:function(e){var t=this;return o.a.createElement(Ea.a,{onClick:function(a){return t.handleEditMenuClick(a,e)},mode:"horizontal",style:{textAlign:"left",border:0}},o.a.createElement(Ea.a.Item,{key:"edit"},"Edit User Info"),o.a.createElement(Ea.a.Item,{key:"remove"},"Remove from Office"))}},{key:"saveEditUserFormRef",value:function(e){this.editUserFormRef=e}},{key:"componentDidMount",value:function(){this.props.loadUserList(this.props.currentOfficeUID)}},{key:"render",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement(er,Object(Ya.a)({wrappedComponentRef:function(t){return e.saveEditUserFormRef(t)},visible:this.state.editUserFormVisible,onCancel:this.handleCancelEditUser,onCreate:function(){return e.handleEditUser(e.state.selectedUser.uid)},confirmLoading:this.props.editUserFormLoading},"confirmLoading",this.props.editUserFormLoading)),o.a.createElement(tr,Object(Ya.a)({visible:this.state.removeUserFormVisible,onCancel:this.handleCancelRemoveUser,onCreate:function(){return e.handleRemoveUser(e.state.selectedUser,e.props.currentOfficeUID)},confirmLoading:this.props.editUserFormLoading,selectedUser:this.state.selectedUser},"confirmLoading",this.props.removeUserFormLoading)),o.a.createElement(Xa.a,{rowKey:function(e){return e.uid.toString()},columns:this.columns,dataSource:this.props.userList,pagination:!1,loading:this.props.isLoadingUserData}))}}]),t}(o.a.Component),rr=Object(u.b)(function(e){return{userList:e.officeAdmin.userList,currentOfficeUID:e.general.currentOfficeAdminUID,isLoadingUserData:e.officeAdmin.isLoadingUserData,editUserFormLoading:e.officeAdmin.editUserFormLoading,removeUserFormLoading:e.officeAdmin.removeUserFormLoading}},function(e){return{loadUserList:function(t){return e(Va(t))},removeUserFromOffice:function(t,a,r){return e((n={userUID:t,officeUID:a,componentRef:r},{type:H,payload:Object(f.a)({},n,{userUID:n.userUID,officeUID:n.officeUID})}));var n},editUserForOfficeAdmin:function(t){return e(function(e){return{type:G,payload:{selectedUserUID:e.userUID,selectedOfficeUID:e.officeUID,firstName:e.firstName,lastName:e.lastName,emailAddress:e.email,makeUserOfficeAdmin:e.makeUserOfficeAdmin,hideForm:e.hideForm}}}(t))},finishedEditUserForOfficeAdmin:function(t){return e({type:"EDIT_OFFICE_USER_FINISHED",payload:Object(f.a)({},t)})}}})(ar),nr=function(e){function t(){var e,a;Object(ee.a)(this,t);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(a=Object(Xt.a)(this,(e=Object(Wt.a)(t)).call.apply(e,[this].concat(n)))).emailValidator=function(e,t,r){a.props.form.getFieldValue("emailAddress")==a.props.form.getFieldValue("emailAddress2")?r():r(new Error("The email addresses do not match."))},a}return Object(Zt.a)(t,e),Object(zt.a)(t,[{key:"render",value:function(){var e=this.props,t=e.visible,a=e.onCancel,r=e.onCreate,n=e.form,i=(e.officeObj,e.confirmLoading),s=n.getFieldDecorator;return o.a.createElement(Qa.a,{visible:t,title:"Add a new User to this office.",okText:"Add",onCancel:a,onOk:r,confirmLoading:i},o.a.createElement(ua.a,{layout:"vertical"},o.a.createElement(ua.a.Item,{label:"First Name"},s("firstName",{rules:[{required:!0,whitespace:!0,message:"Please input the user's first name."}]})(o.a.createElement(ma.a,null))),o.a.createElement(ua.a.Item,{label:"Last Name"},s("lastName",{validateTrigger:"onBlur",rules:[{required:!0,whitespace:!0,message:"Please input the user's last name."}]})(o.a.createElement(ma.a,null))),o.a.createElement(ua.a.Item,{label:"Email Address"},s("emailAddress",{validateTrigger:"onBlur",rules:[{required:!0,message:"Please input the user's email address.",whitespace:!0,pattern:/^([a-zA-Z0-9_.-])+@(([a-zA-Z0-9-])+.)+([a-zA-Z0-9]{2,4})+$/}]})(o.a.createElement(ma.a,null))),o.a.createElement(ua.a.Item,{label:"Reenter Email Address"},s("emailAddress2",{validateTrigger:"onBlur",rules:[{required:!0,whitespace:!0,message:"Please input the user's email address."},{validator:this.emailValidator.bind(this)}]})(o.a.createElement(ma.a,null))),o.a.createElement(ua.a.Item,{className:"collection-create-form_last-form-item"},s("userType",{initialValue:"regular"})(o.a.createElement(Ja.a.Group,null,o.a.createElement(Ja.a,{value:"regular"},"Regular"),o.a.createElement(Ja.a,{value:"officeAdmin"},"Office Admin"))))))}}]),t}(o.a.Component),ir=ua.a.create({name:"createUserForm"})(nr),sr=function(e){function t(){var e,a;Object(ee.a)(this,t);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(a=Object(Xt.a)(this,(e=Object(Wt.a)(t)).call.apply(e,[this].concat(n)))).state={createUserFormVisible:!1},a.showCreateUserFormModal=function(){a.setState({createUserFormVisible:!0})},a.handleCancelCreateUser=function(){a.hideCreateUserForm()},a.hideCreateUserForm=function(){a.createUserFormRef.props.form.setFields({firstName:{value:"",error:null},lastName:{value:"",error:null},emailAddress:{value:"",error:null},emailAddress2:{value:"",error:null},userType:{value:"",error:null}}),a.setState({createUserFormVisible:!1})},a.handleCreateUser=function(){a.createUserFormRef.props.form.validateFields(function(e,t){if(!e){var r={firstName:t.firstName,lastName:t.lastName,emailAddress:t.emailAddress,makeUserOfficeAdmin:"regular"!=t.userType,officeUID:a.props.currentOfficeUID,hideFormRef:a.hideCreateUserForm};a.props.createUserForOfficeAdmin(r)}})},a.saveCreateUserFormRef=function(e){a.createUserFormRef=e},a}return Object(Zt.a)(t,e),Object(zt.a)(t,[{key:"componentDidMount",value:function(){if(this.props.match.isExact){var e=this.props.match.params.officeUID,t=this.props.userAdminOfficeList,a=null;for(var r in t){var n=t[r];n.uid==e&&(a=n)}var i=Ba("homePageOfficeAdmin",{officeUID:e,officeObj:a});i&&this.props.changePage(i),Ba("userPageOfficeAdmin")&&this.props.changePage(i)}}},{key:"componentDidUpdate",value:function(e,t,a){var r=e.currentOfficeUID,n=this.props.currentOfficeUID;r!==n&&this.props.loadUserList(n)}},{key:"render",value:function(){var e=this;return null==this.props.user?o.a.createElement(Oa,null):o.a.createElement("div",{style:{backgroundColor:"#FFFFFF"}},o.a.createElement(ir,{wrappedComponentRef:function(t){return e.saveCreateUserFormRef(t)},visible:this.state.createUserFormVisible,onCancel:this.handleCancelCreateUser,onCreate:this.handleCreateUser,officeObj:this.props.currentOffice,confirmLoading:this.props.createUserFormLoading}),o.a.createElement(ca.a,null,o.a.createElement(la.a,{className:"wide-table",span:24},o.a.createElement("h1",null,"Users"),o.a.createElement("div",null,o.a.createElement(Ma.a,{className:"inlineDisplay",onClick:function(){return e.props.loadUserList(e.props.currentOfficeUID)}},o.a.createElement(Pa.a,null)),o.a.createElement(pa.a,{className:"inlineDisplay rightAlign",type:"primary",onClick:this.showCreateUserFormModal},"Add User")),o.a.createElement(rr,null))))}}]),t}(o.a.Component),or=Object($t.a)(Object(u.b)(function(e){return{userList:e.officeAdmin.userList,currentOfficeUID:e.general.currentOfficeAdminUID,currentOffice:e.general.currentOfficeAdmin,user:e.auth.user,userAdminOfficeList:e.auth.adminOfficeList,isLoadingUserData:e.officeAdmin.isLoadingUserData,createUserFormLoading:e.officeAdmin.createUserFormLoading}},function(e){return{loadUserList:function(t){return e(Va(t))},changePage:function(t){return e(Da(t))},createUserForOfficeAdmin:function(t){return e(function(e){return{type:M,payload:Object(f.a)({},e)}}(t))}}})(sr)),cr=a(675),lr=a(683),ur=a(679),mr=(a(285),function(e){function t(){var e,a;Object(ee.a)(this,t);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(a=Object(Xt.a)(this,(e=Object(Wt.a)(t)).call.apply(e,[this].concat(n)))).state={fileList:[]},a.removeAmenity=function(e){var t=a.props.form,r=t.getFieldValue("keys");t.setFieldsValue({keys:r.filter(function(t){return t!==e})})},a.id=0,a.addAmenity=function(){var e=a.props.form,t=e.getFieldValue("keys").concat(++a.id);e.setFieldsValue({keys:t})},a.roomPhotoFile=function(e){return Array.isArray(e)?(a.state.fileList=e,e):(a.state.fileList=e.fileList,e&&e.fileList)},a}return Object(Zt.a)(t,e),Object(zt.a)(t,[{key:"uploadChange",value:function(e){"uploading"!==e.file.status&&console.log(e.file,e.fileList),"done"===e.file.status?cr.a.success("".concat(e.file.name," file uploaded successfully")):"error"===e.file.status&&cr.a.error("".concat(e.file.name," file upload failed."))}},{key:"render",value:function(){var e=this,t=this.props,a=t.visible,r=t.onCancel,n=t.onCreate,i=t.form,s=t.confirmLoading,c=i.getFieldDecorator,l=i.getFieldValue,u={labelCol:{xs:{span:24},sm:{span:4}},wrapperCol:{xs:{span:24},sm:{span:20}}},m={wrapperCol:{xs:{span:24,offset:0},sm:{span:20,offset:0}}};c("keys",{initialValue:[]});var d=l("keys")||[],f=d.map(function(t,a){return o.a.createElement(ua.a.Item,Object.assign({},0===a?u:m,{required:!1,key:t}),c("customAmenities[".concat(t,"]"),{validateTrigger:["onChange","onBlur"],rules:[{required:!1,whitespace:!0,message:"Please input an amenity or delete this field."}]})(o.a.createElement(ma.a,{placeholder:"Amenity",style:{width:"60%",marginRight:8}})),d.length>1?o.a.createElement(da.a,{className:"dynamic-delete-button",type:"minus-circle-o",disabled:1===d.length,onClick:function(){return e.removeAmenity(t)}}):null)}),p=!1;return this.state.fileList.length>=1&&(p=!0),o.a.createElement(Qa.a,{visible:a,title:"Edit Conference Room",okText:"Save",onCancel:r,onOk:n,confirmLoading:s},o.a.createElement(ua.a,{layout:"vertical"},o.a.createElement(ua.a.Item,{label:"Room Name"},c("roomName",{rules:[{required:!0,whitespace:!0,message:"Please input the room's name."}]})(o.a.createElement(ma.a,null))),o.a.createElement(ua.a.Item,{label:"Capacity"},c("capacity",{})(o.a.createElement(lr.a,{min:0}))),o.a.createElement(ua.a.Item,Object.assign({},u,{label:"Amenities"}),c("standardAmenities",{})(o.a.createElement(fa.a.Group,{style:{width:"100%"}},o.a.createElement(ca.a,null,o.a.createElement(la.a,{span:24},o.a.createElement(fa.a,{value:"whiteBoard"},"Whiteboard")),o.a.createElement(la.a,{span:24},o.a.createElement(fa.a,{value:"screenSharing"},"Screen Sharing")),o.a.createElement(la.a,{span:24},o.a.createElement(fa.a,{value:"videoConferencing"},"Video Conferencing"))))),o.a.createElement(ua.a.Item,m,f,o.a.createElement(pa.a,{type:"dashed",onClick:this.addAmenity,style:{width:"60%"}},o.a.createElement(da.a,{type:"plus"})," Add Amenity"))),o.a.createElement(ua.a.Item,Object.assign({},u,{label:"Upload Image"}),c("uploadPhoto",{getValueFromEvent:this.roomPhotoFile})(o.a.createElement(ur.a,Object.assign({},{name:"file",action:"//jsonplaceholder.typicode.com/posts/",headers:{authorization:"authorization-text"}},{disabled:p,fileList:this.state.fileList,accept:".png, jpg, jpeg",onChange:function(t){return e.uploadChange(t)}}),o.a.createElement(pa.a,null,o.a.createElement(da.a,{type:"upload"})," Click to add a photo.")))),o.a.createElement(ua.a.Item,{className:"collection-create-form_last-form-item"},c("reserveable",{initialValue:["reserveable"]})(o.a.createElement(fa.a.Group,{style:{width:"100%"}},o.a.createElement(ca.a,null,o.a.createElement(la.a,{span:24},o.a.createElement(fa.a,{value:"reserveable"},"Reserveable")))))),o.a.createElement(ua.a.Item,{className:"collection-create-form_last-form-item"},c("activeStatus",{rules:[{required:!0,whitespace:!0,message:"Please choose an active status for this room."}],initialValue:"active"})(o.a.createElement(Ja.a.Group,null,o.a.createElement(Ja.a,{value:"active"},"Active"),o.a.createElement(Ja.a,{value:"inactive"},"Inactive"))))))}}]),t}(o.a.Component)),dr=ua.a.create({name:"editRoomForm"})(mr),fr=function(e){function t(){var e,a;Object(ee.a)(this,t);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(a=Object(Xt.a)(this,(e=Object(Wt.a)(t)).call.apply(e,[this].concat(n)))).state={searchText:"",editRoomFormVisible:!1,selectedRoom:null},a.columns=[{title:"Name",dataIndex:"name",sorter:function(e,t){var a=e.name,r=t.name;return a<r?-1:a>r?1:0},sortDirections:["descend","ascend"]},{title:"Amenities",dataIndex:"amenities",render:function(e){return o.a.createElement("span",null,e.map(function(e){return o.a.createElement(ja.a,{color:"blue",key:e},e)}))}},{title:"Capacity",dataIndex:"capacity"},{title:"",dataIndex:"uid",key:"more",render:function(e){return o.a.createElement(ka.a,{overlay:function(){return a.editMenu(e)},trigger:["click"]},o.a.createElement(Ma.a,null,o.a.createElement(Za.a,null)))}}],a.editMenu=function(e){return o.a.createElement(Ea.a,{onClick:function(t){return a.handleEditMenuClick(t,e)},mode:"horizontal",style:{textAlign:"left",border:0}},o.a.createElement(Ea.a.Item,{key:"edit"},"Edit Room Info"))},a.handleEditMenuClick=function(e,t){var r=e.key,n=a.props.dataSource,i=null;for(var s in n){var o=n[s];if(t==o.uid){a.setState({selectedRoom:o}),i=o;break}}null!=i&&("edit"==r&&(a.editRoomFormRef.props.form.setFields({roomName:{value:i.name},capacity:{value:i.capacity},standardAmenities:{value:i.amenities},reserveable:{value:i.reserveable?["reserveable"]:null},activeStatus:{value:i.active?"active":"inactive"},uploadPhoto:{value:null},keys:{value:null}}),a.setState({editRoomFormVisible:!0})))},a.hideEditRoomForm=function(){var e=a.editRoomFormRef.props.form;a.editRoomFormRef.setState({fileList:[]}),e.setFields({roomName:{value:null},capacity:{value:null},standardAmenities:{value:null},reserveable:{value:null},activeStatus:{value:null},uploadPhoto:{value:null},keys:{value:null}}),a.setState({editRoomFormVisible:!1,selectedRoom:null})},a.handleCreateEditRoom=function(){a.editRoomFormRef.props.form.validateFields(function(e,t){if(!e){var r=t.roomName,n=t.standardAmenities,i=!1;1==t.reserveable.includes("reserveable")&&(i=!0);var s=!1;"active"==t.activeStatus&&(s=!0);var o=t.customAmenities,c=t.capacity,l=null,u=t.uploadPhoto||null;if(u)l=u[0].originFileObj;var m={selectedRoomUID:a.state.selectedRoom.uid,roomName:r,capacity:c,standardAmenities:n,customAmenities:o,reserveable:i,activeStatus:s,photoFileObj:l,hideForm:a.hideEditRoomForm,selectedOfficeUID:a.props.currentOfficeUID};a.props.editConferenceRoom(m)}})},a.handleCancelEditRoom=function(){a.hideEditRoomForm()},a.saveEditRoomFormRef=function(e){a.editRoomFormRef=e},a}return Object(Zt.a)(t,e),Object(zt.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement(dr,{wrappedComponentRef:function(t){return e.saveEditRoomFormRef(t)},visible:this.state.editRoomFormVisible,onCancel:this.handleCancelEditRoom,onCreate:this.handleCreateEditRoom,confirmLoading:this.props.editRoomFormLoading}),o.a.createElement(Xa.a,{columns:this.columns,dataSource:this.props.dataSource,pagination:!1,loading:this.props.isLoadingRoomsData}))}}]),t}(o.a.Component),pr=Object(u.b)(function(e){return{editRoomFormLoading:e.officeAdmin.editRoomFormLoading,currentOfficeUID:e.general.currentOfficeAdminUID,isLoadingRoomsData:e.officeAdmin.isLoadingRoomsData}},function(e){return{editConferenceRoom:function(t){return e(function(e){return{type:Y,payload:Object(f.a)({},e,{amenities:e.standardAmenities})}}(t))}}})(fr),hr=function(e){function t(){var e,a;Object(ee.a)(this,t);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(a=Object(Xt.a)(this,(e=Object(Wt.a)(t)).call.apply(e,[this].concat(n)))).state={fileList:[]},a.removeAmenity=function(e){var t=a.props.form,r=t.getFieldValue("keys");t.setFieldsValue({keys:r.filter(function(t){return t!==e})})},a.id=0,a.addAmenity=function(){var e=a.props.form,t=e.getFieldValue("keys").concat(++a.id);e.setFieldsValue({keys:t})},a.roomPhotoFile=function(e){return Array.isArray(e)?(a.state.fileList=e,e):(a.state.fileList=e.fileList||e,e&&e.fileList)},a}return Object(Zt.a)(t,e),Object(zt.a)(t,[{key:"uploadChange",value:function(e){"uploading"!==e.file.status&&console.log(e.file,e.fileList),"done"===e.file.status?cr.a.success("".concat(e.file.name," file uploaded successfully")):"error"===e.file.status&&cr.a.error("".concat(e.file.name," file upload failed."))}},{key:"render",value:function(){var e=this,t=this.props,a=t.visible,r=t.onCancel,n=t.onCreate,i=t.form,s=t.confirmLoading,c=i.getFieldDecorator,l=i.getFieldValue,u={labelCol:{xs:{span:24},sm:{span:4}},wrapperCol:{xs:{span:24},sm:{span:20}}},m={wrapperCol:{xs:{span:24,offset:0},sm:{span:20,offset:0}}};c("keys",{initialValue:[]});var d=l("keys")||[],f=d.map(function(t,a){return o.a.createElement(ua.a.Item,Object.assign({},0===a?u:m,{required:!1,key:t}),c("customAmenities[".concat(t,"]"),{validateTrigger:["onChange","onBlur"],rules:[{required:!1,whitespace:!0,message:"Please input an amenity or delete this field."}]})(o.a.createElement(ma.a,{placeholder:"Amenity",value:e.state.customAmenities[t],style:{width:"60%",marginRight:8}})),d.length>1?o.a.createElement(da.a,{className:"dynamic-delete-button",type:"minus-circle-o",disabled:1===d.length,onClick:function(){return e.removeAmenity(t)}}):null)}),p=!1;return this.state.fileList.length>=1&&(p=!0),o.a.createElement(Qa.a,{visible:a,title:"Add a Conference Room",okText:"Add",onCancel:r,onOk:n,confirmLoading:s},o.a.createElement(ua.a,{layout:"vertical"},o.a.createElement(ua.a.Item,{label:"Room Name"},c("roomName",{rules:[{required:!0,whitespace:!0,message:"Please input the room's name."}]})(o.a.createElement(ma.a,null))),o.a.createElement(ua.a.Item,{label:"Capacity"},c("capacity",{})(o.a.createElement(lr.a,{min:0}))),o.a.createElement(ua.a.Item,Object.assign({},u,{label:"Amenities"}),c("standardAmenities",{})(o.a.createElement(fa.a.Group,{style:{width:"100%"}},o.a.createElement(ca.a,null,o.a.createElement(la.a,{span:24},o.a.createElement(fa.a,{value:"whiteBoard"},"Whiteboard")),o.a.createElement(la.a,{span:24},o.a.createElement(fa.a,{value:"screenSharing"},"Screen Sharing")),o.a.createElement(la.a,{span:24},o.a.createElement(fa.a,{value:"videoConferencing"},"Video Conferencing"))))),o.a.createElement(ua.a.Item,m,f,o.a.createElement(pa.a,{type:"dashed",onClick:this.addAmenity,style:{width:"60%"}},o.a.createElement(da.a,{type:"plus"})," Add Amenity"))),o.a.createElement(ua.a.Item,Object.assign({},u,{label:"Upload Image"}),c("uploadPhoto",{getValueFromEvent:this.roomPhotoFile})(o.a.createElement(ur.a,Object.assign({},{name:"file",action:"//jsonplaceholder.typicode.com/posts/",headers:{authorization:"authorization-text"}},{disabled:p,fileList:this.state.fileList,accept:".png, jpg, jpeg",onChange:function(t){return e.uploadChange(t)}}),o.a.createElement(pa.a,null,o.a.createElement(da.a,{type:"upload"})," Click to add a photo.")))),o.a.createElement(ua.a.Item,{className:"collection-create-form_last-form-item"},c("reserveable",{initialValue:["reserveable"]})(o.a.createElement(fa.a.Group,{style:{width:"100%"}},o.a.createElement(ca.a,null,o.a.createElement(la.a,{span:24},o.a.createElement(fa.a,{value:"reserveable"},"Reserveable")))))),o.a.createElement(ua.a.Item,{className:"collection-create-form_last-form-item"},c("activeStatus",{rules:[{required:!0,whitespace:!0,message:"Please choose an active status for this room."}],initialValue:"active"})(o.a.createElement(Ja.a.Group,null,o.a.createElement(Ja.a,{value:"active"},"Active"),o.a.createElement(Ja.a,{value:"inactive"},"Inactive"))))))}}]),t}(o.a.Component),vr=ua.a.create({name:"createRoomForm"})(hr),gr=function(e){function t(){var e,a;Object(ee.a)(this,t);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(a=Object(Xt.a)(this,(e=Object(Wt.a)(t)).call.apply(e,[this].concat(n)))).state={currentList:"active",createRoomFormVisible:!1},a.handleClick=function(e){var t=e.key;"active"!=t&&"inactive"!=t||a.setState({currentList:t})},a.showCreateRoomFormModal=function(){a.setState({createRoomFormVisible:!0})},a.hideCreateRoomFormModal=function(){a.setState({createRoomFormVisible:!1});var e=a.createRoomFormRef.props.form;a.createRoomFormRef.setState({fileList:[]}),e.setFields({roomName:{value:null},capacity:{value:null},standardAmenities:{value:null},reserveable:{value:"reserveable"},activeStatus:{value:"active"},uploadPhoto:{value:[]},keys:{value:null}})},a.handleCreateRoom=function(){a.createRoomFormRef.props.form.validateFields(function(e,t){if(!e){var r=t.roomName,n=t.standardAmenities,i=!1;1==t.reserveable.includes("reserveable")&&(i=!0);var s=!1;"active"==t.activeStatus&&(s=!0);var o=t.customAmenities,c=t.capacity,l=a.props.currentOfficeUID,u=null,m=t.uploadPhoto||null;if(m)u=m[0].originFileObj;var d={roomName:r,capacity:c,standardAmenities:n,customAmenities:o,selectedOfficeUID:l,reserveable:i,activeStatus:s,photoFileObj:u,hideForm:a.hideCreateRoomFormModal};a.props.createConferenceRoom(d)}})},a.handleCancelCreateRoom=function(){a.hideCreateRoomFormModal()},a.saveCreateRoomFormRef=function(e){a.createRoomFormRef=e},a}return Object(Zt.a)(t,e),Object(zt.a)(t,[{key:"componentDidMount",value:function(){if(this.props.match.isExact){var e=this.props.match.params.officeUID,t=this.props.userAdminOfficeList,a=null;for(var r in t){var n=t[r];n.uid==e&&(a=n)}var i=Ba("homePageOfficeAdmin",{officeUID:e,officeObj:a});i&&this.props.changePage(i),Ba("conferenceRoomsPageOfficeAdmin")&&(this.props.changePage(i),this.props.loadConferenceRooms(e))}}},{key:"componentDidUpdate",value:function(e,t,a){var r=e.currentOfficeUID,n=this.props.currentOfficeUID;r!==n&&this.props.loadConferenceRooms(n)}},{key:"render",value:function(){var e=this,t=[];return"active"==this.state.currentList?t=this.props.activeRoomsList:"inactive"==this.state.currentList&&(t=this.props.inactiveRoomsList),o.a.createElement("div",{style:{backgroundColor:"#FFFFFF"}},o.a.createElement(vr,{wrappedComponentRef:function(t){return e.saveCreateRoomFormRef(t)},visible:this.state.createRoomFormVisible,onCancel:this.handleCancelCreateRoom,onCreate:this.handleCreateRoom,confirmLoading:this.props.addRoomFormLoading}),o.a.createElement(ca.a,null,o.a.createElement(la.a,{className:"wide-table",span:24},o.a.createElement("h1",null,"Conference Rooms"),o.a.createElement("div",null,o.a.createElement(Ea.a,{className:"inlineDisplay",style:{border:0},onClick:this.handleClick,defaultSelectedKeys:[this.state.currentList],mode:"horizontal"},o.a.createElement(Ma.a,{onClick:function(){return e.props.loadConferenceRooms(e.props.currentOfficeUID)}},o.a.createElement(Pa.a,null)),o.a.createElement(Ea.a.Item,{key:"active"},"Active"),o.a.createElement(Ea.a.Item,{key:"inactive"},"Inactive")),o.a.createElement(pa.a,{className:"inlineDisplay rightAlign",type:"primary",onClick:this.showCreateRoomFormModal},"Add Room")),o.a.createElement(pr,{dataSource:t}))))}}]),t}(o.a.Component),br=Object($t.a)(Object(u.b)(function(e){return{activeRoomsList:e.officeAdmin.activeRoomsList,inactiveRoomsList:e.officeAdmin.inactiveRoomsList,isLoadingRoomsData:e.officeAdmin.isLoadingUserData,currentOfficeUID:e.general.currentOfficeAdminUID,addRoomFormLoading:e.officeAdmin.addRoomFormLoading}},function(e){return{createConferenceRoom:function(t){return e(function(e){return{type:q,payload:Object(f.a)({},e,{amenities:e.standardAmenities})}}(t))},loadConferenceRooms:function(t){return e(function(e){return{type:j,payload:{officeUID:e}}}(t))},changePage:function(t){return e(Da(t))}}})(gr)),Ar=function(e){function t(){var e,a;Object(ee.a)(this,t);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(a=Object(Xt.a)(this,(e=Object(Wt.a)(t)).call.apply(e,[this].concat(n)))).state={fileList:[]},a.deskPhotoFile=function(e){return Array.isArray(e)?(a.state.fileList=e,e):(a.state.fileList=e.fileList||e,e&&e.fileList)},a}return Object(Zt.a)(t,e),Object(zt.a)(t,[{key:"uploadChange",value:function(e){"uploading"!==e.file.status&&console.log(e.file,e.fileList),"done"===e.file.status?cr.a.success("".concat(e.file.name," file uploaded successfully")):"error"===e.file.status&&cr.a.error("".concat(e.file.name," file upload failed."))}},{key:"render",value:function(){var e=this,t=this.props,a=t.visible,r=t.onCancel,n=t.onCreate,i=t.confirmLoading,s=t.form.getFieldDecorator,c=!1;return this.state.fileList.length>=1&&(c=!0),o.a.createElement(Qa.a,{visible:a,title:"Edit Hot Desk",okText:"Save",onCancel:r,onOk:n,confirmLoading:i},o.a.createElement(ua.a,{layout:"vertical"},o.a.createElement(ua.a.Item,{label:"Desk Name"},s("deskName",{rules:[{required:!0,whitespace:!0,message:"Please input the room's name."}]})(o.a.createElement(ma.a,null))),o.a.createElement(ua.a.Item,Object.assign({},{labelCol:{xs:{span:24},sm:{span:4}},wrapperCol:{xs:{span:24},sm:{span:20}}},{label:"Upload Image"}),s("uploadPhoto",{getValueFromEvent:this.deskPhotoFile})(o.a.createElement(ur.a,Object.assign({},{name:"file",action:"//jsonplaceholder.typicode.com/posts/",headers:{authorization:"authorization-text"}},{disabled:c,fileList:this.state.fileList,accept:".png, jpg, jpeg",onChange:function(t){return e.uploadChange(t)}}),o.a.createElement(pa.a,null,o.a.createElement(da.a,{type:"upload"})," Click to Upload")))),o.a.createElement(ua.a.Item,{className:"collection-create-form_last-form-item"},s("reserveable",{initialValue:["reserveable"]})(o.a.createElement(fa.a.Group,{style:{width:"100%"}},o.a.createElement(ca.a,null,o.a.createElement(la.a,{span:24},o.a.createElement(fa.a,{value:"reserveable"},"Reserveable")))))),o.a.createElement(ua.a.Item,{className:"collection-create-form_last-form-item"},s("activeStatus",{rules:[{required:!0,whitespace:!0,message:"Please choose an active status for this room."}],initialValue:"active"})(o.a.createElement(Ja.a.Group,null,o.a.createElement(Ja.a,{value:"active"},"Active"),o.a.createElement(Ja.a,{value:"inactive"},"Inactive"))))))}}]),t}(o.a.Component),Or=ua.a.create({name:"editDeskForm"})(Ar),Er=function(e){function t(){var e,a;Object(ee.a)(this,t);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(a=Object(Xt.a)(this,(e=Object(Wt.a)(t)).call.apply(e,[this].concat(n)))).state={selectedDesk:null,editDeskFormVisible:!1},a.columns=[{title:"Name",dataIndex:"name",sorter:function(e,t){var a=e.name,r=t.name;return a<r?-1:a>r?1:0},sortDirections:["descend","ascend"]},{title:"Reserveable",dataIndex:"reserveable",key:"reserveable",render:function(e){return o.a.createElement("div",{style:e?{color:"green"}:{color:"red"}},e?"true":"false")}},{title:"",dataIndex:"uid",key:"more",render:function(e){return o.a.createElement(ka.a,{overlay:function(){return a.editMenu(e)},trigger:["click"]},o.a.createElement(Ma.a,null,o.a.createElement(Za.a,null)))}}],a.editMenu=function(e){return o.a.createElement(Ea.a,{onClick:function(t){return a.handleEditMenuClick(t,e)},mode:"horizontal",style:{textAlign:"left",border:0}},o.a.createElement(Ea.a.Item,{key:"edit"},"Edit Desk Info"))},a.handleEditMenuClick=function(e,t){var r=e.key,n=a.props.dataSource,i=null;for(var s in n){var o=n[s];if(t==o.uid){a.setState({selectedDesk:o}),i=o;break}}null!=i&&("edit"==r&&(a.editDeskFormRef.props.form.setFields({deskName:{value:i.name},reserveable:{value:1==i.reserveable?["reserveable"]:[]},activeStatus:{value:1==i.active?"active":"inactive"}}),a.setState({editDeskFormVisible:!0})))},a.handleCreateEditDesk=function(){a.editDeskFormRef.props.form.validateFields(function(e,t){if(!e){var r=t.deskName,n=!1;1==t.reserveable.includes("reserveable")&&(n=!0);var i=!1;"active"==t.activeStatus&&(i=!0);var s=null,o=t.uploadPhoto||null;if(o)s=o[0].originFileObj;var c={selectedDeskUID:a.state.selectedDesk.uid,deskName:r,reserveable:n,activeStatus:i,photoFileObj:s,hideForm:a.hideEditDeskForm,selectedOfficeUID:a.props.currentOfficeUID};a.props.editHotDesk(c)}})},a.handleCancelEditDesk=function(){a.hideEditDeskForm()},a.hideEditDeskForm=function(){a.setState({editDeskFormVisible:!1}),a.editDeskFormRef.setState({fileList:[]}),a.editDeskFormRef.props.form.setFields({deskName:{value:null},reserveable:{value:[]},activeStatus:{value:null}})},a.saveEditDeskFormRef=function(e){a.editDeskFormRef=e},a}return Object(Zt.a)(t,e),Object(zt.a)(t,[{key:"componentDidMount",value:function(){this.props.loadHotDesks(this.props.currentOfficeUID)}},{key:"render",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement(Or,{wrappedComponentRef:function(t){return e.saveEditDeskFormRef(t)},visible:this.state.editDeskFormVisible,onCancel:this.handleCancelEditDesk,onCreate:this.handleCreateEditDesk,confirmLoading:this.props.editDeskFormLoading}),o.a.createElement(Xa.a,{columns:this.columns,dataSource:this.props.dataSource,pagination:!1,loading:this.props.isLoadingHotDesksData}))}}]),t}(o.a.Component),yr=Object(u.b)(function(e){return{editDeskFormLoading:e.officeAdmin.editDeskFormLoading,desksList:e.officeAdmin.desksList,currentOfficeUID:e.general.currentOfficeAdminUID,isLoadingHotDesksData:e.officeAdmin.isLoadingHotDesksData}},function(e){return{editHotDesk:function(t){return e(function(e){return{type:Z,payload:Object(f.a)({},e)}}(t))},loadHotDesks:function(t){return e(Ha(t))}}})(Er),Ur=function(e){function t(){var e,a;Object(ee.a)(this,t);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(a=Object(Xt.a)(this,(e=Object(Wt.a)(t)).call.apply(e,[this].concat(n)))).state={fileList:[]},a.deskPhotoFile=function(e){return Array.isArray(e)?(a.state.fileList=e,e):(a.state.fileList=e.fileList||e,e&&e.fileList)},a}return Object(Zt.a)(t,e),Object(zt.a)(t,[{key:"uploadChange",value:function(e){"uploading"!==e.file.status&&console.log(e.file,e.fileList),"done"===e.file.status?cr.a.success("".concat(e.file.name," file uploaded successfully")):"error"===e.file.status&&cr.a.error("".concat(e.file.name," file upload failed."))}},{key:"render",value:function(){var e=this,t=this.props,a=t.visible,r=t.onCancel,n=t.onCreate,i=t.confirmLoading,s=t.form.getFieldDecorator,c=!1;return this.state.fileList.length>=1&&(c=!0),o.a.createElement(Qa.a,{visible:a,title:"Add a Hot Desk",okText:"Add",onCancel:r,onOk:n,confirmLoading:i},o.a.createElement(ua.a,{layout:"vertical"},o.a.createElement(ua.a.Item,{label:"Desk Name"},s("deskName",{rules:[{required:!0,whitespace:!0,message:"Please input the room's name."}]})(o.a.createElement(ma.a,null))),o.a.createElement(ua.a.Item,Object.assign({},{labelCol:{xs:{span:24},sm:{span:4}},wrapperCol:{xs:{span:24},sm:{span:20}}},{label:"Upload Image"}),s("uploadPhoto",{getValueFromEvent:this.deskPhotoFile})(o.a.createElement(ur.a,Object.assign({},{name:"file",action:"//jsonplaceholder.typicode.com/posts/",headers:{authorization:"authorization-text"}},{disabled:c,fileList:this.state.fileList,accept:".png, jpg, jpeg",onChange:function(t){return e.uploadChange(t)}}),o.a.createElement(pa.a,null,o.a.createElement(da.a,{type:"upload"})," Click to Upload")))),o.a.createElement(ua.a.Item,{className:"collection-create-form_last-form-item"},s("reserveable",{initialValue:["reserveable"]})(o.a.createElement(fa.a.Group,{style:{width:"100%"}},o.a.createElement(ca.a,null,o.a.createElement(la.a,{span:24},o.a.createElement(fa.a,{value:"reserveable"},"Reserveable")))))),o.a.createElement(ua.a.Item,{className:"collection-create-form_last-form-item"},s("activeStatus",{rules:[{required:!0,whitespace:!0,message:"Please choose an active status for this room."}],initialValue:"active"})(o.a.createElement(Ja.a.Group,null,o.a.createElement(Ja.a,{value:"active"},"Active"),o.a.createElement(Ja.a,{value:"inactive"},"Inactive"))))))}}]),t}(o.a.Component),kr=ua.a.create({name:"createDeskForm"})(Ur),Fr=function(e){function t(){var e,a;Object(ee.a)(this,t);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(a=Object(Xt.a)(this,(e=Object(Wt.a)(t)).call.apply(e,[this].concat(n)))).state={currentList:"active",createDeskFormVisible:!1},a.showCreateDeskFormModal=function(){a.setState({createDeskFormVisible:!0})},a.handleConfirmCreateDesk=function(){a.createDeskFormRef.props.form.validateFields(function(e,t){if(!e){var r=t.deskName,n=!1;1==t.reserveable.includes("reserveable")&&(n=!0);var i=!1;"active"==t.activeStatus&&(i=!0);var s=null,o=t.uploadPhoto||null;if(o)s=o[0].originFileObj;var c={deskName:r,selectedOfficeUID:a.props.currentOfficeUID,reserveable:n,activeStatus:i,photoFileObj:s,hideForm:a.hideCreateDeskForm};a.props.createHotDesk(c)}})},a.handleCancelCreateDesk=function(){a.hideCreateDeskForm()},a.hideCreateDeskForm=function(){a.setState({createDeskFormVisible:!1});var e=a.createDeskFormRef.props.form;a.createDeskFormRef.setState({fileList:[]}),e.setFields({deskName:{value:null},reserveable:{value:["reserveable"]},activeStatus:{value:"active"},uploadPhoto:{value:[]}})},a.saveCreateDeskFormRef=function(e){a.createDeskFormRef=e},a.handleClick=function(e){var t=e.key;"active"!=t&&"inactive"!=t||a.setState({currentList:t})},a}return Object(Zt.a)(t,e),Object(zt.a)(t,[{key:"componentDidMount",value:function(){if(this.props.match.isExact){var e=this.props.match.params.officeUID,t=Ba("hotDesksPageOfficeAdmin",{officeUID:e});t&&this.props.changePage(t),Ba("hotDesksPageOfficeAdmin")&&this.props.changePage(t)}}},{key:"componentDidUpdate",value:function(e,t,a){var r=e.currentOfficeUID,n=this.props.currentOfficeUID;r!==n&&this.props.loadHotDesks(n)}},{key:"render",value:function(){var e=this,t=[];return"active"==this.state.currentList?t=this.props.activeDesksList:"inactive"==this.state.currentList&&(t=this.props.inactiveDesksList),o.a.createElement("div",null,o.a.createElement(ca.a,null,o.a.createElement(la.a,{className:"wide-table",span:24},o.a.createElement("h1",null,"Hot Desks"),o.a.createElement(kr,{wrappedComponentRef:function(t){return e.saveCreateDeskFormRef(t)},visible:this.state.createDeskFormVisible,onCancel:this.handleCancelCreateDesk,onCreate:this.handleConfirmCreateDesk,confirmLoading:this.props.createDeskFormLoading}),o.a.createElement(Ea.a,{onClick:this.handleClick,selectedKeys:[this.state.currentList],mode:"horizontal"},o.a.createElement(Ma.a,{className:"inlineDisplay",onClick:function(){return e.props.loadHotDesks(e.props.currentOfficeUID)}},o.a.createElement(Pa.a,null)),o.a.createElement(Ea.a.Item,{key:"active"},"Active"),o.a.createElement(Ea.a.Item,{key:"inactive"},"Inactive"),o.a.createElement(pa.a,{className:"inlineDisplay",type:"primary rightAlign",onClick:this.showCreateDeskFormModal},"Add Hot Desk")),o.a.createElement(yr,{dataSource:t}))))}}]),t}(o.a.Component),Dr=Object($t.a)(Object(u.b)(function(e){return{createDeskFormLoading:e.officeAdmin.createDeskFormLoading,activeDesksList:e.officeAdmin.activeDesksList,inactiveDesksList:e.officeAdmin.inactiveDesksList,isLoadingHotDesksData:e.officeAdmin.isLoadingUserData,currentOfficeUID:e.general.currentOfficeAdminUID,user:e.auth.user}},function(e){return{createHotDesk:function(t){return e(function(e){return{type:X,payload:Object(f.a)({},e)}}(t))},loadHotDesks:function(t){return e(Ha(t))},changePage:function(t){return e(Da(t))}}})(Fr)),Cr={apiKey:"AIzaSyBPUBLiY-FCuqpJLVibdr-RoiUt4wzbaLE",authDomain:"airspace-management-app.firebaseapp.com",databaseURL:"https://airspace-management-app.firebaseio.com",projectId:"airspace-management-app",storageBucket:"airspace-management-app.appspot.com",messagingSenderId:"927508779333"},Ir=function e(){Object(ee.a)(this,e),Ot.a.apps.length||Ot.a.initializeApp(Cr),this.auth=Ot.a.auth(),this.functions=Ot.a.functions(),this.storage=Ot.a.storage()},jr=function(e){function t(){return Object(ee.a)(this,t),Object(Xt.a)(this,Object(Wt.a)(t).apply(this,arguments))}return Object(Zt.a)(t,e),Object(zt.a)(t,[{key:"componentWillMount",value:function(){null===this.props.firebase&&(this.firebase=new Ir,this.props.setUpFirebase(this.firebase))}},{key:"componentDidMount",value:function(){var e=this.firebase||null;if(e){var t=this.props;this.listener=e.auth.onAuthStateChanged(function(e){e?(t.setUpUser(e.uid),t.history.push("/")):(t.setUpUser(null),t.history.push("/login"))})}else console.log("firebase NOT set up in App.js render()")}},{key:"componentWillUnmount",value:function(){this.listener()}},{key:"renderPageContent",value:function(e){switch(e){case"homePageRegularUser":return null;case"userPageOfficeAdmin":return o.a.createElement(or,null);default:return null}}},{key:"render",value:function(){return this.props.user?o.a.createElement("div",null,o.a.createElement(ca.a,null,o.a.createElement(la.a,{span:4},o.a.createElement(xa,null)),o.a.createElement(la.a,{span:20},o.a.createElement(Ia,null),o.a.createElement(Qt.a,null,o.a.createElement(Jt.a,{path:"/officeAdmin",component:Lr}))))):o.a.createElement("div",null,o.a.createElement(Qt.a,null,o.a.createElement(Jt.a,{path:"/",component:Oa}),o.a.createElement(Jt.a,{path:"/login",component:Oa})))}}]),t}(s.Component),Rr=Object($t.a)(Object(u.b)(function(e){return{user:e.auth.user,isLoading:e.general.isLoading,error:e.general.error,firebase:e.firebase.firebase,currentPage:e.general.currentPage}},function(e){return{setUpFirebase:function(t){return e(function(e){return{type:"SET_UP_FIREBASE",payload:{firebase:e}}}(t))},setUpUser:function(t){return e(function(e){return{type:U,payload:{uid:e}}}(t))}}})(jr)),Lr=function(){return o.a.createElement(Qt.a,null,o.a.createElement(Jt.a,{exact:!0,path:"/officeAdmin/:officeUID",component:or}),o.a.createElement(Jt.a,{path:"/officeAdmin/:officeUID/users",component:or}),o.a.createElement(Jt.a,{path:"/officeAdmin/:officeUID/conferenceRooms",component:br}),o.a.createElement(Jt.a,{path:"/officeAdmin/:officeUID/hotDesks",component:Dr}))},wr=a(684),Sr=a(315),xr=o.a.createElement(wr.a,null,o.a.createElement(u.a,{store:Kt},o.a.createElement(Sr.a,{loading:null,persistor:Yt},o.a.createElement(Rr,null))));l.a.render(xr,document.getElementById("root"))},81:function(e,t,a){}},[[318,2,1]]]);
//# sourceMappingURL=main.c4434b64.chunk.js.map