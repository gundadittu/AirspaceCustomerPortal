(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{159:function(e,t,a){},278:function(e,t,a){e.exports=a.p+"static/media/nav-logo.95664742.png"},279:function(e,t,a){},314:function(e,t,a){e.exports=a.p+"static/media/fogg-logged-out-1.81182dc8.png"},334:function(e,t,a){e.exports=a(685)},564:function(e,t,a){},566:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAKhSURBVGhD7ZhPi9NAGMYrwnoQxbNePYlus3oTzehhj9pE6clVr1a3+xX8CKJ4EN0me9p0g4dFk8CeFAT/gKgsoiSgX8CDUkT0FN83eUeG5aU0bTPpSn7wQDt/nnneTAbaadTU1EyO73+cc9fjFcdL3jj95KfbT1JO2Od48Su3H3dxDk2vlrWN+AgEf88FHianH79bXf98mGyq4W6U7HO9ZJsLOIqwiEp3Al8bLlgRwSu1THb6gQCvdwYqKjwTZKefYQd2ZHnJgOz0s3TreTpMMiTXp4rs9MOFUTXzBciAk4rs9MOFGUdkpx/udVAlA3J9qshOP1wYVTNfgAw4qchOP1yYcUR2+hB2mKK410GVDMj1qZJ+ZF8+/00BMuCkqgsoilyQex1UyYBcn6q6gKLIBaf1c7q6ArI/6EyoAkKPygrA2wUuVBHBLt7UXoBpBT9wweu3nx0a50ZCCp7+2yvd6CB6oSfZl4+wg21c9MzlaB6vRvB2gQs4TBge54pWYOQFhB/IvnxMO3hIi97D73g1AoGWQS/xUHKBM0Efjul5SUdepwgruI9ewgof4HctnLeCU1kBdvD7rP3kJDUXJvOxwj9ZAbAT1KwH+eRMO/xutqIL1Dwypv3UlmdJ7qRWjrX9OdiBx9nTy3fjBTzNG2YrPLG4uLWfhv0D2/DMCCvqZGNpHshHLxqmm3QPhFmBXfimBBpJ+Zygix5kVh2nL24egEDXIJgP+go78UsNmwnbrPALfN4Ql4Kr3C7NFDsLoObdQ11A1dQFVM2uKaDd9vfOi9XjTdFbMkznjiGcraZwPi2cW0sNkQs/Yxv24Rgci3NwLtnoZUE8OmqIXqdpupuGcAcgCDqWBrlHr4OeZF8+TJCpiOzLh1t8GiL7mhp9NBp/AS3g8WJeufDqAAAAAElFTkSuQmCC"},567:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAATgSURBVHhe7ZjtT1tVHMfr3Iv5YomZi/4DJvOFMdHoC2MiEdqiuAd11tAOw8Kt+EKjMS4qD25LZMa9oC1xVgxPwd4hg7ZDYIMZJzgRGS90RDZAkT1oG0SeVhhQOvh5Tvuj3LYHym7p7dqcT/JNLuf8zi/n++3p4aYqDofD4XA4HKUAgHssot1gER0XiGapzDZHp9nm1NM5LEtNGhoa7iVGT1pEJ7BE52gNlqcexODhoGGbw2exObsCIs+r4x9jeWpReurUfeS4ewJGHR5TbeOTOKUipp8i4czQObPouFlTU7MNp1IHs2h/Nvgpi44SHA5iFp3HVuZpLQ6nDmbx9IcrBk2ioxSHg9CxlXmLePoDHE4dyNFeDcDmuI7DQcxfO/9eDcCeegEE/vWtGCSy2bvL6poepyJ//xIyR2pxWWJJy829X2MQjhENqQ1Gr8ZgBLk6eOiwxOD6orWsHhtVYK/CEHkuoR7Qzp2hzREeVuuFkfDmcqVkAKEShqkXtLUx0tKObCWL+yKbyVfiAvDrV51Ot/EXrAz9G/sZTWJSggMArT7vJbQXHXL0T0gXHzV9AXPzC+RVXT6usXGmWZbcYxO4Sh50r0dKT4QEQPQ52ouORm88KV18vqsHW8tnaXkZvmnrYBqWqr69A5ZJbazQPUs9UE9oLzoRAfwcewAU76IPen8fhLM/9cKZCxdDRMd6+4dg0Xcbq2OD7lnq4a4IQEl4ADyABATgcrmgu7sbOjs7YWIitps8VhQNYGpqCgoKCiA9PT2ooqIicLvdWKE8igXg8/kgPz8/xPyKNBoNtLa2YiWb3waHN0XX3KPYMYBiAVCD4cZf368G03uZoFWnQ6ZWAx6PB6sjYZmRo4QFUHjobTSdAZWFmfBn7YsAbXv8+tHygj+Ejo4OrI6EZUaOEhbAwQM66K/MCpoOV0VBJjQ2NmJ1JCwzcpSwAAy6vTDbtJtpnqru6PNQL1ZjdSQsM3KUmADGL8GA9WlYaNkDfWXPwNXK54LG24ufAO+3WXC5KgsWmsnXYg2mPDObolvz89gxgDIB+OYALhb6DftadsPS2dWT4KWm6fO5lwFutOEC5VAmAMrsP8To3qDxCPUWY6GyKBcApa+Ubb59H8BkPxaxYX2f5Shhl6CfJS/AD7nEtOQybNUAXGvGgrVhmZGjxAZA6fkIoGIbQO1DADUPAHy1BWDmOk6uzVXX6KZobHIaOwZQLICphQUwXeqFNxtLwF2+HaBc5deZ8l2Q950dzt0YwUplUSSAppE/YGd1Gaisn/m11fop7LK+Dw9ai4NjVOrmevh37hauUoa4B2D/axC2fHk8xOh6eqSuAqa9kT+sso4zS+FHPBpxDWBm0Qs7qixMo+vp3a7vscMqrAuNpfBLLhpxDaDySh/TYDRtrzCBdyn0R0+WWZbuqgDoJ8kyuBFdmRzHLvElrgH0jLqgYXhAlv6bJ6/PCnA+ngEkAzyAmAIwGKuli0VnC7ZNHuiepR7UemMV2ouOxiC8I12cmZMPhcct8ElZeVKI7pXuWeqB6C20F500ff5OktjNsAZJLGFa+6qwA+1tDHW28TW1wXib3TB5RD2oDcIraOvO0GYLGrJ4gNU4KaQ3XlYfyMtAO/JJzxYeyzAY95GjpEsG+feak/cobp/D4XA4HA6Hw4lApfofDkZUmAdTtz0AAAAASUVORK5CYII="},568:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAMwSURBVHhe7ZqxTxNhGMaLDOr/ACLKYoLi4F0wMSQUB2e1iCTuGmVwUCKJxkETiUzI4OKgAQcH22obKIaiQi0DbQkBr+WOoCGok5G2M6/3Nd81l/at/a7XS3r4PskvNN/33tP3eUhIaOohkUikeig4t3AvMBf74Y/Gdthrflw3Oe1vS4H52EAgGgMzwbkvPn5tW07725Y/uviidEF2xq9ty2l/2wpEF6dKF2Rn/Nq2nPb/p8Djacr1SYP5PvlTzivn9Z9QytKz8ZLlYoUzbLYWrPgXdvTKH3O98lW2O49Rm8Dna9bNprA3MoMuOO5wASL+XnmSZeBxrEs3eIAam8h6ZYiMjpUtOPPkKeSQeavY9vfKIzyONe11dx/Oe6Vd1NTE+ukT8P7xaNmC7IzdYc9Ywba/nmHvQsdBHktc2V6pBzUsIXq0reKC0fY29Bkr1MOfZeGxxJU7L/VjZqXMtLTAu4ePyhZkZ5HWFvQZK9TDn2XhscTF//KjhmYWOo5B+JKvbMHwRR8sHG9Hn7FCPfxZFh5LXKIFfJNOwrT+WwrduAXBt6ECoes3C2ff5VPoM1aoh7+jBTA2pU6YPdJaWIrBXm+e6URna8Guv+MFMHZ7Jdju7oLts12F19iMHez411TA72uXhzAzN8Ky8Fji2rl/dwIzcyMsC48lrv++gIzfP6S+noL9AMvCY4krqWiDqbQG+wGWhccSFxVABVABVABm5kYcL+BDPFH235qZxdRacRa7N2PMsWewewP2nsZsNagAKoAKoAJ4LHFRAVQAFSBcQKNDBThdwNKqArHUekWW1zPFWezejDG3Fl9CP9wwUKYjxdlqOF6AE38DtMmX6MdbBj+Hbxdnq0EFUAFUABXAY4mLCqACxAv4nFiF2fhyReKrX4uz2L0ZY04Jh+HXnaGKbD2fKM5Ww/ECGh0qgAqooYBUWu3HzNyJav1LUolMpgc3cx8r6c1zPJa45re2DqUUbRczdBWK+mdjY8P6FyWZkoo6gpq6i2Eex7reADQn0+okYuoOFO0VABzgcWqTbtCUyGgDybQ2r5NF36iBYDuyXVfS6hUegUQikUgkEgmRx/MXXDTSknMRZ2UAAAAASUVORK5CYII="},569:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAShSURBVHhe7Zrdb9tUGIeDBBcgtDsuuGEIGBJ/wBjaVadpK8R17HTdGG2HRqdNILp1sDFRNMQtQkJs2icIkBDrx6B1sqW0a0pSREvaVP1Yk7JmXZuUW66QEBJcvfh17S623/gjTRwn8U96rnKOc35Pek6cND4vXrx48eLFeppuNz3BDgZfYQWeY4TgQTeAa/GHA7tabrY8Li+z9GEGmncwIa6XEfh/mkI8uBFcm0gPe4t9QV52acKGuGNi+f+oJ3UlAv+vKKJDXv7WguXJJ6kGwoG35BrF5TWBf7GqXnkNuPZXBf55uY794H6iLlxdcDfkOvaCJ6qbDzyriH8Ffxf17iCWf5m6YFUyGNwp17IeJhwIkhdzCD7cAp2jXdAdPw+nx87A4Ug7Oc4K2EWuZT3i3mmlLlZu2obehO9ne+B+9j6sr69vspZbk0RQc8zhWuVa1mNXwLlYN0zcm9zCInk4GT0NS6tLquJIbj0Hn058Rs6xRpkFnIt9KL1CymJ/nB+UXklqbCE6hk/A8lqmDOWRMgv4KP6xbuGZbAY+n7xAjqeILo3prlGa8ogDW+Cn1LCuAEKN1fJu9JRunln5YyMnRMFfkI/pcUBAx8hxWM2t6opw4QPk+HyuTF1TzbFSPvUgDYlMgnxcjwMCkGvTX6qKIJHFIVMJ/fM3VXN6ZvvIcYhSHsfhNqPG6HFIQPOtQ/DD/AAIC2FYfJDaLHR7MWIooW9OLQAP1PPjn+jG5ZdH8K1SO4bGIQH5dAwfFyUsbi7WSMLlqaub4xS0ErTlEddtAS341mZFwjujnapiCooEqjzyVfJr3bVoKiQA0UrQnglsKAg9c72qYvms5bLkzdFKdgXah46qnqswFRSAbEjYOBPS6TREJ6IQDB80LW+EvfuDCgtAUELy7gzE43GIxWIwKkrom+snyxmRy+XgYuIS+RyFcYEApGvkDIz/Mi4JSKUevktoWVi5q7stzopb4U56FDqjXeS1jXGJAOT9O2elbZBfLp9kZgZah45I5wTeIUofh6Nb+zjsGgFme/7XhWlojRwh524NFwgwKx9LTsFTbRw8c3Y/fq1NXqN4KiwAy9+YNS/vYxskSi+hggLMyv88nVCVL4+ECgkwKz+1nIRn327WlVconYQKCDArP51JSqf9vt4APNm+lxSAlEaCwwKsllfGl1+CgwLsllcorwSHBBRbXsFMwvYPipXgkIBvZr4liyNm5RXMJDzX3UjOM8YBAfiZHb/LK1T+DRt3eIYSAg2w5zuWnFcYBwTgP0ZKUV7BSMKuyww5pzAOCHg90ga/r94rSXkFSsJjLXugsZ8jxxfGoTPg1Nh7MLn8m/RRFr8YPSxKocbZYV8vB0+f3A+PHmiAbUf3wu7rTeQ4YxwS4FaYENco17KeWhLgF/iX5FrWUysCGIH/Q65kLzUkoFuuZC+1IYBbwV+2ypXspfoFcH8WtfeVVLMA8dRP+Aeat8tViks1CcAfROJhJ665T4T1ge8RuUbxMRbA/eUPcbvlobWZwgLqoDyGFlAn5TF6AXVUHqMWUGflMQ8F1GF5zIaAOi2P8Q8Gmbot78WLlzqJz/c/bKtCc4e6PpQAAAAASUVORK5CYII="},575:function(e,t,a){},59:function(e,t,a){},685:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"userSignInWatchSaga",function(){return be}),a.d(n,"userSignOutWatchSaga",function(){return Ee}),a.d(n,"watchSetUpUserSaga",function(){return Oe});var r={};a.r(r),a.d(r,"loadOfficeUsersWatchSaga",function(){return ct}),a.d(r,"loadConferenceRoomsWatchSaga",function(){return lt}),a.d(r,"loadHotDesksWatchSaga",function(){return ut}),a.d(r,"loadRegisteredGuestsWatchSaga",function(){return dt}),a.d(r,"loadEventsWatchSaga",function(){return mt}),a.d(r,"createUserForOfficeAdmin",function(){return ft}),a.d(r,"removeUserForOfficeAdmin",function(){return pt}),a.d(r,"editUserForOfficeAdmin",function(){return ht}),a.d(r,"createConferenceRoomOfficeAdmin",function(){return vt}),a.d(r,"editConferenceRoomForOfficeAdmin",function(){return gt}),a.d(r,"createHotDeskOfficeAdmin",function(){return bt}),a.d(r,"editHotDeskForOfficeAdmin",function(){return Et}),a.d(r,"getSpaceInfoForOfficeAdmin",function(){return Ot});var i={};a.r(i),a.d(i,"loadNotificationsWatchSaga",function(){return Jt});var o=a(0),s=a.n(o),c=a(9),l=a.n(c),u=a(30),d=a(62),m=a(332),f=a(29),p=a(13),h=a.n(p),v=a(8),g="SIGN_IN_USER",b="SIGN_IN_USER_SUCCESS",E="SIGN_IN_USER_ERROR",O="SIGN_OUT_USER",A="SIGN_OUT_USER_SUCCESS",y="SIGN_OUT_USER_ERROR",D="SET_UP_USER",U="SET_UP_USER_SUCCESS",F="SET_UP_USER_ERROR",k="LOAD_OFFICE_USER",L="LOAD_OFFICE_USER_SUCCESS",I="LOAD_OFFICE_USER_ERROR",j="LOAD_CONFERENCE_ROOM",C="LOAD_CONFERENCE_ROOM_SUCCESS",R="LOAD_CONFERENCE_ROOM_ERROR",w="LOAD_HOT_DESKS",S="LOAD_HOT_DESKS_SUCCESS",x="LOAD_HOT_DESKS_ERROR",N="LOAD_REGISTERED_GUESTS",P="LOAD_REGISTERED_GUESTS_SUCCESS",M="LOAD_REGISTERED_GUESTS_ERROR",T="LOAD_EVENTS",V="LOAD_EVENTS_SUCCESS",G="LOAD_EVENTS_ERROR",_="LOAD_NOTIFICATIONS",H="LOAD_NOTIFICATIONS_SUCCESS",B="LOAD_NOTIFICATIONS_ERROR",Y="CREATE_USER_FOR_OFFICEADMIN",q="CREATE_USER_FOR_OFFICEADMIN_FINISHED",K="REMOVE_OFFICE_USER",z="REMOVE_OFFICE_USER_FINISHED",W="EDIT_OFFICE_USER",X="EDIT_OFFICE_USER_FINISHED",Z="ADD_CONF_ROOM",Q="ADD_CONF_ROOM_FINISHED",J="EDIT_CONF_ROOM",$="EDIT_CONF_ROOM_FINISHED",ee="ADD_HOT_DESK",te="ADD_HOT_DESK_FINISHED",ae="EDIT_HOT_DESK",ne="EDIT_HOT_DESK_FINISHED",re="LOAD_SPACE_INFO",ie="LOAD_SPACE_INFO_FINISHED",oe="LOAD_SPACE_INFO_FINISHED_ERROR",se=function(e){return e.firebase.firebase},ce=function(e){return e.auth.adminOfficeList},le=a(12),ue=function e(t){Object(le.a)(this,e);var a=t.uid||null;if(null===a)return null;var n=t.name||null,r=t.building||null,i=t.floor||null,o=t.roomNo||null;this.uid=a,this.name=n,this.building=r,this.floorNo=i,this.roomNo=o},de=(a(133),a(237),a(688)),me=h.a.mark(be),fe=h.a.mark(Ee),pe=h.a.mark(Oe),he=h.a.mark(ye),ve=h.a.mark(Ue),ge=h.a.mark(ke);function be(){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(v.d)(g,ye);case 2:case"end":return e.stop()}},me,this)}function Ee(){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(v.d)(O,Ue);case 2:case"end":return e.stop()}},fe,this)}function Oe(){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(v.d)(D,ke);case 2:case"end":return e.stop()}},pe,this)}function Ae(e,t){var a=e.email||null,n=e.password||null,r="session";return!0===(e.rememberMe||!1)&&(r="local"),t.auth.setPersistence(r).then(function(){return t.auth.signInWithEmailAndPassword(a,n)}).catch(function(e){throw console.log("sign in error reached"),e})}function ye(e){var t;return h.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(v.c)(se);case 3:return t=a.sent,a.next=6,Object(v.a)(Ae,e.payload,t);case 6:return a.next=8,Object(v.b)({type:b});case 8:a.next=15;break;case 10:return a.prev=10,a.t0=a.catch(0),de.a.error({message:"Unable to sign in user.",description:a.t0.message}),a.next=15,Object(v.b)({type:E,payload:{error:a.t0}});case 15:case"end":return a.stop()}},he,this,[[0,10]])}function De(e){return e.auth.signOut().catch(function(e){throw e})}function Ue(e){var t;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(v.c)(se);case 3:return t=e.sent,e.next=6,Object(v.a)(De,t);case 6:return console.log("SIGN OUT CALL SUCCESSFUL"),e.next=9,Object(v.b)({type:A});case 9:e.next=17;break;case 11:return e.prev=11,e.t0=e.catch(0),console.error(e.t0),de.a.error({message:"Unable to sign out user.",description:e.t0.message}),e.next=17,Object(v.b)({type:y,payload:{error:e.t0}});case 17:case"end":return e.stop()}},ve,this,[[0,11]])}function Fe(e,t){var a=e.uid||null;return null==a?null:t.functions.httpsCallable("getUserInfo")({uid:a}).then(function(e){var t=e.data,a=[];for(var n in t.officeAdmin){var r=t.officeAdmin[n],i=new ue(r);i&&a.push(i)}t.officeAdmin=a;var o=[];for(var s in t.offices){var c=t.offices[s],l=new ue(c);l&&o.push(l)}return t.offices=o,t})}function ke(e){var t,a;return h.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(v.c)(se);case 3:return t=n.sent,n.next=6,Object(v.a)(Fe,e.payload,t);case 6:return a=n.sent,n.next=9,Object(v.b)({type:U,payload:{data:a}});case 9:n.next=17;break;case 11:return n.prev=11,n.t0=n.catch(0),console.error(n.t0),de.a.error({message:"Unable to set up portal for user",description:n.t0.message}),n.next=17,Object(v.b)({type:F,payload:{error:n.t0}});case 17:case"end":return n.stop()}},ge,this,[[0,11]])}var Le=function e(t){Object(le.a)(this,e);var a=t.uid||null;if(null===a)return null;var n=t.firstName||null,r=t.lastName||null,i=t.email||null,o=t.type||null,s=t.offices||null,c=t.officeAdmin||null;this.profileImageURL=t.profileImageURL||null,this.uid=a,this.name=n+" "+r,this.firstName=n,this.lastName=r,this.email=i,this.type=o;var l=[];for(var u in s){var d=new ue(s[u]);d&&l.push(d)}this.offices=l;var m=[];for(var f in c){var p=new ue(s[f]);p&&m.push(p)}this.officeAdmins=m},Ie={whiteBoard:"White Board",videoConferencing:"Video Conferencing",screenSharing:"Screen Sharing"},je=function e(t){Object(le.a)(this,e);var a=null;for(var n in Ie)if(n===t){a=Ie[n];break}if(null===a)return null;this.type=t,this.title=a},Ce=function e(t){Object(le.a)(this,e);var a=t.uid||null;if(null===a)return null;var n=t.name||null,r=t.offices||null,i=t.amenities||null,o=t.capacity||null,s=t.address||null,c=t.active||null,l=t.reserveable||null,u=t.imageURL||null;this.uid=a,this.name=n;var d=[];for(var m in r){var f=new ue(r[m]);f&&d.push(f)}this.offices=d;var p=[];for(var h in i){var v=i[h],g=new je(v);null!==g&&p.push(g)}this.amenities=p,this.capacity=o,this.address=s,this.active=c,this.reserveable=l,this.imageURL=u},Re=function e(t){Object(le.a)(this,e);var a=t.uid||null;if(null===a)return null;var n=t.name||null,r=t.offices||null,i=t.active||null,o=t.reserveable||null,s=t.imageURL||null;this.uid=a,this.name=n;var c=[];for(var l in r){var u=new ue(r[l]);u&&c.push(u)}this.offices=c,this.active=i,this.reserveable=o,this.imageURL=s},we=a(53),Se=a.n(we),xe=function e(t){Object(le.a)(this,e);var a=t.uid||null;if(null===a)return null;var n=t.guestName||null,r=t.guestEmail||null,i=!!t.arrived&&t.arrived,o=!!t.canceled&&t.canceld,s=t.expectedVisitDate||null,c=t.hostUID||null,l=t.visitingOfficeUID||null,u=t.visitingCompanyUID||null;if(this.uid=a,this.name=n,this.email=r,this.arrived=i,this.canceled=o,s){var d=s._seconds,m=s._nanoseconds,f=new Se.a.firestore.Timestamp(d,m);this.expectedVisitDate=f.toDate()}this.hostUID=c,this.visitingOfficeUID=l,this.visitingCompanyUID=u},Ne=function e(t){Object(le.a)(this,e);var a=t.uid||null;if(null===a)return null;var n=t.title||null,r=t.offices||null,i=t.startDate||null,o=t.endDate||null,s=t.address||null,c=t.canceld||null,l=t.description||null,u=t.imageURL||null;this.uid=a,this.title=n;var d=[];for(var m in r){var f=new ue(r[m]);f&&d.push(f)}var p=i._seconds,h=i._nanoseconds,v=new Se.a.firestore.Timestamp(p,h);this.startDate=v.toDate();var g=o._seconds,b=o._nanoseconds,E=new Se.a.firestore.Timestamp(g,b);this.endDate=E.toDate(),this.offices=d,this.address=s,this.canceled=c,this.description=l,this.imageURL=u},Pe=h.a.mark(ct),Me=h.a.mark(lt),Te=h.a.mark(ut),Ve=h.a.mark(dt),Ge=h.a.mark(mt),_e=h.a.mark(ft),He=h.a.mark(pt),Be=h.a.mark(ht),Ye=h.a.mark(vt),qe=h.a.mark(gt),Ke=h.a.mark(bt),ze=h.a.mark(Et),We=h.a.mark(Ot),Xe=h.a.mark(Dt),Ze=h.a.mark(Ft),Qe=h.a.mark(Lt),Je=h.a.mark(jt),$e=h.a.mark(Rt),et=h.a.mark(St),tt=h.a.mark(Nt),at=h.a.mark(Mt),nt=h.a.mark(Vt),rt=h.a.mark(_t),it=h.a.mark(Bt),ot=h.a.mark(qt),st=h.a.mark(zt);function ct(){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(v.d)(k,Ft);case 2:case"end":return e.stop()}},Pe,this)}function lt(){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(v.d)(j,Lt);case 2:case"end":return e.stop()}},Me,this)}function ut(){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(v.d)(w,jt);case 2:case"end":return e.stop()}},Te,this)}function dt(){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(v.d)(N,Rt);case 2:case"end":return e.stop()}},Ve,this)}function mt(){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(v.d)(T,St);case 2:case"end":return e.stop()}},Ge,this)}function ft(){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(v.d)(Y,Dt);case 2:case"end":return e.stop()}},_e,this)}function pt(){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(v.d)(K,Nt);case 2:case"end":return e.stop()}},He,this)}function ht(){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(v.d)(W,Mt);case 2:case"end":return e.stop()}},Be,this)}function vt(){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(v.d)(Z,Vt);case 2:case"end":return e.stop()}},Ye,this)}function gt(){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(v.d)(J,_t);case 2:case"end":return e.stop()}},qe,this)}function bt(){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(v.d)(ee,Bt);case 2:case"end":return e.stop()}},Ke,this)}function Et(){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(v.d)(ae,qt);case 2:case"end":return e.stop()}},ze,this)}function Ot(){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(v.d)(re,zt);case 2:case"end":return e.stop()}},We,this)}function At(e,t){if(null==t)throw de.a.error({message:"Permission denied.",description:"Current user is not a admin for this office."}),new Error("Current user is not a admin for this office..");if(!1===t.map(function(t){return t.uid===e}).includes(!0))throw de.a.error({message:"Permission denied.",description:"Current user is not a admin for this office."}),new Error("Current user is not a admin for this office.")}function yt(e,t){var a={firstName:e.firstName,lastName:e.lastName,email:e.emailAddress,makeUserOfficeAdmin:e.makeUserOfficeAdmin,selectedOfficeUID:e.officeUID,type:"regular"};return t.functions.httpsCallable("addUserToOffice")(a).then(function(e){return null})}function Dt(e){var t,a,n,r,i,o,s;return h.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,t=e.payload,a=t.officeUID,c.next=5,Object(v.c)(ce);case 5:return n=c.sent,At(a,n),c.next=9,Object(v.c)(se);case 9:return r=c.sent,c.next=12,Object(v.a)(yt,t,r);case 12:return de.a.success({message:"Successfully added new user.",description:""}),i={hideFormRef:t.hideFormRef},c.next=16,Object(v.b)({type:q,payload:Object(f.a)({},i)});case 16:c.next=26;break;case 18:return c.prev=18,c.t0=c.catch(0),console.error(c.t0),de.a.error({message:"Unable to add user.",description:c.t0.message}),o=e.payload,s={hideFormRef:o.hideFormRef},c.next=26,Object(v.b)({type:q,payload:Object(f.a)({},s)});case 26:case"end":return c.stop()}},Xe,this,[[0,18]])}function Ut(e,t){var a=e.officeUID||null;return t.functions.httpsCallable("getAllUsersForOffice")({officeUID:a}).then(function(e){var t=e.data,a=[];for(var n in t){var r=t[n],i=new Le(r)||null;null!==i&&a.push(i)}return a})}function Ft(e){var t,a,n,r;return h.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,t=e.payload.officeUID,i.next=4,Object(v.c)(ce);case 4:return a=i.sent,At(t,a),i.next=8,Object(v.c)(se);case 8:return n=i.sent,i.next=11,Object(v.a)(Ut,e.payload,n);case 11:return r=i.sent,i.next=14,Object(v.b)({type:L,payload:{userList:r}});case 14:i.next=22;break;case 16:return i.prev=16,i.t0=i.catch(0),console.error(i.t0),de.a.error({message:"Unable to load Users for this office.",description:i.t0.message}),i.next=22,Object(v.b)({type:I,payload:{error:i.t0}});case 22:case"end":return i.stop()}},Ze,this,[[0,16]])}function kt(e,t){var a=e.officeUID||null;return t.functions.httpsCallable("getAllConferenceRoomsForOffice")({selectedOfficeUID:a}).then(function(e){var t=e.data,a=[],n=[];for(var r in t){var i=t[r];for(var o in i){var s=i[o],c=new Ce(s)||null;null!==c&&("active"===r?a.push(c):n.push(c))}}return{active:a,inactive:n}})}function Lt(e){var t,a,n,r;return h.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,t=e.payload.officeUID,i.next=4,Object(v.c)(ce);case 4:return a=i.sent,At(t,a),i.next=8,Object(v.c)(se);case 8:return n=i.sent,i.next=11,Object(v.a)(kt,e.payload,n);case 11:return r=i.sent,i.next=14,Object(v.b)({type:C,payload:{activeRoomsList:r.active,inactiveRoomsList:r.inactive}});case 14:i.next=22;break;case 16:return i.prev=16,i.t0=i.catch(0),console.error(i.t0),de.a.error({message:"Unable to load Conference Rooms for this office.",description:i.t0.message}),i.next=22,Object(v.b)({type:R,payload:{error:i.t0}});case 22:case"end":return i.stop()}},Qe,this,[[0,16]])}function It(e,t){var a=e.officeUID||null;return t.functions.httpsCallable("getAllHotDesksForOffice")({selectedOfficeUID:a}).then(function(e){var t=e.data,a=[],n=[];for(var r in t){var i=t[r];for(var o in i){var s=i[o],c=new Re(s)||null;null!==c&&("active"===r?a.push(c):n.push(c))}}return{active:a,inactive:n}})}function jt(e){var t,a,n,r;return h.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,t=e.payload.officeUID,i.next=4,Object(v.c)(ce);case 4:return a=i.sent,At(t,a),i.next=8,Object(v.c)(se);case 8:return n=i.sent,i.next=11,Object(v.a)(It,e.payload,n);case 11:return r=i.sent,i.next=14,Object(v.b)({type:S,payload:{activeDesksList:r.active,inactiveDesksList:r.inactive}});case 14:i.next=22;break;case 16:return i.prev=16,i.t0=i.catch(0),console.error(i.t0),de.a.error({message:"Unable to load Hot Desks for this office.",description:i.t0.message}),i.next=22,Object(v.b)({type:x,payload:{error:i.t0}});case 22:case"end":return i.stop()}},Je,this,[[0,16]])}function Ct(e,t){var a=e.officeUID||null;return t.functions.httpsCallable("getAllRegisteredGuestsForOfficeAdmin")({selectedOfficeUID:a}).then(function(e){var t=e.data,a=[];for(var n in t){var r=t[n],i=new xe(r)||null;null!==i&&a.push(i)}return a})}function Rt(e){var t,a,n,r;return h.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,t=e.payload.officeUID,i.next=4,Object(v.c)(ce);case 4:return a=i.sent,At(t,a),i.next=8,Object(v.c)(se);case 8:return n=i.sent,i.next=11,Object(v.a)(Ct,e.payload,n);case 11:return r=i.sent,i.next=14,Object(v.b)({type:P,payload:{guestList:r}});case 14:i.next=22;break;case 16:return i.prev=16,i.t0=i.catch(0),console.error(i.t0),de.a.error({message:"Unable to load Registered Guests for this office.",description:i.t0.message}),i.next=22,Object(v.b)({type:M,payload:{error:i.t0}});case 22:case"end":return i.stop()}},$e,this,[[0,16]])}function wt(e,t){var a=e.officeUID||null;return t.functions.httpsCallable("getEventsForOfficeAdmin")({selectedOfficeUID:a}).then(function(e){var t=e.data,a=t.upcoming,n=t.past,r=[],i=[];return a.map(function(e){var t=new Ne(e)||null;r.push(t)}),n.map(function(e){var t=new Ne(e)||null;i.push(t)}),{upcoming:r,past:i}})}function St(e){var t,a,n,r;return h.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,t=e.payload.officeUID,i.next=4,Object(v.c)(ce);case 4:return a=i.sent,At(t,a),i.next=8,Object(v.c)(se);case 8:return n=i.sent,i.next=11,Object(v.a)(wt,e.payload,n);case 11:return r=i.sent,i.next=14,Object(v.b)({type:V,payload:{upcomingEventsList:r.upcoming,pastEventsList:r.past}});case 14:i.next=22;break;case 16:return i.prev=16,i.t0=i.catch(0),console.error(i.t0),de.a.error({message:"Unable to load Events for this office.",description:i.t0.message}),i.next=22,Object(v.b)({type:G,payload:{error:i.t0}});case 22:case"end":return i.stop()}},et,this,[[0,16]])}function xt(e,t){var a=e.officeUID,n=e.userUID;return t.functions.httpsCallable("removeUserFromOffice")({selectedOfficeUID:a,selectedUserUID:n}).then(function(){return null})}function Nt(e){var t,a,n,r,i,o,s;return h.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,t=e.payload,a=t.officeUID,c.next=5,Object(v.c)(ce);case 5:return n=c.sent,At(a,n),c.next=9,Object(v.c)(se);case 9:return r=c.sent,c.next=12,Object(v.a)(xt,e.payload,r);case 12:return de.a.success({message:"Successfully removed user from this office."}),i={componentRef:t.componentRef},c.next=16,Object(v.b)({type:z,payload:Object(f.a)({},i)});case 16:c.next=26;break;case 18:return c.prev=18,c.t0=c.catch(0),console.error(c.t0),de.a.error({message:"Unable to remove user from this office.",description:c.t0.message}),o=e.payload,s={componentRef:o.componentRef,formRef:o.formRef},c.next=26,Object(v.b)({type:z,payload:Object(f.a)({},s,{error:c.t0})});case 26:case"end":return c.stop()}},tt,this,[[0,18]])}function Pt(e,t){return t.functions.httpsCallable("editUserForOffice")(Object(f.a)({},e)).then(function(){return null})}function Mt(e){var t,a,n,r,i,o,s;return h.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,t=e.payload,a=t.selectedOfficeUID,c.next=5,Object(v.c)(ce);case 5:return n=c.sent,At(a,n),c.next=9,Object(v.c)(se);case 9:return r=c.sent,c.next=12,Object(v.a)(Pt,t,r);case 12:return de.a.success({message:"Successfully edited user info."}),i={hideForm:t.hideForm},c.next=16,Object(v.b)({type:X,payload:Object(f.a)({},i)});case 16:c.next=26;break;case 18:return c.prev=18,c.t0=c.catch(0),console.error(c.t0),de.a.error({message:"Unable to update user info.",description:c.t0.message}),o=e.payload,s={hideForm:o.hideForm},c.next=26,Object(v.b)({type:X,payload:Object(f.a)({},s)});case 26:case"end":return c.stop()}},at,this,[[0,18]])}function Tt(e,t){return t.functions.httpsCallable("addConferenceRoomForOfficeAdmin")(Object(f.a)({},e,{hideForm:null})).then(function(a){var n=e.photoFileObj;if(n){var r=t.storage.ref(),i=a.data;return r.child("conferenceRoomImages/"+i+".jpg").put(n)}})}function Vt(e){var t,a,n,r,i,o,s;return h.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,t=e.payload,a=t.selectedOfficeUID,c.next=5,Object(v.c)(ce);case 5:return n=c.sent,At(a,n),c.next=9,Object(v.c)(se);case 9:return r=c.sent,c.next=12,Object(v.a)(Tt,t,r);case 12:return de.a.success({message:"Successfully added conference room."}),i={hideForm:t.hideForm},c.next=16,Object(v.b)({type:Q,payload:Object(f.a)({},i)});case 16:c.next=26;break;case 18:return c.prev=18,c.t0=c.catch(0),console.error(c.t0),de.a.error({message:"Unable to add conference room.",description:c.t0.message}),o=e.payload,s={hideForm:o.hideForm},c.next=26,Object(v.b)({type:Q,payload:Object(f.a)({},s)});case 26:case"end":return c.stop()}},nt,this,[[0,18]])}function Gt(e,t){return t.functions.httpsCallable("editConferenceRoomForOfficeAdmin")(Object(f.a)({},e,{hideForm:null})).then(function(a){var n=e.photoFileObj;if(n){var r=t.storage.ref(),i=e.selectedRoomUID;return r.child("conferenceRoomImages/"+i+".jpg").put(n)}})}function _t(e){var t,a,n,r,i,o,s;return h.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,t=e.payload,a=t.selectedOfficeUID,c.next=5,Object(v.c)(ce);case 5:return n=c.sent,At(a,n),c.next=9,Object(v.c)(se);case 9:return r=c.sent,c.next=12,Object(v.a)(Gt,t,r);case 12:return de.a.success({message:"Successfully edited conference room."}),i={hideForm:t.hideForm},c.next=16,Object(v.b)({type:$,payload:Object(f.a)({},i)});case 16:c.next=26;break;case 18:return c.prev=18,c.t0=c.catch(0),console.error(c.t0),de.a.error({message:"Unable to edit conference room.",description:c.t0.message}),o=e.payload,s={hideForm:o.hideForm},c.next=26,Object(v.b)({type:$,payload:Object(f.a)({},s)});case 26:case"end":return c.stop()}},rt,this,[[0,18]])}function Ht(e,t){return t.functions.httpsCallable("addHotDeskForOfficeAdmin")(Object(f.a)({},e,{hideForm:null})).then(function(a){var n=e.photoFileObj;if(n){var r=t.storage.ref(),i=a.data;return r.child("deskImages/"+i+".jpg").put(n)}})}function Bt(e){var t,a,n,r,i,o,s;return h.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,t=e.payload,a=t.selectedOfficeUID,c.next=5,Object(v.c)(ce);case 5:return n=c.sent,At(a,n),c.next=9,Object(v.c)(se);case 9:return r=c.sent,c.next=12,Object(v.a)(Ht,t,r);case 12:return de.a.success({message:"Successfully added hot desk."}),i={hideForm:t.hideForm},c.next=16,Object(v.b)({type:te,payload:Object(f.a)({},i)});case 16:c.next=26;break;case 18:return c.prev=18,c.t0=c.catch(0),console.error(c.t0),de.a.error({message:"Unable to add hot desk.",description:c.t0.message}),o=e.payload,s={hideForm:o.hideForm},c.next=26,Object(v.b)({type:te,payload:Object(f.a)({},s)});case 26:case"end":return c.stop()}},it,this,[[0,18]])}function Yt(e,t){return t.functions.httpsCallable("editHotDeskForOfficeAdmin")(Object(f.a)({},e,{hideForm:null})).then(function(a){var n=e.photoFileObj;if(n){var r=t.storage.ref(),i=e.selectedDeskUID;return r.child("deskImages/"+i+".jpg").put(n)}})}function qt(e){var t,a,n,r,i,o,s;return h.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,t=e.payload,a=t.selectedOfficeUID,c.next=5,Object(v.c)(ce);case 5:return n=c.sent,At(a,n),c.next=9,Object(v.c)(se);case 9:return r=c.sent,c.next=12,Object(v.a)(Yt,t,r);case 12:return de.a.success({message:"Successfully edited hot desk."}),i={hideForm:t.hideForm},c.next=16,Object(v.b)({type:ne,payload:Object(f.a)({},i)});case 16:c.next=26;break;case 18:return c.prev=18,c.t0=c.catch(0),console.error(c.t0),de.a.error({message:"Unable to edit hot desk.",description:c.t0.message}),o=e.payload,s={hideForm:o.hideForm},c.next=26,Object(v.b)({type:ne,payload:Object(f.a)({},s)});case 26:case"end":return c.stop()}},ot,this,[[0,18]])}function Kt(e,t){return t.functions.httpsCallable("getSpaceInfoForOfficeAdmin")(Object(f.a)({},e)).then(function(e){return e.data})}function zt(e){var t,a,n,r,i;return h.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,t=e.payload,a=t.selectedOfficeUID,o.next=5,Object(v.c)(ce);case 5:return n=o.sent,At(a,n),o.next=9,Object(v.c)(se);case 9:return r=o.sent,o.next=12,Object(v.a)(Kt,t,r);case 12:return i=o.sent,o.next=15,Object(v.b)({type:ie,payload:{onboardingURL:i.onboardingURL,floorplanURL:i.floorplanURL,buildingDetailsURL:i.buildingDetailsURL}});case 15:o.next=23;break;case 17:return o.prev=17,o.t0=o.catch(0),console.error(o.t0),de.a.error({message:"Unable to load space info for this office.",description:o.t0.message}),o.next=23,Object(v.b)({type:oe});case 23:case"end":return o.stop()}},st,this,[[0,17]])}a(133),a(433);var Wt={serviceRequestUpdate:"serviceRequestUpdate",arrivedGuestUpdate:"arrivedGuestUpdate",newEvent:"newEvent",announcement:"announcement",none:"none"};var Xt=function e(t){if(Object(le.a)(this,e),this.uid=t.uid||null,null==this.uid)return null;this.title=t.title||null,this.body=t.body||null;var a=function(e){switch(e){case Wt.announcement:return Wt.announcement;case Wt.arrivedGuestUpdate:return Wt.arrivedGuestUpdate;case Wt.newEvent:return Wt.newEvent;case Wt.serviceRequestUpdate:return Wt.serviceRequestUpdate;default:return null}}(t.type);if(null==a)return null;this.type=a;var n=t.timestamp,r=n._seconds,i=n._nanoseconds,o=new Se.a.firestore.Timestamp(r,i);this.date=o.toDate()},Zt=h.a.mark(Jt),Qt=h.a.mark(ea);function Jt(){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(v.d)(_,ea);case 2:case"end":return e.stop()}},Zt,this)}function $t(e){return e.functions.httpsCallable("getUsersNotifications")({}).then(function(e){var t=e.data,a=[];for(var n in t){var r=t[n],i=new Xt(r)||null;null!==i&&a.push(i)}return a})}function ea(e){var t,a;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(v.c)(se);case 3:return t=e.sent,e.next=6,Object(v.a)($t,t);case 6:return a=e.sent,e.next=9,Object(v.b)({type:H,payload:{notifications:a}});case 9:e.next=16;break;case 11:return e.prev=11,e.t0=e.catch(0),de.a.error({message:"Unable to load notifications.",description:e.t0.message}),e.next=16,Object(v.b)({type:B,payload:{error:e.t0}});case 16:case"end":return e.stop()}},Qt,this,[[0,11]])}var ta=Object(f.a)({},n,r,i);var aa=function(e,t){return Object(f.a)({},e,t)},na={firebase:null},ra=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:na,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_UP_FIREBASE":var a=t.payload.firebase;return aa(e,{firebase:a});default:return e}},ia={isLoading:!1,error:null,currentPage:null,regularUserPortalMode:"regular",currentOfficeAdminUID:null,currentOfficeAdmin:null,isLoadingSignIn:!1,notifications:[]},oa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ia,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return aa(e,{isLoadingSignIn:!0});case b:return aa(e,{isLoadingSignIn:!1,error:null});case E:var a=t.payload.error||null;return aa(e,{isLoadingSignIn:!1,error:a});case D:return aa(e,{isLoading:!0});case U:return aa(e,{isLoading:!1,error:null});case F:var n=t.payload.error||null;return aa(e,{isLoading:!1,error:n});case O:return aa(e,{isLoading:!0,error:null});case A:case y:return aa(e,{isLoading:!1,error:null});case k:return aa(e,{isLoading:!0});case L:return aa(e,{isLoading:!1,error:null});case I:var r=t.payload.error||null;return aa(e,{isLoading:!1,error:r});case"CHANGE_PAGE":var i=t.payload||null;return aa(e,Object(f.a)({},i));case H:case B:var o=t.payload||null;return aa(e,Object(f.a)({},o));default:return e}},sa={userList:[],activeRoomsList:[],inactiveRoomsList:[],guestsList:[],activeDesksList:[],inactiveDesksList:[],upcomingEventsList:[],pastEventsList:[],isLoadingUserData:!1,isLoadingRoomsData:!1,isLoadingGuestsData:!1,isLoadingHotDesksData:!1,isLoadingEventsData:!1,createUserFormLoading:!1,editUserFormLoading:!1,removeUserFormLoading:!1,addRoomFormLoading:!1,editRoomFormLoading:!1,createDeskFormLoading:!1,editDeskFormLoading:!1,isLoadingSpaceInfo:!1,onboardingURL:null,floorplanURL:null,buildingDetailsURL:null},ca=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:sa,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case J:return aa(e,{editRoomFormLoading:!0});case $:return t.payload.hideForm(),aa(e,{editRoomFormLoading:!1});case Z:return aa(e,{addRoomFormLoading:!0});case Q:return t.payload.hideForm(),aa(e,{addRoomFormLoading:!1});case W:return aa(e,{editUserFormLoading:!0});case X:return t.payload.hideForm(),aa(e,{editUserFormLoading:!1});case K:return aa(e,{removeUserFormLoading:!0});case z:return t.payload.componentRef.setState({removeUserFormVisible:!1}),aa(e,{removeUserFormLoading:!1});case Y:return aa(e,{createUserFormLoading:!0});case q:return t.payload.hideFormRef(),aa(e,{createUserFormLoading:!1});case"CHANGE_PAGE":return"homePageOfficeAdmin"===((t.payload||null).currentpage||null)?sa:e;case k:return aa(e,{isLoadingUserData:!0});case L:var a=t.payload.userList||null;return aa(e,{userList:a,isLoadingUserData:!1});case I:return aa(e,{isLoadingUserData:!1});case j:return aa(e,{isLoadingRoomsData:!0});case C:var n=t.payload.activeRoomsList||null,r=t.payload.inactiveRoomsList||null;return aa(e,{activeRoomsList:n,inactiveRoomsList:r,isLoadingRoomsData:!1});case R:return aa(e,{isLoadingRoomsData:!1});case w:return aa(e,{isLoadingHotDesksData:!0});case S:var i=t.payload.activeDesksList||null,o=t.payload.inactiveDesksList||null;return aa(e,{activeDesksList:i,inactiveDesksList:o,isLoadingHotDesksData:!1});case x:return aa(e,{isLoadingHotDesksData:!1});case N:return aa(e,{isLoadingGuestsData:!0});case P:var s=t.payload.guestList||null;return aa(e,{guestsList:s,isLoadingGuestsData:!1});case M:return aa(e,{isLoadingGuestsData:!1});case T:return aa(e,{isLoadingEventsData:!0});case V:var c=t.payload.pastEventsList||null,l=t.payload.upcomingEventsList||null;return aa(e,{pastEventsList:c,upcomingEventsList:l,isLoadingEventsData:!1});case G:return aa(e,{isLoadingEventsData:!1});case ee:return aa(e,{createDeskFormLoading:!0});case te:return t.payload.hideForm(),aa(e,{createDeskFormLoading:!1});case ae:return aa(e,{editDeskFormLoading:!0});case ne:return t.payload.hideForm(),aa(e,{editDeskFormLoading:!1});case re:return aa(e,{isLoadingSpaceInfo:!0});case ie:var u=t.payload,d=u.onboardingURL,m=u.floorplanURL,f=u.buildingDetailsURL;return aa(e,{isLoadingSpaceInfo:!1,onboardingURL:d,floorplanURL:m,buildingDetailsURL:f});case oe:return aa(e,{isLoadingSpaceInfo:!1});default:return e}},la={user:null,type:null,adminOfficeList:null},ua=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:la,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case A:return la;case g:break;case U:var a=t.payload.data||null,n=a.type||null,r=a.officeAdmin||null;return aa(e,{user:a,type:n,adminOfficeList:r});case F:return aa(e,{user:null});default:return e}return e},da=a(235),ma=a(312),fa={key:"root",storage:a.n(ma).a,blacklist:["firebase"]},pa=Object(d.c)({firebase:ra,general:oa,auth:ua,officeAdmin:ca}),ha=Object(da.a)(fa,pa),va=Object(m.a)(),ga=Object(d.a)(va),ba=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||d.d,Ea=Object(d.e)(ha,ba(ga)),Oa=Object(da.b)(Ea);!function(e){for(var t in ta)e.run(ta[t])}(va);var Aa=a(17),ya=a(19),Da=a(18),Ua=a(20),Fa=a(703),ka=a(692),La=a(702),Ia=a(313),ja=a.n(Ia),Ca=a(109),Ra=a.n(Ca),wa=(a(59),function(e){function t(){var e,a;Object(le.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(ya.a)(this,(e=Object(Da.a)(t)).call.apply(e,[this].concat(r)))).state={current:null},a.handleClick=function(e){},a}return Object(Ua.a)(t,e),Object(Aa.a)(t,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement(ja.a,{position:"static",style:{background:"transparent"}},s.a.createElement(Ra.a,{container:!0,justify:"center",alignItems:"center"},s.a.createElement("img",{className:"logo-nav-image",src:a(278)}))))}}]),t}(s.a.Component)),Sa=Object(u.b)(null,null)(wa),xa=a(163),Na=a(697),Pa=a(506),Ma=a(512),Ta=a(693),Va=a(699),Ga=a(22),_a=a(161),Ha=a(160),Ba=a(314),Ya=a.n(Ba),qa=(a(279),function(e){function t(){var e,a;Object(le.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(ya.a)(this,(e=Object(Da.a)(t)).call.apply(e,[this].concat(r)))).handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields(function(e,t){if(!e){var n=t.emailAddress||null,r=t.password||null,i=t.remember||!1;a.props.signInUser(n,r,i)}})},a}return Object(Ua.a)(t,e),Object(Aa.a)(t,[{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator;return s.a.createElement(Na.a,{className:"login-card"},s.a.createElement(Pa.a,null,s.a.createElement(Ma.a,{span:12},s.a.createElement(Na.a,{cover:s.a.createElement("img",{alt:"example",src:Ya.a}),bordered:!1})),s.a.createElement(Ma.a,{span:12},s.a.createElement(Na.a,{bordered:!1},s.a.createElement(Ta.a,{onSubmit:this.handleSubmit,className:"login-form"},s.a.createElement(Ta.a.Item,null,t("emailAddress",{validateTrigger:"onBlur",rules:[{required:!0,message:"Please input your email address!",whitespace:!0,pattern:/^([a-zA-Z0-9_.-])+@(([a-zA-Z0-9-])+.)+([a-zA-Z0-9]{2,4})+$/}]})(s.a.createElement(Va.a,{prefix:s.a.createElement(Ga.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Email Address"}))),s.a.createElement(Ta.a.Item,null,t("password",{validateTrigger:"onBlur",rules:[{required:!0,message:"Please input your Password!",whitespace:!0}]})(s.a.createElement(Va.a,{prefix:s.a.createElement(Ga.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"Password"}))),s.a.createElement(Ta.a.Item,null,t("remember",{valuePropName:"checked",initialValue:!0})(s.a.createElement(_a.a,{className:""},"Remember me")),s.a.createElement("a",{className:"login-form-forgot airspaceColor",href:""},"Forgot password?"),s.a.createElement(Ha.a,{type:"primary",htmlType:"submit",className:"login-form-button airspace-submit-button"},"Log in"),!0===e.props.isLoadingSignIn?s.a.createElement(Ra.a,{container:!0,justify:"center",alignItems:"center",style:{marginTop:20}},s.a.createElement(xa.a,null)):null))))))}}]),t}(s.a.Component)),Ka=Ta.a.create({name:"normal_login"})(Object(u.b)(function(e){return{isLoadingSignIn:e.general.isLoadingSignIn}},function(e){return{signInUser:function(t,a,n){return e(function(e,t,a){return{type:g,payload:{email:e,password:t,rememberMe:a}}}(t,a,n))}}})(qa)),za=function(e){function t(){return Object(le.a)(this,t),Object(ya.a)(this,Object(Da.a)(t).apply(this,arguments))}return Object(Ua.a)(t,e),Object(Aa.a)(t,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement(Sa,null),s.a.createElement(Pa.a,{type:"flex",justify:"space-around",align:"middle"},s.a.createElement(Ma.a,null,s.a.createElement(Ka,null))))}}]),t}(s.a.Component),Wa=Object(u.b)(function(e){return{error:e.general.error}},null)(za),Xa=a(686),Za=a(705),Qa=a(704),Ja=a(308),$a=a(689),en=function(e){return{type:"CHANGE_PAGE",payload:Object(f.a)({},e)}},tn=(a(564),function(e){function t(){var e,n;Object(le.a)(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(n=Object(ya.a)(this,(e=Object(Da.a)(t)).call.apply(e,[this].concat(i)))).state={current:null},n.handleSignOut=function(e){n.props.signOutUser()},n.handleProfileClick=function(e){switch(e.key){case"Edit Profile":console.log("Implement Edit Profile");break;case"SignOut":console.log("Made it here")}},n.handleClick=function(e){console.log("click ",e),"signOut"===e.key?n.handleSignOut(e):"notifications"===e.key&&n.props.loadNotifications()},n.getAirNotificationIconFor=function(e){switch(e){case Wt.announcement:return s.a.createElement("img",{className:"notificationIcon",src:a(566)});case Wt.arrivedGuestUpdate:return s.a.createElement("img",{className:"notificationIcon",src:a(567)});case Wt.newEvent:return s.a.createElement("img",{className:"notificationIcon",src:a(568)});case Wt.serviceRequestUpdate:return s.a.createElement("img",{className:"notificationIcon",src:a(569)});default:return null}},n}return Object(Ua.a)(t,e),Object(Aa.a)(t,[{key:"componentDidMount",value:function(){this.props.loadNotifications()}},{key:"render",value:function(){var e=this,t=s.a.createElement(Xa.a,{className:"navBarProfileMenu",onClick:this.handleClick,style:{textAlign:"right",border:0}},s.a.createElement(Xa.a.Item,{key:"signOut"},s.a.createElement(Ra.a,{container:!0,justify:"center",alignItems:"center"},"Sign Out"))),n=s.a.createElement(Za.a,{className:"navBarNotificationMenu",itemLayout:"horizontal",dataSource:this.props.notifications,renderItem:function(t){var n=a(26)(t.date).fromNow();return s.a.createElement(Za.a.Item,null,s.a.createElement(Za.a.Item.Meta,{avatar:e.getAirNotificationIconFor(t.type),title:t.title+" \u2022 "+n,description:t.body}))}});return s.a.createElement(Qa.a,null,s.a.createElement(Pa.a,null,s.a.createElement(Ma.a,{span:24},s.a.createElement(Xa.a,{onClick:this.handleClick,style:{textAlign:"right",border:0},mode:"horizontal"},s.a.createElement(Xa.a.Item,{key:"notifications"},s.a.createElement(Ja.a,{overlay:n,trigger:["click"]},s.a.createElement("a",{className:"ant-dropdown-link",href:"#"},s.a.createElement(Ga.a,{type:"bell",style:{fontSize:18}})))),s.a.createElement(Xa.a.Item,{key:"profile"},s.a.createElement(Ja.a,{overlay:t,trigger:["click"]},s.a.createElement("a",{className:"ant-dropdown-link",href:"#"},s.a.createElement($a.a,{src:this.props.user.profileImageURL}))))))))}}]),t}(s.a.Component)),an=Object(u.b)(function(e){return{user:e.auth.user,notifications:e.general.notifications}},function(e){return{signOutUser:function(){return e({type:O,payload:{}})},loadNotifications:function(){return e({type:_})}}})(tn),nn=a(687),rn=a(690),on=(a(575),Xa.a.SubMenu),sn=Xa.a.ItemGroup,cn=function(e){function t(){var e,a;Object(le.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(ya.a)(this,(e=Object(Da.a)(t)).call.apply(e,[this].concat(r)))).getSwitchPortalSubMenuTitle=function(){if("regular"===a.props.userType){if("regular"===a.props.regularUserPortalMode)return"Regular Mode";var e=a.props.currentOfficeAdmin;return null!==e?"Managing "+e.name:"Office Admin Mode"}return"Switch Portal Mode"},a}return Object(Ua.a)(t,e),Object(Aa.a)(t,[{key:"render",value:function(){var e=this,t=s.a.createElement("img",{style:{height:30,width:200,paddingLeft:30},className:"logo-nav-image",src:a(278)}),n=s.a.createElement(on,{className:"sideBarPortalSwitcher",key:"sub1",title:s.a.createElement(nn.a,null,this.getSwitchPortalSubMenuTitle())},s.a.createElement(Xa.a.Item,{key:"homePageRegularUser"},s.a.createElement("span",null,s.a.createElement(Ga.a,{type:"user"}),s.a.createElement("span",null,"Regular Portal"))),s.a.createElement(sn,{key:"g1",title:"Office Admin Portals"},null==e.props.adminOfficeList?null:e.props.adminOfficeList.map(function(e){return s.a.createElement(Xa.a.Item,{key:e.uid},s.a.createElement(rn.a,{to:"/officeAdmin/"+e.uid},e.name))}))),r=[this.props.currentPage];return"regular"!==this.props.userType?null:"officeAdmin"===this.props.regularUserPortalMode?s.a.createElement(Qa.a,{className:"airspace-side-nav-bar-group"},t,s.a.createElement(Xa.a,{style:{border:0},defaultSelectedKeys:r,mode:"inline",className:"airspace-side-nav-bar"},s.a.createElement(sn,{key:"g2",title:""},s.a.createElement(Xa.a.Item,{key:"home"},s.a.createElement("span",null,s.a.createElement(Ga.a,{type:"home"}),s.a.createElement("span",null,"Home"))),s.a.createElement(Xa.a.Item,{key:"userPageOfficeAdmin"},s.a.createElement(rn.a,{to:"/officeAdmin/"+this.props.currentOfficeAdminUID+"/users"},s.a.createElement("span",null,s.a.createElement(Ga.a,{type:"user"}),s.a.createElement("span",null,"Users")))),s.a.createElement(Xa.a.Item,{key:"conferenceRoomsPageOfficeAdmin"},s.a.createElement(rn.a,{to:"/officeAdmin/"+this.props.currentOfficeAdminUID+"/conferenceRooms"},s.a.createElement("span",null,s.a.createElement(Ga.a,{type:"schedule"}),s.a.createElement("span",null,"Conference Rooms")))),s.a.createElement(Xa.a.Item,{key:"hotDesksPageOfficeAdmin"},s.a.createElement(rn.a,{to:"/officeAdmin/"+this.props.currentOfficeAdminUID+"/hotDesks"},s.a.createElement("span",null,s.a.createElement(Ga.a,{type:"laptop"}),s.a.createElement("span",null,"Hot Desks")))),s.a.createElement(Xa.a.Item,{key:"serviceRequests"},s.a.createElement(rn.a,{to:"/officeAdmin/"+this.props.currentOfficeAdminUID+"/serviceRequests"},s.a.createElement("span",null,s.a.createElement(Ga.a,{type:"tool"}),s.a.createElement("span",null,"Service Requests")))),s.a.createElement(Xa.a.Item,{key:"registeredGuestsPageOfficeAdmin"},s.a.createElement(rn.a,{to:"/officeAdmin/"+this.props.currentOfficeAdminUID+"/registeredGuests"},s.a.createElement("span",null,s.a.createElement(Ga.a,{type:"idcard"}),s.a.createElement("span",null,"Registered Guests")))),s.a.createElement(Xa.a.Item,{key:"eventsPageOfficeAdmin"},s.a.createElement(rn.a,{to:"/officeAdmin/"+this.props.currentOfficeAdminUID+"/events"},s.a.createElement("span",null,s.a.createElement(Ga.a,{type:"calendar"}),s.a.createElement("span",null,"Events")))),s.a.createElement(Xa.a.Item,{key:"spaceInfoPageOfficeAdmin"},s.a.createElement(rn.a,{to:"/officeAdmin/"+this.props.currentOfficeAdminUID+"/spaceInfo"},s.a.createElement("span",null,s.a.createElement(Ga.a,{type:"info-circle"}),s.a.createElement("span",null,"Space Info"))))),n)):"regular"===this.props.regularUserPortalMode?s.a.createElement(Xa.a,{onClick:this.handleClick,style:{width:256,height:100,border:0},defaultSelectedKeys:["1"],defaultOpenKeys:["sub1"],mode:"inline"},t,n):void 0}}]),t}(s.a.Component),ln=Object(u.b)(function(e){return{user:e.auth.user,userType:e.auth.type,adminOfficeList:e.auth.adminOfficeList,regularUserPortalMode:e.general.regularUserPortalMode,currentPage:e.general.currentPage,currentOfficeAdminUID:e.general.currentOfficeAdminUID,currentOfficeAdmin:e.general.currentOfficeAdmin}},function(e){return{changePage:function(t){return e(en(t))}}})(cn),un=a(66),dn=a.n(un),mn=a(42),fn=a.n(mn),pn=function(e){return{type:k,payload:{officeUID:e}}},hn=function(e){return{type:w,payload:{officeUID:e}}},vn=function(e){return{type:T,payload:{officeUID:e}}},gn=function(e,t){switch(e){case"homePageOfficeAdmin":var a=t.officeUID||null,n=t.officeObj||null;return En(a,n);case"userPageOfficeAdmin":return On();case"conferenceRoomsPageOfficeAdmin":return yn();case"hotDesksPageOfficeAdmin":return Dn();case"registeredGuestsPageOfficeAdmin":return Fn();case"eventsPageOfficeAdmin":return Un();case"homePageRegularUser":return bn();case"spaceInfoPageOfficeAdmin":return An();default:return{}}},bn=function(){return{currentPage:"homePageRegularUser",currentOfficeAdminUID:null,regularUserPortalMode:"regular"}},En=function(e,t){return{currentPage:"homePageOfficeAdmin",currentOfficeAdminUID:e,currentOfficeAdmin:t,regularUserPortalMode:"officeAdmin"}},On=function(){return{currentPage:"userPageOfficeAdmin"}},An=function(){return{currentPage:"spaceInfoPageOfficeAdmin"}},yn=function(){return{currentPage:"conferenceRoomsPageOfficeAdmin"}},Dn=function(){return{currentPage:"hotDesksPageOfficeAdmin"}},Un=function(){return{currentPage:"eventsPageOfficeAdmin"}},Fn=function(){return{currentPage:"registeredGuestsPageOfficeAdmin"}},kn=a(98),Ln=a(695),In=a(77),jn=a.n(In),Cn=a(698),Rn=a(309),wn=function(e){function t(){var e,a;Object(le.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(ya.a)(this,(e=Object(Da.a)(t)).call.apply(e,[this].concat(r)))).emailValidator=function(e,t,n){a.props.form.getFieldValue("emailAddress")===a.props.form.getFieldValue("emailAddress2")?n():n(new Error("The email addresses do not match."))},a}return Object(Ua.a)(t,e),Object(Aa.a)(t,[{key:"render",value:function(){var e=this.props,t=e.visible,a=e.onCancel,n=e.onCreate,r=e.form,i=e.confirmLoading,o=r.getFieldDecorator;return s.a.createElement(Cn.a,{visible:t,title:"Edit User",okText:"Save",onCancel:a,onOk:n,confirmLoading:i},s.a.createElement(Ta.a,{layout:"vertical"},s.a.createElement(Ta.a.Item,{label:"First Name"},o("firstName",{initialValue:null,rules:[{required:!0,whitespace:!0,message:"Please input the user's first name."}]})(s.a.createElement(Va.a,{disabled:i}))),s.a.createElement(Ta.a.Item,{label:"Last Name"},o("lastName",{initialValue:null,validateTrigger:"onBlur",rules:[{required:!0,whitespace:!0,message:"Please input the user's last name."}]})(s.a.createElement(Va.a,{disabled:i}))),s.a.createElement(Ta.a.Item,{label:"Email Address"},o("emailAddress",{initialValue:null,validateTrigger:"onBlur",rules:[{required:!0,whitespace:!0,message:"Please input the user's email address."}]})(s.a.createElement(Va.a,{disabled:i}))),s.a.createElement(Ta.a.Item,{label:"Reenter Email Address"},o("emailAddress2",{initialValue:null,validateTrigger:"onBlur",rules:[{required:!0,whitespace:!0,message:"Please input the user's email address."},{validator:this.emailValidator.bind(this)}]})(s.a.createElement(Va.a,{disabled:i}))),s.a.createElement(Ta.a.Item,{label:"User Type",className:"collection-create-form_last-form-item"},o("userType",{initialValue:null})(s.a.createElement(Rn.a.Group,null,s.a.createElement(Rn.a,{disabled:i,value:"regular"},"User"),s.a.createElement(Rn.a,{disabled:i,value:"officeAdmin"},"Office Admin"))))))}}]),t}(s.a.Component),Sn=Ta.a.create({name:"editUserForm"})(wn),xn=function(e){function t(){return Object(le.a)(this,t),Object(ya.a)(this,Object(Da.a)(t).apply(this,arguments))}return Object(Ua.a)(t,e),Object(Aa.a)(t,[{key:"render",value:function(){var e=this.props,t=e.visible,a=e.onCancel,n=e.onCreate,r=e.selectedUser||{};return s.a.createElement(Cn.a,{title:"Danger Zone!",visible:t,onOk:n,onCancel:a,okText:"Yes",cancelText:"Never mind"},"   ",s.a.createElement("p",null,"This action will remove ",r.firstName," ",r.lastName," from this office."),s.a.createElement("p",null,"You can always add the same user back by using the same email (",r.email,")."))}}]),t}(s.a.Component),Nn=function(e){function t(){var e,a;Object(le.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(ya.a)(this,(e=Object(Da.a)(t)).call.apply(e,[this].concat(r)))).columns=[{title:"First Name",dataIndex:"firstName",sorter:function(e,t){var a=e.firstName,n=t.firstName;return a<n?-1:a>n?1:0},sortDirections:["descend","ascend"]},{title:"Last Name",dataIndex:"lastName",sorter:function(e,t){var a=e.lastName,n=t.lastName;return a<n?-1:a>n?1:0},sortDirections:["descend","ascend"]},{title:"Email",dataIndex:"email"},{title:"Offices",dataIndex:"offices",render:function(e){return s.a.createElement("span",null,e.map(function(e){return s.a.createElement(nn.a,{color:"blue",key:e.uid},e.name)}))}},{title:"Office Admin For",dataIndex:"officeAdmins",render:function(e){return s.a.createElement("span",null,e.map(function(e){return s.a.createElement(nn.a,{color:"blue",key:e.uid},e.name)}))}},{title:"",dataIndex:"uid",key:"more",render:function(e){return s.a.createElement(Ja.a,{overlay:function(){return a.editMenu(e)},trigger:["click"]},s.a.createElement(fn.a,null,s.a.createElement(jn.a,null)))}}],a.state={removeUserFormVisible:!1,editUserFormVisible:!1,selectedUser:null},a.handleEditMenuClick=function(e,t){var n=e.key,r=a.props.userList,i=null;for(var o in r){var s=r[o];if(t===s.uid){a.setState({selectedUser:s}),i=s;break}}if(null!=i)if("edit"===n){var c=a.props.currentOfficeUID,l=i.officeAdmins,u="regular";for(var d in l){if(l[d].uid===c){u="officeAdmin";break}}a.editUserFormRef.props.form.setFields({firstName:{value:i.firstName,error:null},lastName:{value:i.lastName,error:null},emailAddress:{value:i.email,error:null},emailAddress2:{value:i.email,error:null},userType:{value:u,error:null}}),a.setState({editUserFormVisible:!0,removeUserFormVisible:!1})}else"remove"===n&&a.setState({removeUserFormVisible:!0,editUserFormVisible:!1})},a.handleCancelEditUser=function(){a.hideEditUserForm()},a.handleEditUser=function(e){var t=a.editUserFormRef.props.form;t.validateFields(function(n,r){if(!n){var i=r.firstName,o=r.lastName,s=r.emailAddress,c="regular"!==r.userType,l=a.props.currentOfficeUID,u={hideForm:a.hideEditUserForm,userUID:e,firstName:i,lastName:o,email:s,makeUserOfficeAdmin:c,officeUID:l,componentRef:Object(kn.a)(Object(kn.a)(a)),formRef:t};a.props.editUserForOfficeAdmin(u)}})},a.hideEditUserForm=function(){a.setState({editUserFormVisible:!1,selectedUser:null})},a.handleCancelRemoveUser=function(){a.setState({removeUserFormVisible:!1,selectedUser:null})},a.handleRemoveUser=function(e,t){var n=e.uid,r=t;a.setState({selectedUser:null}),a.props.removeUserFromOffice(n,r,Object(kn.a)(Object(kn.a)(a)))},a}return Object(Ua.a)(t,e),Object(Aa.a)(t,[{key:"editMenu",value:function(e){var t=this;return s.a.createElement(Xa.a,{onClick:function(a){return t.handleEditMenuClick(a,e)},style:{textAlign:"left",border:0}},s.a.createElement(Xa.a.Item,{key:"edit"},"Edit User Info"),s.a.createElement(Xa.a.Item,{key:"remove"},"Remove from Office"))}},{key:"saveEditUserFormRef",value:function(e){this.editUserFormRef=e}},{key:"componentDidMount",value:function(){this.props.loadUserList(this.props.currentOfficeUID)}},{key:"render",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement(Sn,{wrappedComponentRef:function(t){return e.saveEditUserFormRef(t)},visible:this.state.editUserFormVisible,onCancel:this.handleCancelEditUser,onCreate:function(){return e.handleEditUser(e.state.selectedUser.uid)},confirmLoading:this.props.editUserFormLoading}),s.a.createElement(xn,{visible:this.state.removeUserFormVisible,onCancel:this.handleCancelRemoveUser,onCreate:function(){return e.handleRemoveUser(e.state.selectedUser,e.props.currentOfficeUID)},selectedUser:this.state.selectedUser,confirmLoading:this.props.removeUserFormLoading}),s.a.createElement(Ln.a,{rowKey:function(e){return e.uid.toString()},columns:this.columns,dataSource:this.props.userList,pagination:!1,loading:this.props.isLoadingUserData}))}}]),t}(s.a.Component),Pn=Object(u.b)(function(e){return{userList:e.officeAdmin.userList,currentOfficeUID:e.general.currentOfficeAdminUID,isLoadingUserData:e.officeAdmin.isLoadingUserData,editUserFormLoading:e.officeAdmin.editUserFormLoading,removeUserFormLoading:e.officeAdmin.removeUserFormLoading}},function(e){return{loadUserList:function(t){return e(pn(t))},removeUserFromOffice:function(t,a,n){return e((r={userUID:t,officeUID:a,componentRef:n},{type:K,payload:Object(f.a)({},r,{userUID:r.userUID,officeUID:r.officeUID})}));var r},editUserForOfficeAdmin:function(t){return e(function(e){return{type:W,payload:{selectedUserUID:e.userUID,selectedOfficeUID:e.officeUID,firstName:e.firstName,lastName:e.lastName,emailAddress:e.email,makeUserOfficeAdmin:e.makeUserOfficeAdmin,hideForm:e.hideForm}}}(t))},finishedEditUserForOfficeAdmin:function(t){return e({type:"EDIT_OFFICE_USER_FINISHED",payload:Object(f.a)({},t)})}}})(Nn),Mn=function(e){function t(){var e,a;Object(le.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(ya.a)(this,(e=Object(Da.a)(t)).call.apply(e,[this].concat(r)))).emailValidator=function(e,t,n){a.props.form.getFieldValue("emailAddress")===a.props.form.getFieldValue("emailAddress2")?n():n(new Error("The email addresses do not match."))},a}return Object(Ua.a)(t,e),Object(Aa.a)(t,[{key:"render",value:function(){var e=this.props,t=e.visible,a=e.onCancel,n=e.onCreate,r=e.form,i=e.confirmLoading,o=r.getFieldDecorator;return s.a.createElement(Cn.a,{visible:t,title:"Add a new User to this office.",okText:"Add",onCancel:a,onOk:n,confirmLoading:i},s.a.createElement(Ta.a,{layout:"vertical"},s.a.createElement(Ta.a.Item,{label:"First Name"},o("firstName",{rules:[{required:!0,whitespace:!0,message:"Please input the user's first name."}]})(s.a.createElement(Va.a,{disabled:i}))),s.a.createElement(Ta.a.Item,{label:"Last Name"},o("lastName",{validateTrigger:"onBlur",rules:[{required:!0,whitespace:!0,message:"Please input the user's last name."}]})(s.a.createElement(Va.a,{disabled:i}))),s.a.createElement(Ta.a.Item,{label:"Email Address"},o("emailAddress",{validateTrigger:"onBlur",rules:[{required:!0,message:"Please input the user's email address.",whitespace:!0,pattern:/^([a-zA-Z0-9_.-])+@(([a-zA-Z0-9-])+.)+([a-zA-Z0-9]{2,4})+$/}]})(s.a.createElement(Va.a,{disabled:i}))),s.a.createElement(Ta.a.Item,{label:"Reenter Email Address"},o("emailAddress2",{validateTrigger:"onBlur",rules:[{required:!0,whitespace:!0,message:"Please input the user's email address."},{validator:this.emailValidator.bind(this)}]})(s.a.createElement(Va.a,{disabled:i}))),s.a.createElement(Ta.a.Item,{className:"collection-create-form_last-form-item"},o("userType",{initialValue:"regular"})(s.a.createElement(Rn.a.Group,null,s.a.createElement(Rn.a,{disabled:i,value:"regular"},"Regular"),s.a.createElement(Rn.a,{disabled:i,value:"officeAdmin"},"Office Admin"))))))}}]),t}(s.a.Component),Tn=Ta.a.create({name:"createUserForm"})(Mn),Vn=function(e){function t(){var e,a;Object(le.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(ya.a)(this,(e=Object(Da.a)(t)).call.apply(e,[this].concat(r)))).state={createUserFormVisible:!1},a.showCreateUserFormModal=function(){a.setState({createUserFormVisible:!0})},a.handleCancelCreateUser=function(){a.hideCreateUserForm()},a.hideCreateUserForm=function(){a.createUserFormRef.props.form.setFields({firstName:{value:"",error:null},lastName:{value:"",error:null},emailAddress:{value:"",error:null},emailAddress2:{value:"",error:null},userType:{value:"",error:null}}),a.setState({createUserFormVisible:!1})},a.handleCreateUser=function(){a.createUserFormRef.props.form.validateFields(function(e,t){if(!e){var n={firstName:t.firstName,lastName:t.lastName,emailAddress:t.emailAddress,makeUserOfficeAdmin:"regular"!==t.userType,officeUID:a.props.currentOfficeUID,hideFormRef:a.hideCreateUserForm};a.props.createUserForOfficeAdmin(n)}})},a.saveCreateUserFormRef=function(e){a.createUserFormRef=e},a}return Object(Ua.a)(t,e),Object(Aa.a)(t,[{key:"componentDidMount",value:function(){if(this.props.match.isExact){var e=this.props.match.params.officeUID,t=this.props.userAdminOfficeList,a=null;for(var n in t){var r=t[n];r.uid===e&&(a=r)}var i=gn("homePageOfficeAdmin",{officeUID:e,officeObj:a});i&&this.props.changePage(i);var o=gn("userPageOfficeAdmin");o&&this.props.changePage(o)}}},{key:"componentDidUpdate",value:function(e,t,a){var n=e.currentOfficeUID,r=this.props.currentOfficeUID;n!==r&&this.props.loadUserList(r)}},{key:"render",value:function(){var e=this;return null==this.props.user?s.a.createElement(Wa,null):s.a.createElement("div",{style:{backgroundColor:"#FFFFFF"}},s.a.createElement(Tn,{wrappedComponentRef:function(t){return e.saveCreateUserFormRef(t)},visible:this.state.createUserFormVisible,onCancel:this.handleCancelCreateUser,onCreate:this.handleCreateUser,officeObj:this.props.currentOffice,confirmLoading:this.props.createUserFormLoading}),s.a.createElement(Pa.a,null,s.a.createElement(Ma.a,{className:"wide-table",span:24},s.a.createElement("h1",null,"Users"),s.a.createElement("div",null,s.a.createElement(fn.a,{className:"inlineDisplay",onClick:function(){return e.props.loadUserList(e.props.currentOfficeUID)}},s.a.createElement(dn.a,null)),s.a.createElement(Ha.a,{className:"inlineDisplay rightAlign",type:"primary",onClick:this.showCreateUserFormModal},"Add User")),s.a.createElement(Pn,null))))}}]),t}(s.a.Component),Gn=Object(La.a)(Object(u.b)(function(e){return{userList:e.officeAdmin.userList,currentOfficeUID:e.general.currentOfficeAdminUID,currentOffice:e.general.currentOfficeAdmin,user:e.auth.user,userAdminOfficeList:e.auth.adminOfficeList,isLoadingUserData:e.officeAdmin.isLoadingUserData,createUserFormLoading:e.officeAdmin.createUserFormLoading}},function(e){return{loadUserList:function(t){return e(pn(t))},changePage:function(t){return e(en(t))},createUserForOfficeAdmin:function(t){return e(function(e){return{type:Y,payload:Object(f.a)({},e)}}(t))}}})(Vn)),_n=a(691),Hn=a(700),Bn=a(696),Yn=(a(159),function(e){function t(){var e,a;Object(le.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(ya.a)(this,(e=Object(Da.a)(t)).call.apply(e,[this].concat(r)))).state={fileList:[]},a.roomPhotoFile=function(e){return Array.isArray(e)?(a.setState({fileList:e}),e):(a.setState({fileList:e.fileList||e}),e&&e.fileList)},a}return Object(Ua.a)(t,e),Object(Aa.a)(t,[{key:"uploadChange",value:function(e){"uploading"!==e.file.status&&console.log(e.file,e.fileList),"done"===e.file.status?_n.a.success("".concat(e.file.name," file uploaded successfully")):"error"===e.file.status&&_n.a.error("".concat(e.file.name," file upload failed."))}},{key:"render",value:function(){var e=this,t=this.props,a=t.visible,n=t.onCancel,r=t.onCreate,i=t.form,o=t.confirmLoading,c=i.getFieldDecorator,l=(i.getFieldValue,{labelCol:{xs:{span:24},sm:{span:4}},wrapperCol:{xs:{span:24},sm:{span:20}}}),u=!1;return this.state.fileList.length>=1&&(u=!0),s.a.createElement(Cn.a,{visible:a,title:"Edit Conference Room",okText:"Save",onCancel:n,onOk:r,confirmLoading:o},s.a.createElement(Ta.a,{layout:"vertical"},s.a.createElement(Ta.a.Item,{label:"Room Name"},c("roomName",{rules:[{required:!0,whitespace:!0,message:"Please input the room's name."}]})(s.a.createElement(Va.a,{disabled:o}))),s.a.createElement(Ta.a.Item,{label:"Capacity"},c("capacity",{})(s.a.createElement(Hn.a,{disabled:o,min:0}))),s.a.createElement(Ta.a.Item,Object.assign({},l,{label:"Amenities"}),c("standardAmenities",{})(s.a.createElement(_a.a.Group,{style:{width:"100%"}},s.a.createElement(Pa.a,null,s.a.createElement(Ma.a,{span:24},s.a.createElement(_a.a,{disabled:o,value:"whiteBoard"},"Whiteboard")),s.a.createElement(Ma.a,{span:24},s.a.createElement(_a.a,{disabled:o,value:"screenSharing"},"Screen Sharing")),s.a.createElement(Ma.a,{span:24},s.a.createElement(_a.a,{disabled:o,value:"videoConferencing"},"Video Conferencing")))))),s.a.createElement(Ta.a.Item,Object.assign({},l,{label:"Upload Image"}),c("uploadPhoto",{getValueFromEvent:this.roomPhotoFile})(s.a.createElement(Bn.a,Object.assign({},{name:"file",action:"//jsonplaceholder.typicode.com/posts/",headers:{authorization:"authorization-text"}},{disabled:u||o,fileList:this.state.fileList,accept:".png, jpg, jpeg",onChange:function(t){return e.uploadChange(t)}}),s.a.createElement(Ha.a,null,s.a.createElement(Ga.a,{type:"upload"})," Click to add a photo.")))),s.a.createElement(Ta.a.Item,{className:"collection-create-form_last-form-item"},c("reserveable",{initialValue:["reserveable"]})(s.a.createElement(_a.a.Group,{style:{width:"100%"}},s.a.createElement(Pa.a,null,s.a.createElement(Ma.a,{span:24},s.a.createElement(_a.a,{disabled:o,value:"reserveable"},"Reserveable")))))),s.a.createElement(Ta.a.Item,{className:"collection-create-form_last-form-item"},c("activeStatus",{rules:[{required:!0,whitespace:!0,message:"Please choose an active status for this room."}],initialValue:"active"})(s.a.createElement(Rn.a.Group,null,s.a.createElement(Rn.a,{disabled:o,value:"active"},"Active"),s.a.createElement(Rn.a,{disabled:o,value:"inactive"},"Inactive"))))))}}]),t}(s.a.Component)),qn=Ta.a.create({name:"editRoomForm"})(Yn),Kn=function(e){function t(){var e,a;Object(le.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(ya.a)(this,(e=Object(Da.a)(t)).call.apply(e,[this].concat(r)))).state={searchText:"",editRoomFormVisible:!1,selectedRoom:null},a.columns=[{title:"Name",dataIndex:"name",sorter:function(e,t){var a=e.name,n=t.name;return a<n?-1:a>n?1:0},sortDirections:["descend","ascend"]},{title:"Amenities",dataIndex:"amenities",render:function(e){return s.a.createElement("span",null,e.map(function(e){return s.a.createElement(nn.a,{color:"blue",key:e.type},e.title)}))}},{title:"Capacity",dataIndex:"capacity"},{title:"Reserveable",dataIndex:"reserveable",key:"reserveable",render:function(e){return!0===e?s.a.createElement("span",null,s.a.createElement(nn.a,{color:"blue"},"Reserveable")):null}},{title:"",dataIndex:"uid",key:"more",render:function(e){return s.a.createElement(Ja.a,{overlay:function(){return a.editMenu(e)},trigger:["click"]},s.a.createElement(fn.a,null,s.a.createElement(jn.a,null)))}}],a.editMenu=function(e){return s.a.createElement(Xa.a,{onClick:function(t){return a.handleEditMenuClick(t,e)},style:{textAlign:"left",border:0}},s.a.createElement(Xa.a.Item,{key:"edit"},"Edit Room Info"))},a.handleEditMenuClick=function(e,t){var n=e.key,r=a.props.dataSource,i=null;for(var o in r){var s=r[o];if(t===s.uid){a.setState({selectedRoom:s}),i=s;break}}null!=i&&("edit"===n&&(a.editRoomFormRef.props.form.setFields({roomName:{value:i.name},capacity:{value:i.capacity},standardAmenities:{value:i.amenities},reserveable:{value:i.reserveable?["reserveable"]:null},activeStatus:{value:i.active?"active":"inactive"},uploadPhoto:{value:null},keys:{value:null}}),a.setState({editRoomFormVisible:!0})))},a.hideEditRoomForm=function(){var e=a.editRoomFormRef.props.form;a.editRoomFormRef.setState({fileList:[]}),e.setFields({roomName:{value:null},capacity:{value:null},standardAmenities:{value:null},reserveable:{value:null},activeStatus:{value:null},uploadPhoto:{value:null},keys:{value:null}}),a.setState({editRoomFormVisible:!1,selectedRoom:null})},a.handleCreateEditRoom=function(){a.editRoomFormRef.props.form.validateFields(function(e,t){if(!e){var n=t.roomName,r=t.standardAmenities,i=!1;!0===t.reserveable.includes("reserveable")&&(i=!0);var o=!1;"active"===t.activeStatus&&(o=!0);var s=t.capacity,c=null,l=t.uploadPhoto||null;if(l)c=l[0].originFileObj;var u={selectedRoomUID:a.state.selectedRoom.uid,roomName:n,capacity:s,standardAmenities:r,reserveable:i,activeStatus:o,photoFileObj:c,hideForm:a.hideEditRoomForm,selectedOfficeUID:a.props.currentOfficeUID};a.props.editConferenceRoom(u)}})},a.handleCancelEditRoom=function(){a.hideEditRoomForm()},a.saveEditRoomFormRef=function(e){a.editRoomFormRef=e},a}return Object(Ua.a)(t,e),Object(Aa.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement(qn,{wrappedComponentRef:function(t){return e.saveEditRoomFormRef(t)},visible:this.state.editRoomFormVisible,onCancel:this.handleCancelEditRoom,onCreate:this.handleCreateEditRoom,confirmLoading:this.props.editRoomFormLoading}),s.a.createElement(Ln.a,{columns:this.columns,dataSource:this.props.dataSource,pagination:!1,loading:this.props.isLoadingRoomsData}))}}]),t}(s.a.Component),zn=Object(u.b)(function(e){return{editRoomFormLoading:e.officeAdmin.editRoomFormLoading,currentOfficeUID:e.general.currentOfficeAdminUID,isLoadingRoomsData:e.officeAdmin.isLoadingRoomsData}},function(e){return{editConferenceRoom:function(t){return e(function(e){return{type:J,payload:Object(f.a)({},e,{amenities:e.standardAmenities})}}(t))}}})(Kn),Wn=function(e){function t(){var e,a;Object(le.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(ya.a)(this,(e=Object(Da.a)(t)).call.apply(e,[this].concat(r)))).state={fileList:[]},a.roomPhotoFile=function(e){return Array.isArray(e)?(a.setState({fileList:e}),e):(a.setState({fileList:e.fileList||e}),e&&e.fileList)},a}return Object(Ua.a)(t,e),Object(Aa.a)(t,[{key:"uploadChange",value:function(e){"uploading"!==e.file.status&&console.log(e.file,e.fileList),"done"===e.file.status?_n.a.success("".concat(e.file.name," file uploaded successfully")):"error"===e.file.status&&_n.a.error("".concat(e.file.name," file upload failed."))}},{key:"render",value:function(){var e=this,t=this.props,a=t.visible,n=t.onCancel,r=t.onCreate,i=t.form,o=t.confirmLoading,c=i.getFieldDecorator,l=(i.getFieldValue,{labelCol:{xs:{span:24},sm:{span:4}},wrapperCol:{xs:{span:24},sm:{span:20}}}),u=!1;return this.state.fileList.length>=1&&(u=!0),s.a.createElement(Cn.a,{visible:a,title:"Add a Conference Room",okText:"Add",onCancel:n,onOk:r,confirmLoading:o},s.a.createElement(Ta.a,{layout:"vertical"},s.a.createElement(Ta.a.Item,{label:"Room Name"},c("roomName",{rules:[{required:!0,whitespace:!0,message:"Please input the room's name."}]})(s.a.createElement(Va.a,{disabled:o}))),s.a.createElement(Ta.a.Item,{label:"Capacity"},c("capacity",{})(s.a.createElement(Hn.a,{min:0,disabled:o}))),s.a.createElement(Ta.a.Item,Object.assign({},l,{label:"Amenities"}),c("standardAmenities",{})(s.a.createElement(_a.a.Group,{style:{width:"100%"}},s.a.createElement(Pa.a,null,s.a.createElement(Ma.a,{span:24},s.a.createElement(_a.a,{disabled:o,value:"whiteBoard"},"Whiteboard")),s.a.createElement(Ma.a,{span:24},s.a.createElement(_a.a,{disabled:o,value:"screenSharing"},"Screen Sharing")),s.a.createElement(Ma.a,{span:24},s.a.createElement(_a.a,{disabled:o,value:"videoConferencing"},"Video Conferencing")))))),s.a.createElement(Ta.a.Item,Object.assign({},l,{label:"Upload Image"}),c("uploadPhoto",{getValueFromEvent:this.roomPhotoFile})(s.a.createElement(Bn.a,Object.assign({},{name:"file",action:"//jsonplaceholder.typicode.com/posts/",headers:{authorization:"authorization-text"}},{disabled:u||o,fileList:this.state.fileList,accept:".png, jpg, jpeg",onChange:function(t){return e.uploadChange(t)}}),s.a.createElement(Ha.a,null,s.a.createElement(Ga.a,{type:"upload"})," Click to add a photo.")))),s.a.createElement(Ta.a.Item,{className:"collection-create-form_last-form-item"},c("reserveable",{initialValue:["reserveable"]})(s.a.createElement(_a.a.Group,{style:{width:"100%"}},s.a.createElement(Pa.a,null,s.a.createElement(Ma.a,{span:24},s.a.createElement(_a.a,{value:"reserveable",disabled:o},"Reserveable")))))),s.a.createElement(Ta.a.Item,{className:"collection-create-form_last-form-item"},c("activeStatus",{rules:[{required:!0,whitespace:!0,message:"Please choose an active status for this room."}],initialValue:"active"})(s.a.createElement(Rn.a.Group,null,s.a.createElement(Rn.a,{disabled:o,value:"active"},"Active"),s.a.createElement(Rn.a,{disabled:o,value:"inactive"},"Inactive"))))))}}]),t}(s.a.Component),Xn=Ta.a.create({name:"createRoomForm"})(Wn),Zn=function(e){function t(){var e,a;Object(le.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(ya.a)(this,(e=Object(Da.a)(t)).call.apply(e,[this].concat(r)))).state={currentList:"active",createRoomFormVisible:!1},a.handleClick=function(e){var t=e.key;"active"!==t&&"inactive"!==t||a.setState({currentList:t})},a.showCreateRoomFormModal=function(){a.setState({createRoomFormVisible:!0})},a.hideCreateRoomFormModal=function(){a.setState({createRoomFormVisible:!1});var e=a.createRoomFormRef.props.form;a.createRoomFormRef.setState({fileList:[]}),e.setFields({roomName:{value:null},capacity:{value:null},standardAmenities:{value:null},reserveable:{value:"reserveable"},activeStatus:{value:"active"},uploadPhoto:{value:[]},keys:{value:null}})},a.handleCreateRoom=function(){a.createRoomFormRef.props.form.validateFields(function(e,t){if(!e){var n=t.roomName,r=t.standardAmenities,i=!1;!0===t.reserveable.includes("reserveable")&&(i=!0);var o=!1;"active"===t.activeStatus&&(o=!0);var s=t.capacity,c=a.props.currentOfficeUID,l=null,u=t.uploadPhoto||null;if(u)l=u[0].originFileObj;var d={roomName:n,capacity:s,standardAmenities:r,selectedOfficeUID:c,reserveable:i,activeStatus:o,photoFileObj:l,hideForm:a.hideCreateRoomFormModal};a.props.createConferenceRoom(d)}})},a.handleCancelCreateRoom=function(){a.hideCreateRoomFormModal()},a.saveCreateRoomFormRef=function(e){a.createRoomFormRef=e},a}return Object(Ua.a)(t,e),Object(Aa.a)(t,[{key:"componentDidMount",value:function(){if(this.props.match.isExact){var e=this.props.match.params.officeUID,t=this.props.userAdminOfficeList,a=null;for(var n in t){var r=t[n];r.uid===e&&(a=r)}var i=gn("homePageOfficeAdmin",{officeUID:e,officeObj:a});i&&this.props.changePage(i);var o=gn("conferenceRoomsPageOfficeAdmin");o&&(this.props.changePage(o),this.props.loadConferenceRooms(e))}}},{key:"componentDidUpdate",value:function(e,t,a){var n=e.currentOfficeUID,r=this.props.currentOfficeUID;n!==r&&this.props.loadConferenceRooms(r)}},{key:"render",value:function(){var e=this,t=[];return"active"===this.state.currentList?t=this.props.activeRoomsList:"inactive"===this.state.currentList&&(t=this.props.inactiveRoomsList),s.a.createElement("div",{style:{backgroundColor:"#FFFFFF"}},s.a.createElement(Xn,{wrappedComponentRef:function(t){return e.saveCreateRoomFormRef(t)},visible:this.state.createRoomFormVisible,onCancel:this.handleCancelCreateRoom,onCreate:this.handleCreateRoom,confirmLoading:this.props.addRoomFormLoading}),s.a.createElement(Pa.a,null,s.a.createElement(Ma.a,{className:"wide-table",span:24},s.a.createElement("h1",null,"Conference Rooms"),s.a.createElement("div",null,s.a.createElement(fn.a,{onClick:function(){return e.props.loadConferenceRooms(e.props.currentOfficeUID)}},s.a.createElement(dn.a,null)),s.a.createElement(Xa.a,{className:"inlineDisplay",style:{border:0},onClick:this.handleClick,defaultSelectedKeys:[this.state.currentList],mode:"horizontal"},s.a.createElement(Xa.a.Item,{key:"active"},"Active"),s.a.createElement(Xa.a.Item,{key:"inactive"},"Inactive")),s.a.createElement(Ha.a,{className:"inlineDisplay rightAlign",type:"primary",onClick:this.showCreateRoomFormModal},"Add Room")),s.a.createElement(zn,{dataSource:t}))))}}]),t}(s.a.Component),Qn=Object(La.a)(Object(u.b)(function(e){return{userAdminOfficeList:e.auth.adminOfficeList,activeRoomsList:e.officeAdmin.activeRoomsList,inactiveRoomsList:e.officeAdmin.inactiveRoomsList,isLoadingRoomsData:e.officeAdmin.isLoadingUserData,currentOfficeUID:e.general.currentOfficeAdminUID,addRoomFormLoading:e.officeAdmin.addRoomFormLoading}},function(e){return{createConferenceRoom:function(t){return e(function(e){return{type:Z,payload:Object(f.a)({},e,{amenities:e.standardAmenities})}}(t))},loadConferenceRooms:function(t){return e(function(e){return{type:j,payload:{officeUID:e}}}(t))},changePage:function(t){return e(en(t))}}})(Zn)),Jn=function(e){function t(){var e,a;Object(le.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(ya.a)(this,(e=Object(Da.a)(t)).call.apply(e,[this].concat(r)))).state={fileList:[]},a.deskPhotoFile=function(e){return Array.isArray(e)?(a.setState({fileList:e}),e):(a.setState({fileList:e.fileList||e}),e&&e.fileList)},a}return Object(Ua.a)(t,e),Object(Aa.a)(t,[{key:"uploadChange",value:function(e){"uploading"!==e.file.status&&console.log(e.file,e.fileList),"done"===e.file.status?_n.a.success("".concat(e.file.name," file uploaded successfully")):"error"===e.file.status&&_n.a.error("".concat(e.file.name," file upload failed."))}},{key:"render",value:function(){var e=this,t=this.props,a=t.visible,n=t.onCancel,r=t.onCreate,i=t.confirmLoading,o=t.form.getFieldDecorator,c=!1;return this.state.fileList.length>=1&&(c=!0),s.a.createElement(Cn.a,{visible:a,title:"Edit Hot Desk",okText:"Save",onCancel:n,onOk:r,confirmLoading:i},s.a.createElement(Ta.a,{layout:"vertical"},s.a.createElement(Ta.a.Item,{label:"Desk Name"},o("deskName",{rules:[{required:!0,whitespace:!0,message:"Please input the room's name."}]})(s.a.createElement(Va.a,{disabled:i}))),s.a.createElement(Ta.a.Item,Object.assign({},{labelCol:{xs:{span:24},sm:{span:4}},wrapperCol:{xs:{span:24},sm:{span:20}}},{label:"Upload Image"}),o("uploadPhoto",{getValueFromEvent:this.deskPhotoFile})(s.a.createElement(Bn.a,Object.assign({},{name:"file",action:"//jsonplaceholder.typicode.com/posts/",headers:{authorization:"authorization-text"}},{disabled:c||i,fileList:this.state.fileList,accept:".png, jpg, jpeg",onChange:function(t){return e.uploadChange(t)}}),s.a.createElement(Ha.a,null,s.a.createElement(Ga.a,{type:"upload"})," Click to Upload")))),s.a.createElement(Ta.a.Item,{className:"collection-create-form_last-form-item"},o("reserveable",{initialValue:["reserveable"]})(s.a.createElement(_a.a.Group,{style:{width:"100%"}},s.a.createElement(Pa.a,null,s.a.createElement(Ma.a,{span:24},s.a.createElement(_a.a,{value:"reserveable",disabled:i},"Reserveable")))))),s.a.createElement(Ta.a.Item,{className:"collection-create-form_last-form-item"},o("activeStatus",{rules:[{required:!0,whitespace:!0,message:"Please choose an active status for this room."}],initialValue:"active"})(s.a.createElement(Rn.a.Group,null,s.a.createElement(Rn.a,{value:"active",disabled:i},"Active"),s.a.createElement(Rn.a,{value:"inactive",disabled:i},"Inactive"))))))}}]),t}(s.a.Component),$n=Ta.a.create({name:"editDeskForm"})(Jn),er=function(e){function t(){var e,a;Object(le.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(ya.a)(this,(e=Object(Da.a)(t)).call.apply(e,[this].concat(r)))).state={selectedDesk:null,editDeskFormVisible:!1},a.columns=[{title:"Name",dataIndex:"name",sorter:function(e,t){var a=e.name,n=t.name;return a<n?-1:a>n?1:0},sortDirections:["descend","ascend"]},{title:"Reserveable",dataIndex:"reserveable",key:"reserveable",render:function(e){return!0===e?s.a.createElement("span",null,s.a.createElement(nn.a,{color:"blue"},"Reserveable")):null}},{title:"",dataIndex:"uid",key:"more",render:function(e){return s.a.createElement(Ja.a,{overlay:function(){return a.editMenu(e)},trigger:["click"]},s.a.createElement(fn.a,null,s.a.createElement(jn.a,null)))}}],a.editMenu=function(e){return s.a.createElement(Xa.a,{onClick:function(t){return a.handleEditMenuClick(t,e)},style:{textAlign:"left",border:0}},s.a.createElement(Xa.a.Item,{key:"edit"},"Edit Desk Info"))},a.handleEditMenuClick=function(e,t){var n=e.key,r=a.props.dataSource,i=null;for(var o in r){var s=r[o];if(t===s.uid){a.setState({selectedDesk:s}),i=s;break}}null!=i&&("edit"===n&&(a.editDeskFormRef.props.form.setFields({deskName:{value:i.name},reserveable:{value:!0===i.reserveable?["reserveable"]:[]},activeStatus:{value:!0===i.active?"active":"inactive"}}),a.setState({editDeskFormVisible:!0})))},a.handleCreateEditDesk=function(){a.editDeskFormRef.props.form.validateFields(function(e,t){if(!e){var n=t.deskName,r=!1;!0===t.reserveable.includes("reserveable")&&(r=!0);var i=!1;"active"===t.activeStatus&&(i=!0);var o=null,s=t.uploadPhoto||null;if(s)o=s[0].originFileObj;var c={selectedDeskUID:a.state.selectedDesk.uid,deskName:n,reserveable:r,activeStatus:i,photoFileObj:o,hideForm:a.hideEditDeskForm,selectedOfficeUID:a.props.currentOfficeUID};a.props.editHotDesk(c)}})},a.handleCancelEditDesk=function(){a.hideEditDeskForm()},a.hideEditDeskForm=function(){a.setState({editDeskFormVisible:!1}),a.editDeskFormRef.setState({fileList:[]}),a.editDeskFormRef.props.form.setFields({deskName:{value:null},reserveable:{value:[]},activeStatus:{value:null}})},a.saveEditDeskFormRef=function(e){a.editDeskFormRef=e},a}return Object(Ua.a)(t,e),Object(Aa.a)(t,[{key:"componentDidMount",value:function(){this.props.loadHotDesks(this.props.currentOfficeUID)}},{key:"render",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement($n,{wrappedComponentRef:function(t){return e.saveEditDeskFormRef(t)},visible:this.state.editDeskFormVisible,onCancel:this.handleCancelEditDesk,onCreate:this.handleCreateEditDesk,confirmLoading:this.props.editDeskFormLoading}),s.a.createElement(Ln.a,{columns:this.columns,dataSource:this.props.dataSource,pagination:!1,loading:this.props.isLoadingHotDesksData}))}}]),t}(s.a.Component),tr=Object(u.b)(function(e){return{editDeskFormLoading:e.officeAdmin.editDeskFormLoading,desksList:e.officeAdmin.desksList,currentOfficeUID:e.general.currentOfficeAdminUID,isLoadingHotDesksData:e.officeAdmin.isLoadingHotDesksData}},function(e){return{editHotDesk:function(t){return e(function(e){return{type:ae,payload:Object(f.a)({},e)}}(t))},loadHotDesks:function(t){return e(hn(t))}}})(er),ar=function(e){function t(){var e,a;Object(le.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(ya.a)(this,(e=Object(Da.a)(t)).call.apply(e,[this].concat(r)))).state={fileList:[]},a.deskPhotoFile=function(e){return Array.isArray(e)?(a.setState({fileList:e}),e):(a.setState({fileList:e.fileList||e}),e&&e.fileList)},a}return Object(Ua.a)(t,e),Object(Aa.a)(t,[{key:"uploadChange",value:function(e){"uploading"!==e.file.status&&console.log(e.file,e.fileList),"done"===e.file.status?_n.a.success("".concat(e.file.name," file uploaded successfully")):"error"===e.file.status&&_n.a.error("".concat(e.file.name," file upload failed."))}},{key:"render",value:function(){var e=this,t=this.props,a=t.visible,n=t.onCancel,r=t.onCreate,i=t.confirmLoading,o=t.form.getFieldDecorator,c=!1;return this.state.fileList.length>=1&&(c=!0),s.a.createElement(Cn.a,{visible:a,title:"Add a Hot Desk",okText:"Add",onCancel:n,onOk:r,confirmLoading:i},s.a.createElement(Ta.a,{layout:"vertical"},s.a.createElement(Ta.a.Item,{label:"Desk Name"},o("deskName",{rules:[{required:!0,whitespace:!0,message:"Please input the room's name."}]})(s.a.createElement(Va.a,{disabled:i}))),s.a.createElement(Ta.a.Item,Object.assign({},{labelCol:{xs:{span:24},sm:{span:4}},wrapperCol:{xs:{span:24},sm:{span:20}}},{label:"Upload Image"}),o("uploadPhoto",{getValueFromEvent:this.deskPhotoFile})(s.a.createElement(Bn.a,Object.assign({},{name:"file",action:"//jsonplaceholder.typicode.com/posts/",headers:{authorization:"authorization-text"}},{disabled:c||i,fileList:this.state.fileList,accept:".png, jpg, jpeg",onChange:function(t){return e.uploadChange(t)}}),s.a.createElement(Ha.a,null,s.a.createElement(Ga.a,{type:"upload"})," Click to Upload")))),s.a.createElement(Ta.a.Item,{className:"collection-create-form_last-form-item"},o("reserveable",{initialValue:["reserveable"]})(s.a.createElement(_a.a.Group,{style:{width:"100%"}},s.a.createElement(Pa.a,null,s.a.createElement(Ma.a,{span:24},s.a.createElement(_a.a,{value:"reserveable",disabled:i},"Reserveable")))))),s.a.createElement(Ta.a.Item,{className:"collection-create-form_last-form-item"},o("activeStatus",{rules:[{required:!0,whitespace:!0,message:"Please choose an active status for this room."}],initialValue:"active"})(s.a.createElement(Rn.a.Group,null,s.a.createElement(Rn.a,{value:"active",disabled:i},"Active"),s.a.createElement(Rn.a,{value:"inactive",disabled:i},"Inactive"))))))}}]),t}(s.a.Component),nr=Ta.a.create({name:"createDeskForm"})(ar),rr=function(e){function t(){var e,a;Object(le.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(ya.a)(this,(e=Object(Da.a)(t)).call.apply(e,[this].concat(r)))).state={currentList:"active",createDeskFormVisible:!1},a.showCreateDeskFormModal=function(){a.setState({createDeskFormVisible:!0})},a.handleConfirmCreateDesk=function(){a.createDeskFormRef.props.form.validateFields(function(e,t){if(!e){var n=t.deskName,r=!1;!0===t.reserveable.includes("reserveable")&&(r=!0);var i=!1;"active"===t.activeStatus&&(i=!0);var o=null,s=t.uploadPhoto||null;if(s)o=s[0].originFileObj;var c={deskName:n,selectedOfficeUID:a.props.currentOfficeUID,reserveable:r,activeStatus:i,photoFileObj:o,hideForm:a.hideCreateDeskForm};a.props.createHotDesk(c)}})},a.handleCancelCreateDesk=function(){a.hideCreateDeskForm()},a.hideCreateDeskForm=function(){a.setState({createDeskFormVisible:!1});var e=a.createDeskFormRef.props.form;a.createDeskFormRef.setState({fileList:[]}),e.setFields({deskName:{value:null},reserveable:{value:["reserveable"]},activeStatus:{value:"active"},uploadPhoto:{value:[]}})},a.saveCreateDeskFormRef=function(e){a.createDeskFormRef=e},a.handleClick=function(e){var t=e.key;"active"!==t&&"inactive"!==t||a.setState({currentList:t})},a}return Object(Ua.a)(t,e),Object(Aa.a)(t,[{key:"componentDidMount",value:function(){if(this.props.match.isExact){var e=this.props.match.params.officeUID,t=this.props.userAdminOfficeList,a=null;for(var n in t){var r=t[n];r.uid===e&&(a=r)}var i=gn("homePageOfficeAdmin",{officeUID:e,officeObj:a});i&&this.props.changePage(i);var o=gn("hotDesksPageOfficeAdmin");o&&this.props.changePage(o)}}},{key:"componentDidUpdate",value:function(e,t,a){var n=e.currentOfficeUID,r=this.props.currentOfficeUID;n!==r&&this.props.loadHotDesks(r)}},{key:"render",value:function(){var e=this,t=[];return"active"===this.state.currentList?t=this.props.activeDesksList:"inactive"===this.state.currentList&&(t=this.props.inactiveDesksList),s.a.createElement("div",null,s.a.createElement(Pa.a,null,s.a.createElement(Ma.a,{className:"wide-table",span:24},s.a.createElement("h1",null,"Hot Desks"),s.a.createElement(nr,{wrappedComponentRef:function(t){return e.saveCreateDeskFormRef(t)},visible:this.state.createDeskFormVisible,onCancel:this.handleCancelCreateDesk,onCreate:this.handleConfirmCreateDesk,confirmLoading:this.props.createDeskFormLoading}),s.a.createElement("div",null,s.a.createElement(fn.a,{className:"inlineDisplay",onClick:function(){return e.props.loadHotDesks(e.props.currentOfficeUID)}},s.a.createElement(dn.a,null)),s.a.createElement(Xa.a,{className:"inlineDisplay",style:{border:0},onClick:this.handleClick,selectedKeys:[this.state.currentList],mode:"horizontal"},s.a.createElement(Xa.a.Item,{key:"active"},"Active"),s.a.createElement(Xa.a.Item,{key:"inactive"},"Inactive")),s.a.createElement(Ha.a,{className:"inlineDisplay rightAlign",type:"primary",onClick:this.showCreateDeskFormModal},"Add Hot Desk")),s.a.createElement(tr,{dataSource:t}))))}}]),t}(s.a.Component),ir=Object(La.a)(Object(u.b)(function(e){return{createDeskFormLoading:e.officeAdmin.createDeskFormLoading,activeDesksList:e.officeAdmin.activeDesksList,inactiveDesksList:e.officeAdmin.inactiveDesksList,isLoadingHotDesksData:e.officeAdmin.isLoadingUserData,currentOfficeUID:e.general.currentOfficeAdminUID,user:e.auth.user,userAdminOfficeList:e.auth.adminOfficeList}},function(e){return{createHotDesk:function(t){return e(function(e){return{type:ee,payload:Object(f.a)({},e)}}(t))},loadHotDesks:function(t){return e(hn(t))},changePage:function(t){return e(en(t))}}})(rr)),or=a(26),sr=function(e){function t(){var e,a;Object(le.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(ya.a)(this,(e=Object(Da.a)(t)).call.apply(e,[this].concat(r)))).columns=[{title:"Name",dataIndex:"name",sorter:function(e,t){var a=e.name,n=t.name;return a<n?-1:a>n?1:0},sortDirections:["descend","ascend"]},{title:"Email",dataIndex:"email"},{title:"Status",dataIndex:"arrived",key:"arrived",render:function(e,t){return s.a.createElement("div",{style:e?{color:"green"}:{color:"black"}},e?s.a.createElement("span",null,"Arrived ",s.a.createElement(Ga.a,{type:"check-circle",theme:"twoTone",twoToneColor:"#52c41a"})):s.a.createElement("span",null,"Expected ",or(t.expectedVisitDate).format("ddd MMM DD, YYYY")," at ",or(t.expectedVisitDate).format("hh:mm a")))},filters:[{text:"Arrived",value:!0},{text:"Not Arrived",value:!1}],onFilter:function(e,t){return t.arrived.toString()==e}}],a}return Object(Ua.a)(t,e),Object(Aa.a)(t,[{key:"render",value:function(){return s.a.createElement(Ln.a,{columns:this.columns,dataSource:this.props.dataSource,loading:this.props.isLoadingGuestsData,pagination:!1})}}]),t}(s.a.Component),cr=Object(u.b)(function(e){return{isLoadingGuestsData:e.officeAdmin.isLoadingGuestsData}},null)(sr),lr=function(e){function t(){var e,a;Object(le.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(ya.a)(this,(e=Object(Da.a)(t)).call.apply(e,[this].concat(r)))).state={currentList:"upcoming"},a.upcomingDataSource=[{key:"1",name:"Aditya Gunda",email:"adityagunda@uchicago.edu",arrived:!0,expectedVisitDate:"Febryary 4, 2019"},{key:"2",name:"Diego Ibarra",email:"diegoibarra@uchicago.edu",arrived:!1,expectedVisitDate:"February 2, 2019"}],a.pastDataSource=[{key:"3",name:"Soheil Ebadat",email:"soheilebadat@uchicago.edu",arrived:!0,expectedVisitDate:"January 1, 2019"},{key:"4",name:"Tim Koenning",email:"timkoenning@uchicago.edu",arrived:!0,expectedVisitDate:"January 13, 2019"}],a.handleClick=function(e){var t=e.key;"upcoming"!==t&&"past"!==t||a.setState({currentList:t})},a}return Object(Ua.a)(t,e),Object(Aa.a)(t,[{key:"componentDidMount",value:function(){if(this.props.match.isExact){var e=this.props.match.params.officeUID,t=this.props.userAdminOfficeList,a=null;for(var n in t){var r=t[n];r.uid===e&&(a=r)}var i=gn("homePageOfficeAdmin",{officeUID:e,officeObj:a});i&&this.props.changePage(i);var o=gn("registeredGuestsPageOfficeAdmin");o&&(this.props.changePage(o),this.props.loadRegisteredGuests(e))}}},{key:"componentDidUpdate",value:function(e,t,a){var n=e.currentOfficeUID,r=this.props.currentOfficeUID;n!==r&&this.props.loadRegisteredGuests(r)}},{key:"render",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement(Pa.a,null,s.a.createElement(Ma.a,{className:"wide-table",span:24},s.a.createElement("h1",null,"Registered Guests"),s.a.createElement(fn.a,{className:"inlineDisplay",onClick:function(){return e.props.loadRegisteredGuests(e.props.currentOfficeUID)}},s.a.createElement(dn.a,null)),s.a.createElement(cr,{dataSource:this.props.guestsList}))))}}]),t}(s.a.Component),ur=Object(La.a)(Object(u.b)(function(e){return{userAdminOfficeList:e.auth.adminOfficeList,guestsList:e.officeAdmin.guestsList,currentOfficeUID:e.general.currentOfficeAdminUID}},function(e){return{loadRegisteredGuests:function(t){return e(function(e){return{type:N,payload:{officeUID:e}}}(t))},changePage:function(t){return e(en(t))}}})(lr)),dr=a(694),mr=dr.a.RangePicker,fr=function(e){function t(){var e,a;Object(le.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(ya.a)(this,(e=Object(Da.a)(t)).call.apply(e,[this].concat(r)))).state={fileList:[]},a.roomPhotoFile=function(e){return Array.isArray(e)?(a.setState({fileList:e}),e):(a.setState({fileList:e.fileList||e}),e&&e.fileList)},a}return Object(Ua.a)(t,e),Object(Aa.a)(t,[{key:"uploadChange",value:function(e){"uploading"!==e.file.status&&console.log(e.file,e.fileList),"done"===e.file.status?_n.a.success("".concat(e.file.name," file uploaded successfully")):"error"===e.file.status&&_n.a.error("".concat(e.file.name," file upload failed."))}},{key:"render",value:function(){var e=this,t=this.props,a=(t.visible,t.onCancel,t.onCreate,t.form),n=t.confirmLoading,r=a.getFieldDecorator,i=(a.getFieldValue,{labelCol:{xs:{span:24},sm:{span:4}},wrapperCol:{xs:{span:24},sm:{span:20}}});r("keys",{initialValue:[]});var o=!1;this.state.fileList.length>=1&&(o=!0);this.props.event;return s.a.createElement(Ta.a,{layout:"vertical"},s.a.createElement(Ta.a.Item,{label:"Event Name"},r("roomName",{rules:[{required:!0,whitespace:!0,message:"Please input the room's name."}]})(s.a.createElement(Va.a,{disabled:n}))),s.a.createElement(Ta.a.Item,Object.assign({},i,{label:"Event Date"}),r("range-time-picker",{rules:[{type:"array",required:!0,message:"Please select time!"}]})(s.a.createElement(mr,{showTime:!0,format:"YYYY-MM-DD HH:mm:ss"}))),s.a.createElement(Ta.a.Item,{label:"Description"},r("description",{rules:[{required:!0,whitespace:!0,message:"Please input a description."}]})(s.a.createElement(Va.a.TextArea,null))),s.a.createElement(Ta.a.Item,Object.assign({},i,{label:"Upload Image"}),r("uploadPhoto",{getValueFromEvent:this.eventPhotoFile})(s.a.createElement(Bn.a,Object.assign({},{name:"file",action:"//jsonplaceholder.typicode.com/posts/",headers:{authorization:"authorization-text"}},{disabled:o||n,fileList:this.state.fileList,accept:".png, jpg, jpeg",onChange:function(t){return e.uploadChange(t)}}),s.a.createElement(Ha.a,null,s.a.createElement(Ga.a,{type:"upload"})," Click to add a photo.")))))}}]),t}(s.a.Component),pr=Ta.a.create({name:"editEventForm"})(fr),hr=a(26),vr=Na.a.Meta,gr=function(e){function t(){var e,a;Object(le.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(ya.a)(this,(e=Object(Da.a)(t)).call.apply(e,[this].concat(r)))).state={showModal:!1,showInfo:!1,showEditForm:!1},a.handleOk=function(e,t){console.log(t),a.setState({showInfo:!1,showEditForm:!0})},a.handleCancel=function(e){console.log(e),a.setState({showInfo:!1,showEditForm:!1,showModal:!1})},a.handleModalClick=function(){a.setState({showModal:!0,showInfo:!0})},a.saveEditEventFormRef=function(e){a.editEventFormRef=e,console.log(a.editEventFormRef)},a}return Object(Ua.a)(t,e),Object(Aa.a)(t,[{key:"calcDate",value:function(e){return hr(e).format("MMM Do YY")}},{key:"formatDescription",value:function(e){var t=hr(e.startDate).format("ddd MMM DD, YYYY")+": ";return t+=hr(e.startDate).format("hh:mm a")+" - "+hr(e.endDate).format("hh:mm a")}},{key:"render",value:function(){var e=this,t=this.props.event;return s.a.createElement("div",null,s.a.createElement(Ma.a,{span:8},s.a.createElement(Cn.a,{visible:this.state.showModal,onOk:function(a){return e.handleOk(a,t)},okText:"Edit",onCancel:this.handleCancel,className:"page-nav-menu",bordered:!1},this.state.showInfo?s.a.createElement("div",null,s.a.createElement(Pa.a,{gutter:16},s.a.createElement(Ma.a,{span:8},s.a.createElement(Na.a,{cover:s.a.createElement("img",{alt:"example",src:t.imageURL}),onClick:function(t){return e.handleModalClick(t)},bordered:!1})),s.a.createElement(Ma.a,{span:16},s.a.createElement("h2",null,t.title),s.a.createElement("span",null,this.formatDescription(t)))),s.a.createElement("span",null,t.description)):s.a.createElement("div",null,s.a.createElement(pr,{showEditForm:this.state.showEditForm,wrappedComponentRef:function(t){return e.saveEditEventFormRef(t)},event:t}))),s.a.createElement(Na.a,{bordered:!1,hoverable:!0,cover:s.a.createElement("img",{alt:"example",src:t.imageURL}),onClick:function(t){return e.handleModalClick(t)}},s.a.createElement(vr,{title:t.title,description:this.formatDescription(t)}))))}}]),t}(s.a.Component),br=Object(u.b)(null,null)(gr),Er=a(26),Or=(Na.a.Meta,function(e){function t(){var e,a;Object(le.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(ya.a)(this,(e=Object(Da.a)(t)).call.apply(e,[this].concat(r)))).state={visible:!1},a.handleOk=function(e){console.log(e),a.setState({visible:!1})},a.handleCancel=function(e){console.log(e),a.setState({visible:!1})},a.handleModalClick=function(){a.setState({visible:!0})},a}return Object(Ua.a)(t,e),Object(Aa.a)(t,[{key:"calcDate",value:function(e){return Er(e).format("MMM Do YY")}},{key:"formatDescription",value:function(e){var t=Er(e.startDate).format("ddd MMM DD, YYYY")+": ";return t+=Er(e.endDate).format("hh:mm a")+" - "+Er(e.endDate).format("hh:mm a")}},{key:"render",value:function(){var e=this.props.upcomingEventsList;return"past"==this.props.currentList&&(e=this.props.pastEventsList),s.a.createElement("div",null,s.a.createElement("div",{style:{padding:"30px"}},s.a.createElement(Pa.a,{gutter:16},e.map(function(e){return s.a.createElement(br,{event:e})}))))}}]),t}(s.a.Component)),Ar=Object(u.b)(function(e){return{currentOfficeUID:e.general.currentOfficeAdminUID,upcomingEventsList:e.officeAdmin.upcomingEventsList,pastEventsList:e.officeAdmin.pastEventsList,isLoadingEventsData:e.officeAdmin.isLoadingUserData}},null)(Or),yr=a(127),Dr=a(330),Ur=a(231),Fr=a.n(Ur),kr=a(329),Lr=a.n(kr),Ir=[{url:"http://schroedersolutions.com/wp-content/uploads/2017/07/googleinterior.jpg",title:"General Meeting",width:"40%"},{url:"https://blog.nus.edu.sg/audreyc/files/2015/03/003-10j72tl.jpg",title:"Product Launch",width:"30%"},{url:"https://i.pinimg.com/474x/3a/67/8f/3a678f7df7e3378976d73d332bc609fa.jpg",title:"Performance Evaluation Feedback",width:"30%"}];Object(Dr.withStyles)(function(e){var t;return{root:{display:"flex",flexWrap:"wrap",minWidth:300,width:"100%"},image:(t={position:"relative",height:200},Object(yr.a)(t,e.breakpoints.down("xs"),{width:"100% !important",height:100}),Object(yr.a)(t,"&:hover, &$focusVisible",{zIndex:1,"& $imageBackdrop":{opacity:.15},"& $imageMarked":{opacity:0},"& $imageTitle":{border:"4px solid currentColor"}}),t),focusVisible:{},imageButton:{position:"absolute",left:0,right:0,top:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",color:e.palette.common.white},imageSrc:{position:"absolute",left:0,right:0,top:0,bottom:0,backgroundSize:"cover",backgroundPosition:"center 40%"},imageBackdrop:{position:"absolute",left:0,right:0,top:0,bottom:0,backgroundColor:e.palette.common.black,opacity:.4,transition:e.transitions.create("opacity")},imageTitle:{position:"relative",padding:"".concat(2*e.spacing.unit,"px ").concat(4*e.spacing.unit,"px ").concat(e.spacing.unit+6,"px")},imageMarked:{height:3,width:18,backgroundColor:e.palette.common.white,position:"absolute",bottom:-2,left:"calc(50% - 9px)",transition:e.transitions.create("opacity")}}})(function(e){var t=e.classes;return s.a.createElement("div",{className:t.root},Ir.map(function(e){return s.a.createElement(Fr.a,{focusRipple:!0,key:e.title,className:t.image,focusVisibleClassName:t.focusVisible,style:{width:e.width}},s.a.createElement("span",{className:t.imageSrc,style:{backgroundImage:"url(".concat(e.url,")")}}),s.a.createElement("span",{className:t.imageBackdrop}),s.a.createElement("span",{className:t.imageButton},s.a.createElement(Lr.a,{component:"span",variant:"subtitle1",color:"inherit",className:t.imageTitle},e.title,s.a.createElement("span",{className:t.imageMarked}))))}))});var jr=dr.a.RangePicker,Cr=function(e){function t(){var e,a;Object(le.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(ya.a)(this,(e=Object(Da.a)(t)).call.apply(e,[this].concat(r)))).state={fileList:[]},a.eventPhotoFile=function(e){return Array.isArray(e)?(a.setState({fileList:e}),e):(a.setState({fileList:e.fileList||e}),e&&e.fileList)},a}return Object(Ua.a)(t,e),Object(Aa.a)(t,[{key:"uploadChange",value:function(e){"uploading"!==e.file.status&&console.log(e.file,e.fileList),"done"===e.file.status?_n.a.success("".concat(e.file.name," file uploaded successfully")):"error"===e.file.status&&_n.a.error("".concat(e.file.name," file upload failed."))}},{key:"render",value:function(){var e=this,t=this.props,a=t.visible,n=t.onCancel,r=t.onCreate,i=t.form,o=t.confirmLoading,c=i.getFieldDecorator,l=i.getFieldValue,u={labelCol:{xs:{span:24},sm:{span:4}},wrapperCol:{xs:{span:24},sm:{span:20}}};c("keys",{initialValue:[]});l("keys");var d=!1;this.state.fileList.length>=1&&(d=!0);return s.a.createElement(Cn.a,{visible:a,title:"Add an Event",okText:"Add",onCancel:n,onOk:r,confirmLoading:o},s.a.createElement(Ta.a,{layout:"vertical"},s.a.createElement(Ta.a.Item,{label:"Event Name"},c("roomName",{rules:[{required:!0,whitespace:!0,message:"Please input the room's name."}]})(s.a.createElement(Va.a,{disabled:o}))),s.a.createElement(Ta.a.Item,Object.assign({},u,{label:"Event Date"}),c("range-time-picker",{rules:[{type:"array",required:!0,message:"Please select time!"}]})(s.a.createElement(jr,{showTime:!0,format:"MMMM Do YYYY, h:mm:ss a"}))),s.a.createElement(Ta.a.Item,{label:"Description"},c("description",{rules:[{required:!0,whitespace:!0,message:"Please input a description."}]})(s.a.createElement(Va.a.TextArea,null))),s.a.createElement(Ta.a.Item,Object.assign({},u,{label:"Upload Image"}),c("uploadPhoto",{getValueFromEvent:this.eventPhotoFile})(s.a.createElement(Bn.a,Object.assign({},{name:"file",action:"//jsonplaceholder.typicode.com/posts/",headers:{authorization:"authorization-text"}},{disabled:d||o,fileList:this.state.fileList,accept:".png, jpg, jpeg",onChange:function(t){return e.uploadChange(t)}}),s.a.createElement(Ha.a,null,s.a.createElement(Ga.a,{type:"upload"})," Click to add a photo."))))))}}]),t}(s.a.Component),Rr=Ta.a.create({name:"createEvent"})(Cr),wr=function(e){function t(){var e,a;Object(le.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(ya.a)(this,(e=Object(Da.a)(t)).call.apply(e,[this].concat(r)))).state={currentList:"upcoming",createEventFormVisible:!1},a.handleCreateEvent=function(){a.createEventFormRef.props.form.validateFields(function(e,t){if(!e){t.eventName,t.description,a.props.currentOfficeUID;var n=t.uploadPhoto||null;if(n)n[0].originFileObj;a.hideCreateEventFormModal}})},a.hideCreateEventFormModal=function(){a.setState({createEventFormVisible:!1})},a.handleCancelCreateEvent=function(){a.hideCreateEventFormModal()},a.showCreateEventFormModal=function(){a.setState({createEventFormVisible:!0})},a.handleClick=function(e){var t=e.key;"upcoming"!=t&&"past"!=t||a.setState({currentList:t})},a.saveCreateEventFormRef=function(e){a.createEventFormRef=e},a}return Object(Ua.a)(t,e),Object(Aa.a)(t,[{key:"componentDidMount",value:function(){if(this.props.match.isExact){var e=this.props.match.params.officeUID,t=this.props.userAdminOfficeList,a=null;for(var n in t){var r=t[n];r.uid===e&&(a=r)}var i=gn("homePageOfficeAdmin",{officeUID:e,officeObj:a});i&&this.props.changePage(i);var o=gn("registeredGuestsPageOfficeAdmin");o&&(this.props.changePage(o),this.props.loadEvents(this.props.currentOfficeAdminUID))}}},{key:"componentDidUpdate",value:function(e,t,a){e.currentOfficeUID!==this.props.currentOfficeUID&&this.props.loadEvents(this.props.currentOfficeAdminUID)}},{key:"render",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement(Pa.a,null,s.a.createElement(Ma.a,{className:"wide-table",span:24},s.a.createElement("h1",null,"Events"),s.a.createElement("div",null,s.a.createElement(Rr,{wrappedComponentRef:function(t){return e.saveCreateEventFormRef(t)},visible:this.state.createEventFormVisible,onCancel:this.handleCancelCreateEvent,onCreate:this.handleCreateEvent,confirmLoading:this.props.addEventFormLoading}),s.a.createElement(Xa.a,{onClick:function(t){return e.handleClick(t)},selectedKeys:[this.state.currentList],defaultSelectedKeys:[this.state.currentList],className:"page-nav-menu",mode:"horizontal"},s.a.createElement(fn.a,{className:"inlineDisplay",onClick:function(t){return e.handleClick(t)}},s.a.createElement(dn.a,null)),s.a.createElement(Xa.a.Item,{key:"upcoming"},"Upcoming"),s.a.createElement(Xa.a.Item,{key:"past"},"Past"),s.a.createElement(Ha.a,{className:"inlineDisplay rightAlign",type:"primary",onClick:this.showCreateEventFormModal},"Add Event"))),s.a.createElement(Ar,{currentList:this.state.currentList}),s.a.createElement("br",null),s.a.createElement("br",null))))}}]),t}(s.a.Component),Sr=Object(La.a)(Object(u.b)(function(e){return{userAdminOfficeList:e.auth.adminOfficeList,upcomingEventsList:e.officeAdmin.upcomingEventsList,pastEventsList:e.officeAdmin.pastEventsList,isLoadingEventsData:e.officeAdmin.isLoadingUserData,currentOfficeUID:e.general.currentOfficeAdminUID,currentOfficeAdminUID:e.general.currentOfficeAdminUID,addRoomFormLoading:e.officeAdmin.addRoomFormLoading}},function(e){return{loadEvents:function(t){return e(vn(t))},changePage:function(t){return e(en(t))},createEvent:function(t){return e(vn(t))}}})(wr)),xr=function(e){function t(){var e,a;Object(le.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(ya.a)(this,(e=Object(Da.a)(t)).call.apply(e,[this].concat(r)))).state={fileList:[]},a.spaceInfoFile=function(e){return Array.isArray(e)?(a.setState({fileList:e}),e):(a.setState({fileList:e.fileList||e}),e&&e.fileList)},a}return Object(Ua.a)(t,e),Object(Aa.a)(t,[{key:"uploadChange",value:function(e){"uploading"!==e.file.status&&console.log(e.file,e.fileList),"done"===e.file.status?_n.a.success("".concat(e.file.name," file uploaded successfully")):"error"===e.file.status&&_n.a.error("".concat(e.file.name," file upload failed."))}},{key:"render",value:function(){var e=this,t=this.props,a=t.visible,n=t.onCancel,r=t.onCreate,i=t.confirmLoading,o=t.uploadFormType,c=t.form.getFieldDecorator,l="";"onboarding"===o?l="Onboarding ":"floorplan"===o?l="Floor Plan ":"buildingdetails"===o&&(l="Building Details ");var u="Upload "+l+"File",d=!1;return this.state.fileList.length>=1&&(d=!0),s.a.createElement(Cn.a,{visible:a,title:u,okText:"Upload",onCancel:n,onOk:r,confirmLoading:i},s.a.createElement(Ta.a,{layout:"vertical"},s.a.createElement(Ta.a.Item,Object.assign({},{labelCol:{xs:{span:24},sm:{span:4}},wrapperCol:{xs:{span:24},sm:{span:20}}},{label:"Upload File"}),c("uploadFile",{getValueFromEvent:this.spaceInfoFile})(s.a.createElement(Bn.a,Object.assign({},{name:"file",action:"//jsonplaceholder.typicode.com/posts/",headers:{authorization:"authorization-text"}},{disabled:d||i,fileList:this.state.fileList,accept:".pdf",onChange:function(t){return e.uploadChange(t)}}),s.a.createElement(Ha.a,null,s.a.createElement(Ga.a,{type:"upload"})," Click to Upload"))))))}}]),t}(s.a.Component),Nr=Ta.a.create({name:"uploadSpaceInfoFileForm"})(xr),Pr=function(e){function t(){var e,a;Object(le.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(ya.a)(this,(e=Object(Da.a)(t)).call.apply(e,[this].concat(r)))).state={uploadFileFormVisible:!1,uploadFormType:null,uploadFormLoading:!1},a.showUploadFormRef=function(e){a.setState({uploadFileFormVisible:!0,uploadFormType:e})},a.saveUploadFormRef=function(e){a.uploadFormRef=e},a.handleCreateUploadForm=function(){var e=a.state.uploadFormType;a.uploadFormRef.props.form.validateFields(function(t,n){if(!t){var r=null,i=n.uploadFile||null;if(i)r=i[0].originFileObj;var o=a.props.firebase.storage.ref();if("onboarding"===e){var s=o.child("onboardingPDFs/"+a.props.currentOfficeUID+".pdf");return a.setState({uploadFormLoading:!0}),s.put(r).then(function(){a.setState({uploadFormLoading:!1}),a.hideUploadForm(),de.a.success({message:"Successfully uploaded file."})}).catch(function(e){console.error(e),a.setState({uploadFormLoading:!1}),de.a.error({message:"Unable to upload file.",description:e.message})})}if("floorplan"===e){var c=o.child("floorplanPDFs/"+a.props.currentOfficeUID+".pdf");return a.setState({uploadFormLoading:!0}),c.put(r).then(function(){a.setState({uploadFormLoading:!1}),a.hideUploadForm(),de.a.success({message:"Successfully uploaded file."})}).catch(function(e){console.error(e),a.setState({uploadFormLoading:!1}),de.a.error({message:"Unable to upload file.",description:e.message})})}if("buildingdetails"===e){var l=o.child("buildingDetailPDFs/"+a.props.currentOfficeUID+".pdf");return a.setState({uploadFormLoading:!0}),l.put(r).then(function(){a.setState({uploadFormLoading:!1}),a.hideUploadForm(),de.a.success({message:"Successfully uploaded file."})}).catch(function(e){console.error(e),a.setState({uploadFormLoading:!1}),de.a.error({message:"Unable to upload file.",description:e.message})})}}})},a.handleCancelUploadForm=function(){a.hideUploadForm()},a.hideUploadForm=function(){a.setState({uploadFileFormVisible:!1,uploadFormType:null}),a.uploadFormRef.setState({fileList:[]})},a}return Object(Ua.a)(t,e),Object(Aa.a)(t,[{key:"componentDidMount",value:function(){if(this.props.match.isExact){var e=this.props.match.params.officeUID,t=this.props.userAdminOfficeList,a=null;for(var n in t){var r=t[n];r.uid===e&&(a=r)}var i=gn("homePageOfficeAdmin",{officeUID:e,officeObj:a});i&&this.props.changePage(i);var o=gn("spaceInfoPageOfficeAdmin");o&&(this.props.changePage(o),this.props.loadSpaceInfo({officeUID:e}))}}},{key:"render",value:function(){var e=this,t=[{title:"Onboarding PDF",url:this.props.onboardingURL,type:"onboarding"},{title:"Floor Plan PDF",url:this.props.floorplanURL,type:"floorplan"},{title:"Building Details PDF",url:this.props.buildingDetailsURL,type:"buildingdetails"}];return s.a.createElement("div",null,s.a.createElement(Nr,{wrappedComponentRef:function(t){return e.saveUploadFormRef(t)},visible:this.state.uploadFileFormVisible,onCancel:this.handleCancelUploadForm,onCreate:this.handleCreateUploadForm,confirmLoading:this.state.uploadFormLoading,uploadFormType:this.state.uploadFormType}),s.a.createElement(Pa.a,null,s.a.createElement(Ma.a,{className:"wide-table",span:24},s.a.createElement("h1",null,"Space Info"),s.a.createElement("p",null,"These files will be available to everyone in your office space."),s.a.createElement(Za.a,{grid:{gutter:16,xs:1,sm:2,md:4,lg:4,xl:6,xxl:3},dataSource:t,renderItem:function(t){return s.a.createElement(Za.a.Item,null,s.a.createElement(Na.a,{title:t.title},s.a.createElement("div",null,null!==t.url?s.a.createElement(Ha.a,{type:"primary",style:{marginRight:15},onClick:function(){return window.open(t.url)},size:"large"},"Open File"):null,s.a.createElement(Ha.a,{type:"primary",onClick:function(){return e.showUploadFormRef(t.type)},size:"large",ghost:!0},null!==t.url?"Replace File":"Upload File"))))}}))))}}]),t}(s.a.Component),Mr=Object(La.a)(Object(u.b)(function(e){return{firebase:e.firebase.firebase,isLoadingSpaceInfo:e.officeAdmin.isLoadingSpaceInfo,onboardingURL:e.officeAdmin.onboardingURL,floorplanURL:e.officeAdmin.floorplanURL,buildingDetailsURL:e.officeAdmin.buildingDetailsURL,userAdminOfficeList:e.auth.adminOfficeList,currentOfficeUID:e.general.currentOfficeAdminUID}},function(e){return{loadSpaceInfo:function(t){return e(function(e){return{type:re,payload:{selectedOfficeUID:e.officeUID}}}(t))},changePage:function(t){return e(en(t))}}})(Pr)),Tr={apiKey:"AIzaSyBPUBLiY-FCuqpJLVibdr-RoiUt4wzbaLE",authDomain:"airspace-management-app.firebaseapp.com",databaseURL:"https://airspace-management-app.firebaseio.com",projectId:"airspace-management-app",storageBucket:"airspace-management-app.appspot.com",messagingSenderId:"927508779333"},Vr=function e(){Object(le.a)(this,e),Se.a.apps.length||Se.a.initializeApp(Tr),this.auth=Se.a.auth(),this.functions=Se.a.functions(),this.storage=Se.a.storage()},Gr=function(e){function t(){return Object(le.a)(this,t),Object(ya.a)(this,Object(Da.a)(t).apply(this,arguments))}return Object(Ua.a)(t,e),Object(Aa.a)(t,[{key:"componentWillMount",value:function(){null===this.props.firebase&&(this.firebase=new Vr,this.props.setUpFirebase(this.firebase))}},{key:"componentDidMount",value:function(){var e=this.firebase||null;if(e){var t=this.props;this.listener=e.auth.onAuthStateChanged(function(e){e?(t.setUpUser(e.uid),t.history.push("/")):(t.setUpUser(null),t.history.push("/login"))})}else console.log("firebase NOT set up in App.js render()")}},{key:"componentWillUnmount",value:function(){this.listener()}},{key:"renderPageContent",value:function(e){switch(e){case"homePageRegularUser":return null;case"userPageOfficeAdmin":return s.a.createElement(Gn,null);default:return null}}},{key:"render",value:function(){return this.props.user?s.a.createElement("div",null,s.a.createElement(Pa.a,null,s.a.createElement(Ma.a,{span:4},s.a.createElement(ln,null)),s.a.createElement(Ma.a,{span:20},s.a.createElement(an,null),s.a.createElement(Fa.a,null,s.a.createElement(ka.a,{path:"/officeAdmin",component:Hr}))))):s.a.createElement("div",null,s.a.createElement(Fa.a,null,s.a.createElement(ka.a,{path:"/",component:Wa}),s.a.createElement(ka.a,{path:"/login",component:Wa})))}}]),t}(o.Component),_r=Object(La.a)(Object(u.b)(function(e){return{user:e.auth.user,isLoading:e.general.isLoading,error:e.general.error,firebase:e.firebase.firebase,currentPage:e.general.currentPage}},function(e){return{setUpFirebase:function(t){return e(function(e){return{type:"SET_UP_FIREBASE",payload:{firebase:e}}}(t))},setUpUser:function(t){return e(function(e){return{type:D,payload:{uid:e}}}(t))}}})(Gr)),Hr=function(){return s.a.createElement(Fa.a,null,s.a.createElement(ka.a,{exact:!0,path:"/officeAdmin/:officeUID",component:Gn}),s.a.createElement(ka.a,{exact:!0,path:"/officeAdmin/:officeUID/users",component:Gn}),s.a.createElement(ka.a,{exact:!0,path:"/officeAdmin/:officeUID/conferenceRooms",component:Qn}),s.a.createElement(ka.a,{exact:!0,path:"/officeAdmin/:officeUID/hotDesks",component:ir}),s.a.createElement(ka.a,{exact:!0,path:"/officeAdmin/:officeUID/registeredGuests",component:ur}),s.a.createElement(ka.a,{exact:!0,path:"/officeAdmin/:officeUID/events",component:Sr}),s.a.createElement(ka.a,{exact:!0,path:"/officeAdmin/:officeUID/spaceInfo",component:Mr}))},Br=a(701),Yr=a(331),qr=s.a.createElement(Br.a,null,s.a.createElement(u.a,{store:Ea},s.a.createElement(Yr.a,{loading:null,persistor:Oa},s.a.createElement(_r,null))));l.a.render(qr,document.getElementById("root"))}},[[334,2,1]]]);
//# sourceMappingURL=main.016a2c9c.chunk.js.map